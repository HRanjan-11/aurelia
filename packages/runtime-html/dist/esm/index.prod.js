export{Platform,Task,TaskAbortError,TaskQueue,TaskQueuePriority,TaskStatus}from"@aurelia/platform";import{BrowserPlatform as e}from"@aurelia/platform-browser";export{BrowserPlatform}from"@aurelia/platform-browser";import{Protocol as t,getPrototypeChain as s,Metadata as i,firstDefined as n,kebabCase as r,noop as o,emptyArray as a,DI as l,all as h,Registration as c,IPlatform as u,mergeArrays as d,fromDefinitionOrDefault as p,pascalCase as g,fromAnnotationOrTypeOrDefault as f,fromAnnotationOrDefinitionOrTypeOrDefault as v,IContainer as m,nextId as b,optional as y,InstanceProvider as w,ILogger as x,isObject as k,onResolve as C,resolveAll as T,camelCase as A,toArray as $,emptyObject as E,IServiceLocator as S,compareNumber as O,transient as P}from"@aurelia/kernel";import{BindingMode as R,subscriberCollection as M,withFlushQueue as B,connectable as j,registerAliases as I,ConnectableSwitcher as L,ProxyObservable as V,Scope as N,IObserverLocator as q,IExpressionParser as D,AccessScopeExpression as F,DelegationStrategy as z,BindingBehaviorExpression as U,BindingBehaviorFactory as K,PrimitiveLiteralExpression as W,bindingBehavior as G,BindingInterceptor as H,ISignaler as _,PropertyAccessor as Q,INodeObserverLocator as X,SetterObserver as Y,IDirtyChecker as Z,alias as J,applyMutationsToIndices as ee,getCollectionObserver as te,BindingContext as se,synchronizeIndices as ie,valueConverter as ne}from"@aurelia/runtime";export{Access,AccessKeyedExpression,AccessMemberExpression,AccessScopeExpression,AccessThisExpression,AccessorType,ArrayBindingPattern,ArrayIndexObserver,ArrayLiteralExpression,ArrayObserver,AssignExpression,BinaryExpression,BindingBehavior,BindingBehaviorDefinition,BindingBehaviorExpression,BindingBehaviorFactory,BindingBehaviorStrategy,BindingContext,BindingIdentifier,BindingInterceptor,BindingMediator,BindingMode,BindingType,CallFunctionExpression,CallMemberExpression,CallScopeExpression,Char,CollectionKind,CollectionLengthObserver,CollectionSizeObserver,ComputedObserver,ConditionalExpression,CustomExpression,DelegationStrategy,DirtyCheckProperty,DirtyCheckSettings,ExpressionKind,ForOfStatement,HtmlLiteralExpression,IDirtyChecker,IExpressionParser,INodeObserverLocator,IObserverLocator,ISignaler,Interpolation,LifecycleFlags,MapObserver,ObjectBindingPattern,ObjectLiteralExpression,ObserverLocator,OverrideContext,ParserState,Precedence,PrimitiveLiteralExpression,PrimitiveObserver,PropertyAccessor,Scope,SetObserver,SetterObserver,TaggedTemplateExpression,TemplateExpression,UnaryExpression,ValueConverter,ValueConverterDefinition,ValueConverterExpression,alias,applyMutationsToIndices,bindingBehavior,cloneIndexMap,connectable,copyIndexMap,createIndexMap,disableArrayObservation,disableMapObservation,disableSetObservation,enableArrayObservation,enableMapObservation,enableSetObservation,getCollectionObserver,isIndexMap,observable,parse,parseExpression,registerAliases,subscriberCollection,synchronizeIndices,valueConverter}from"@aurelia/runtime";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function re(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o}function oe(e,t){return function(s,i){t(s,i,e)}}function ae(e,s){let n;function r(e,s){arguments.length>1&&(n.property=s),i.define(he.name,ce.create(s,n),e.constructor,s),t.annotation.appendTo(e.constructor,he.keyFrom(s))}return arguments.length>1?(n={},void r(e,s)):"string"==typeof e?(n={},r):(n=void 0===e?{}:e,r)}function le(e){return e.startsWith(he.name)}const he={name:t.annotation.keyFor("bindable"),keyFrom:e=>`${he.name}:${e}`,from(...e){const t={},s=Array.isArray;function i(e){t[e]=ce.create(e)}return e.forEach((function(e){s(e)?e.forEach(i):e instanceof ce?t[e.property]=e:void 0!==e&&Object.keys(e).forEach((s=>function(e,s){t[e]=s instanceof ce?s:ce.create(e,s)}(s,e[s])))})),t},for(e){let s;const n={add(r){let o,a;return"string"==typeof r?(o=r,a={property:o}):(o=r.property,a=r),s=ce.create(o,a),i.hasOwn(he.name,e,o)||t.annotation.appendTo(e,he.keyFrom(o)),i.define(he.name,s,e,o),n},mode:e=>(s.mode=e,n),callback:e=>(s.callback=e,n),attribute:e=>(s.attribute=e,n),primary:()=>(s.primary=!0,n),set:e=>(s.set=e,n)};return n},getAll(e){const n=he.name.length+1,r=[],o=s(e);let a,l,h,c=o.length,u=0;for(;--c>=0;){h=o[c],a=t.annotation.getKeys(h).filter(le),l=a.length;for(let e=0;e<l;++e)r[u++]=i.getOwn(he.name,h,a[e].slice(n))}return r}};class ce{constructor(e,t,s,i,n,r){this.attribute=e,this.callback=t,this.mode=s,this.primary=i,this.property=n,this.set=r}static create(e,t={}){return new ce(n(t.attribute,r(e)),n(t.callback,`${e}Changed`),n(t.mode,R.toView),n(t.primary,!1),n(t.property,e),n(t.set,o))}}class ue{constructor(e,t,s,i,n){this.obj=e,this.propertyKey=t,this.set=i,this.$controller=n,this.value=void 0,this.oldValue=void 0,this.f=0;const r=e[s],a=e.propertyChanged,l=this.hasCb="function"==typeof r,h=this.hasCbAll="function"==typeof a,c=this.hasSetter=i!==o;if(this.cb=l?r:o,this.cbAll=h?a:o,void 0!==this.cb||h||c){this.observing=!0;const s=e[t];this.value=c&&void 0!==s?i(s):s,this.createGetterSetter()}else this.observing=!1}get type(){return 1}getValue(){return this.value}setValue(e,t){if(this.hasSetter&&(e=this.set(e)),this.observing){const s=this.value;if(Object.is(e,s))return;this.value=e,this.oldValue=s,this.f=t,(null==this.$controller||this.$controller.isBound)&&(this.hasCb&&this.cb.call(this.obj,e,s,t),this.hasCbAll&&this.cbAll.call(this.obj,this.propertyKey,e,s,t)),this.queue.add(this)}else this.obj[this.propertyKey]=e}subscribe(e){if(!1==!this.observing){this.observing=!0;const e=this.obj[this.propertyKey];this.value=this.hasSetter?this.set(e):e,this.createGetterSetter()}this.subs.add(e)}flush(){de=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,de,this.f)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.value,set:e=>{this.setValue(e,0)}})}}let de;M(ue),B(ue);class pe{constructor(e,t,s,i){if(this.chars=e,this.repeat=t,this.isSymbol=s,this.isInverted=i,i)switch(e.length){case 0:this.has=this.hasOfNoneInverse;break;case 1:this.has=this.hasOfSingleInverse;break;default:this.has=this.hasOfMultipleInverse}else switch(e.length){case 0:this.has=this.hasOfNone;break;case 1:this.has=this.hasOfSingle;break;default:this.has=this.hasOfMultiple}}equals(e){return this.chars===e.chars&&this.repeat===e.repeat&&this.isSymbol===e.isSymbol&&this.isInverted===e.isInverted}hasOfMultiple(e){return this.chars.includes(e)}hasOfSingle(e){return this.chars===e}hasOfNone(e){return!1}hasOfMultipleInverse(e){return!this.chars.includes(e)}hasOfSingleInverse(e){return this.chars!==e}hasOfNoneInverse(e){return!0}}class ge{constructor(){this.parts=a,this._pattern="",this.currentRecord={},this.partsRecord={}}get pattern(){const e=this._pattern;return""===e?null:e}set pattern(e){null==e?(this._pattern="",this.parts=a):(this._pattern=e,this.parts=this.partsRecord[e])}append(e,t){const{currentRecord:s}=this;void 0===s[e]?s[e]=t:s[e]+=t}next(e){const{currentRecord:t}=this;if(void 0!==t[e]){const{partsRecord:s}=this;void 0===s[e]?s[e]=[t[e]]:s[e].push(t[e]),t[e]=void 0}}}class fe{constructor(e,...t){this.charSpec=e,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=t}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(e){const t=this.nextStates,s=t.length;let i=null;for(let n=0;n<s;++n)if(i=t[n],e.equals(i.charSpec))return i;return null}append(e,t){const{patterns:s}=this;s.includes(t)||s.push(t);let i=this.findChild(e);return null==i&&(i=new fe(e,t),this.nextStates.push(i),e.repeat&&i.nextStates.push(i)),i}findMatches(e,t){const s=[],i=this.nextStates,n=i.length;let r=0,o=null,a=0,l=0;for(;a<n;++a)if(o=i[a],o.charSpec.has(e))if(s.push(o),r=o.patterns.length,l=0,o.charSpec.isSymbol)for(;l<r;++l)t.next(o.patterns[l]);else for(;l<r;++l)t.append(o.patterns[l],e);return s}}class ve{constructor(e){this.text=e;const t=this.len=e.length,s=this.specs=[];for(let i=0;i<t;++i)s.push(new pe(e[i],!1,!1,!1))}eachChar(e){const{len:t,specs:s}=this;for(let i=0;i<t;++i)e(s[i])}}class me{constructor(e){this.text="PART",this.spec=new pe(e,!0,!1,!0)}eachChar(e){e(this.spec)}}class be{constructor(e){this.text=e,this.spec=new pe(e,!1,!0,!1)}eachChar(e){e(this.spec)}}class ye{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const we=l.createInterface("ISyntaxInterpreter",(e=>e.singleton(xe)));class xe{constructor(){this.rootState=new fe(null),this.initialStates=[this.rootState]}add(e){let t=0;if(Array.isArray(e)){const s=e.length;for(;t<s;++t)this.add(e[t]);return}let s=this.rootState;const i=e,n=i.pattern,r=new ye,o=this.parse(i,r),a=o.length,l=e=>{s=s.append(e,n)};for(t=0;t<a;++t)o[t].eachChar(l);s.types=r,s.isEndpoint=!0}interpret(e){const t=new ge;let s=this.initialStates;const i=e.length;for(let n=0;n<i&&(s=this.getNextStates(s,e.charAt(n),t),0!==s.length);++n);if(s.sort(((e,t)=>{if(!e.isEndpoint)return t.isEndpoint?1:0;if(!t.isEndpoint)return-1;const s=e.types,i=t.types;return s.statics!==i.statics?i.statics-s.statics:s.dynamics!==i.dynamics?i.dynamics-s.dynamics:s.symbols!==i.symbols?i.symbols-s.symbols:0})),s.length>0){const e=s[0];e.charSpec.isSymbol||t.next(e.pattern),t.pattern=e.pattern}return t}getNextStates(e,t,s){const i=[];let n=null;const r=e.length;for(let o=0;o<r;++o)n=e[o],i.push(...n.findMatches(t,s));return i}parse(e,t){const s=[],i=e.pattern,n=i.length;let r=0,o=0,a="";for(;r<n;)a=i.charAt(r),e.symbols.includes(a)?r!==o?(s.push(new ve(i.slice(o,r))),++t.statics,o=r):(s.push(new be(i.slice(o,r+1))),++t.symbols,o=++r):r===o&&"P"===a&&"PART"===i.slice(r,r+4)?(o=r+=4,s.push(new me(e.symbols)),++t.dynamics):++r;return o!==r&&(s.push(new ve(i.slice(o,r))),++t.statics),s}}class ke{constructor(e,t,s,i){this.rawName=e,this.rawValue=t,this.target=s,this.command=i}}const Ce=l.createInterface("IAttributePattern"),Te=l.createInterface("IAttributeParser",(e=>e.singleton(Ae)));let Ae=class{constructor(e,t){this.interpreter=e,this.cache={};const s=this.patterns={};t.forEach((t=>{const i=Se.getPatternDefinitions(t.constructor);e.add(i),i.forEach((e=>{s[e.pattern]=t}))}))}parse(e,t){let s=this.cache[e];null==s&&(s=this.cache[e]=this.interpreter.interpret(e));const i=s.pattern;return null==i?new ke(e,t,e,null):this.patterns[i][i](e,t,s.parts)}};function $e(...e){return function(t){return Se.define(e,t)}}Ae=re([oe(0,we),oe(1,h(Ce))],Ae);class Ee{constructor(e){this.Type=e,this.name=void 0}register(e){c.singleton(Ce,this.Type).register(e)}}const Se=Object.freeze({name:t.resource.keyFor("attribute-pattern"),definitionAnnotationKey:"attribute-pattern-definitions",define(e,s){const n=new Ee(s),{name:r,definitionAnnotationKey:o}=Se;return i.define(r,n,s),t.resource.appendTo(s,r),t.annotation.set(s,o,e),t.annotation.appendTo(s,o),s},getPatternDefinitions:e=>t.annotation.get(e,Se.definitionAnnotationKey)});let Oe=class{"PART.PART"(e,t,s){return new ke(e,t,s[0],s[1])}"PART.PART.PART"(e,t,s){return new ke(e,t,s[0],s[2])}};Oe=re([$e({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],Oe);let Pe=class{ref(e,t,s){return new ke(e,t,"element","ref")}"PART.ref"(e,t,s){return new ke(e,t,s[0],"ref")}};Pe=re([$e({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],Pe);let Re=class{":PART"(e,t,s){return new ke(e,t,s[0],"bind")}};Re=re([$e({pattern:":PART",symbols:":"})],Re);let Me=class{"@PART"(e,t,s){return new ke(e,t,s[0],"trigger")}};Me=re([$e({pattern:"@PART",symbols:"@"})],Me);const Be=Ie();function je(e,t,s){if(!0===Be[t])return!0;if("string"!=typeof t)return!1;const i=t.slice(0,5);return Be[t]="aria-"===i||"data-"===i||s.isStandardSvgAttribute(e,t)}function Ie(){return Object.create(null)}const Le=u,Ve=l.createInterface("ISVGAnalyzer",(e=>e.singleton(Ne)));class Ne{isStandardSvgAttribute(e,t){return!1}}function qe(e){const t=Ie();let s;for(s of e)t[s]=!0;return t}class De{constructor(e){this.svgElements=Object.assign(Ie(),{a:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),altGlyph:qe(["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),altglyph:Ie(),altGlyphDef:qe(["id","xml:base","xml:lang","xml:space"]),altglyphdef:Ie(),altGlyphItem:qe(["id","xml:base","xml:lang","xml:space"]),altglyphitem:Ie(),animate:qe(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateColor:qe(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateMotion:qe(["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),animateTransform:qe(["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),circle:qe(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),clipPath:qe(["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),"color-profile":qe(["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),cursor:qe(["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),defs:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),desc:qe(["class","id","style","xml:base","xml:lang","xml:space"]),ellipse:qe(["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),feBlend:qe(["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feColorMatrix:qe(["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"]),feComponentTransfer:qe(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feComposite:qe(["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feConvolveMatrix:qe(["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"]),feDiffuseLighting:qe(["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feDisplacementMap:qe(["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"]),feDistantLight:qe(["azimuth","elevation","id","xml:base","xml:lang","xml:space"]),feFlood:qe(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feFuncA:qe(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncB:qe(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncG:qe(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feFuncR:qe(["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"]),feGaussianBlur:qe(["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"]),feImage:qe(["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),feMerge:qe(["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feMergeNode:qe(["id","xml:base","xml:lang","xml:space"]),feMorphology:qe(["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feOffset:qe(["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),fePointLight:qe(["id","x","xml:base","xml:lang","xml:space","y","z"]),feSpecularLighting:qe(["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"]),feSpotLight:qe(["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"]),feTile:qe(["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"]),feTurbulence:qe(["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"]),filter:qe(["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),font:qe(["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),"font-face":qe(["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"]),"font-face-format":qe(["id","string","xml:base","xml:lang","xml:space"]),"font-face-name":qe(["id","name","xml:base","xml:lang","xml:space"]),"font-face-src":qe(["id","xml:base","xml:lang","xml:space"]),"font-face-uri":qe(["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),foreignObject:qe(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),g:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),glyph:qe(["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),glyphRef:qe(["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),glyphref:Ie(),hkern:qe(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]),image:qe(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),line:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"]),linearGradient:qe(["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"]),marker:qe(["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"]),mask:qe(["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"]),metadata:qe(["id","xml:base","xml:lang","xml:space"]),"missing-glyph":qe(["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"]),mpath:qe(["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),path:qe(["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),pattern:qe(["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),polygon:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),polyline:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),radialGradient:qe(["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),rect:qe(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"]),script:qe(["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),set:qe(["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),stop:qe(["class","id","offset","style","xml:base","xml:lang","xml:space"]),style:qe(["id","media","title","type","xml:base","xml:lang","xml:space"]),svg:qe(["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"]),switch:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"]),symbol:qe(["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"]),text:qe(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"]),textPath:qe(["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"]),title:qe(["class","id","style","xml:base","xml:lang","xml:space"]),tref:qe(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),tspan:qe(["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"]),use:qe(["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"]),view:qe(["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"]),vkern:qe(["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"])}),this.svgPresentationElements=qe(["a","altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"]),this.svgPresentationAttributes=qe(["alignment-baseline","baseline-shift","clip-path","clip-rule","clip","color-interpolation-filters","color-interpolation","color-profile","color-rendering","color","cursor","direction","display","dominant-baseline","enable-background","fill-opacity","fill-rule","fill","filter","flood-color","flood-opacity","font-family","font-size-adjust","font-size","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","stroke","text-anchor","text-decoration","text-rendering","unicode-bidi","visibility","word-spacing","writing-mode"]),this.SVGElement=e.globalThis.SVGElement;const t=e.document.createElement("div");if(t.innerHTML="<svg><altGlyph /></svg>","altglyph"===t.firstElementChild.nodeName){const e=this.svgElements;let t=e.altGlyph;e.altGlyph=e.altglyph,e.altglyph=t,t=e.altGlyphDef,e.altGlyphDef=e.altglyphdef,e.altglyphdef=t,t=e.altGlyphItem,e.altGlyphItem=e.altglyphitem,e.altglyphitem=t,t=e.glyphRef,e.glyphRef=e.glyphref,e.glyphref=t}}static register(e){return c.singleton(Ve,this).register(e)}isStandardSvgAttribute(e,t){var s;return e instanceof this.SVGElement&&(!0===this.svgPresentationElements[e.nodeName]&&!0===this.svgPresentationAttributes[t]||!0===(null===(s=this.svgElements[e.nodeName])||void 0===s?void 0:s[t]))}}De.inject=[Le];const Fe=l.createInterface("IAttrMapper",(e=>e.singleton(ze)));class ze{constructor(e){this.svg=e,this.fns=[],this.tagAttrMap=Ie(),this.globalAttrMap=Ie(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[Ve]}useMapping(e){var t,s;let i,n,r,o;for(r in e)for(o in i=e[r],n=null!==(t=(s=this.tagAttrMap)[r])&&void 0!==t?t:s[r]=Ie(),i){if(void 0!==n[o])throw Ue(o,r);n[o]=i[o]}}useGlobalMapping(e){const t=this.globalAttrMap;for(const s in e){if(void 0!==t[s])throw Ue(s,"*");t[s]=e[s]}}useTwoWay(e){this.fns.push(e)}isTwoWay(e,t){return function(e,t){switch(e.nodeName){case"INPUT":switch(e.type){case"checkbox":case"radio":return"checked"===t;default:return"value"===t||"files"===t||"value-as-number"===t||"value-as-date"===t}case"TEXTAREA":case"SELECT":return"value"===t;default:switch(t){case"textcontent":case"innerhtml":return e.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(e,t)||this.fns.length>0&&this.fns.some((s=>s(e,t)))}map(e,t){var s,i,n;return null!==(n=null!==(i=null===(s=this.tagAttrMap[e.nodeName])||void 0===s?void 0:s[t])&&void 0!==i?i:this.globalAttrMap[t])&&void 0!==n?n:je(e,t,this.svg)?t:null}}function Ue(e,t){return new Error(`Attribute ${e} has been already registered for ${"*"===t?"all elements":`<${t}/>`}`)}class Ke{constructor(e,t,s,i,n){this.sourceExpression=e,this.target=t,this.targetProperty=s,this.locator=n,this.interceptor=this,this.isBound=!1,this.targetObserver=i.getAccessor(t,s)}callSource(e){const t=this.$scope.overrideContext;t.$event=e;const s=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);return Reflect.deleteProperty(t,"$event"),s}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,this.interceptor),this.targetObserver.setValue((e=>this.interceptor.callSource(e)),e,this.target,this.targetProperty),this.isBound=!0}$unbind(e){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,e,this.target,this.targetProperty),this.isBound=!1)}observe(e,t){}handleChange(e,t,s){}}class We{constructor(e,t,s,i,n){this.platform=e,this.observerLocator=t,this.obj=s,this.propertyKey=i,this.targetAttribute=n,this.value=null,this.oldValue=null,this.hasChanges=!1,this.type=7,this.f=0}getValue(){return this.value}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value,t=this.targetAttribute;switch(this.oldValue=e,t){case"class":this.obj.classList.toggle(this.propertyKey,!!e);break;case"style":{let t="",s=e;"string"==typeof s&&s.includes("!important")&&(t="important",s=s.replace("!important","")),this.obj.style.setProperty(this.propertyKey,s,t);break}default:null==e?this.obj.removeAttribute(t):this.obj.setAttribute(t,String(e))}}}handleMutation(e){let t=!1;for(let s=0,i=e.length;i>s;++s){const i=e[s];if("attributes"===i.type&&i.attributeName===this.propertyKey){t=!0;break}}if(t){let e;switch(this.targetAttribute){case"class":e=this.obj.classList.contains(this.propertyKey);break;case"style":e=this.obj.style.getPropertyValue(this.propertyKey);break;default:throw new Error(`Unsupported observation of attribute: ${this.targetAttribute}`)}e!==this.value&&(this.oldValue=this.value,this.value=e,this.hasChanges=!1,this.f=0,this.queue.add(this))}}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.value=this.oldValue=this.obj.getAttribute(this.propertyKey),Ge(this.obj.ownerDocument.defaultView.MutationObserver,this.obj,this))}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&He(this.obj,this)}flush(){Xe=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Xe,this.f)}}M(We),B(We);const Ge=(e,t,s)=>{void 0===t.$eMObservers&&(t.$eMObservers=new Set),void 0===t.$mObserver&&(t.$mObserver=new e(_e)).observe(t,{attributes:!0}),t.$eMObservers.add(s)},He=(e,t)=>{const s=e.$eMObservers;return!(!s||!s.delete(t))&&(0===s.size&&(e.$mObserver.disconnect(),e.$mObserver=void 0),!0)},_e=e=>{e[0].target.$eMObservers.forEach(Qe,e)};function Qe(e){e.handleMutation(this)}let Xe;class Ye{constructor(e){this.b=e}handleChange(e,t,s){const i=this.b;e!==i.sourceExpression.evaluate(s,i.$scope,i.locator,null)&&i.updateSource(e,s)}}const{oneTime:Ze,toView:Je,fromView:et}=R,tt=Je|Ze,st={reusable:!1,preempt:!0};class it{constructor(e,t,s,i,n,r,o){this.sourceExpression=e,this.targetAttribute=s,this.targetProperty=i,this.mode=n,this.observerLocator=r,this.locator=o,this.interceptor=this,this.isBound=!1,this.$scope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=t,this.$platform=o.get(Le)}updateTarget(e,t){this.targetObserver.setValue(e,t|=this.persistentFlags,this.target,this.targetProperty)}updateSource(e,t){this.sourceExpression.assign(t|=this.persistentFlags,this.$scope,this.locator,e)}handleChange(e,t,s){if(!this.isBound)return;const i=this.interceptor,n=this.sourceExpression,r=this.$scope,o=this.locator,a=0==(2&(s|=this.persistentFlags))&&(4&this.targetObserver.type)>0;let l,h=!1;(10082!==n.$kind||this.obs.count>1)&&(h=0==(this.mode&Ze),h&&this.obs.version++,e=n.evaluate(s,r,o,i),h&&this.obs.clear(!1)),e!==this.value&&(this.value=e,a?(l=this.task,this.task=this.$platform.domWriteQueue.queueTask((()=>{this.task=null,i.updateTarget(e,s)}),st),null==l||l.cancel()):i.updateTarget(e,s))}$bind(e,t){var s;if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.persistentFlags=961&e,this.$scope=t;let i=this.sourceExpression;i.hasBind&&i.bind(e,t,this.interceptor);let n=this.targetObserver;n||(n=this.targetObserver=new We(this.$platform,this.observerLocator,this.target,this.targetProperty,this.targetAttribute)),i=this.sourceExpression;const r=this.mode,o=this.interceptor;let a=!1;r&tt&&(a=(r&Je)>0,o.updateTarget(this.value=i.evaluate(e,t,this.locator,a?o:null),e)),r&et&&n.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new Ye(o)),this.isBound=!0}$unbind(e){var t;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.interceptor),this.$scope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(t=this.task)||void 0===t||t.cancel(),this.task=null,this.obs.clear(!0),this.isBound=!1)}}j(it);const{toView:nt}=R,rt={reusable:!1,preempt:!0};class ot{constructor(e,t,s,i,n,r,o){this.observerLocator=e,this.interpolation=t,this.target=s,this.targetProperty=i,this.mode=n,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.targetObserver=e.getAccessor(s,i);const a=t.expressions,l=this.partBindings=Array(a.length),h=a.length;let c=0;for(;h>c;++c)l[c]=new at(a[c],s,i,r,e,this)}updateTarget(e,t){const s=this.partBindings,i=this.interpolation.parts,n=s.length;let r="",o=0;if(1===n)r=i[0]+s[0].value+i[1];else for(r=i[0];n>o;++o)r+=s[o].value+i[o+1];const a=this.targetObserver;let l;0==(2&t)&&(4&a.type)>0?(l=this.task,this.task=this.taskQueue.queueTask((()=>{this.task=null,a.setValue(r,t,this.target,this.targetProperty)}),rt),null==l||l.cancel(),l=null):a.setValue(r,t,this.target,this.targetProperty)}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t;const s=this.partBindings,i=s.length;let n=0;for(;i>n;++n)s[n].$bind(e,t);this.updateTarget(void 0,e)}$unbind(e){var t;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const s=this.partBindings,i=s.length;let n=0;for(;i>n;++n)s[n].interceptor.$unbind(e);null===(t=this.task)||void 0===t||t.cancel(),this.task=null}}class at{constructor(e,t,s,i,n,r){this.sourceExpression=e,this.target=t,this.targetProperty=s,this.locator=i,this.observerLocator=n,this.owner=r,this.interceptor=this,this.mode=R.toView,this.value="",this.task=null,this.isBound=!1}handleChange(e,t,s){if(!this.isBound)return;const i=this.sourceExpression,n=this.obs;let r=!1;10082===i.$kind&&1===n.count||(r=(this.mode&nt)>0,r&&n.version++,e=i.evaluate(s,this.$scope,this.locator,r?this.interceptor:null),r&&n.clear(!1)),e!=this.value&&(this.value=e,e instanceof Array&&this.observeCollection(e),this.owner.updateTarget(e,s))}handleCollectionChange(e,t){this.owner.updateTarget(void 0,t)}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,this.interceptor),this.value=this.sourceExpression.evaluate(e,t,this.locator,(this.mode&nt)>0?this.interceptor:null),this.value instanceof Array&&this.observeCollection(this.value)}$unbind(e){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clear(!0))}}j(at);class lt{constructor(e,t,s,i,n,r){this.sourceExpression=e,this.target=t,this.locator=s,this.observerLocator=i,this.p=n,this.strict=r,this.interceptor=this,this.mode=R.toView,this.value="",this.task=null,this.isBound=!1}updateTarget(e,t){var s,i;const n=this.target,r=this.p.Node,o=this.value;this.value=e,o instanceof r&&(null===(s=o.parentNode)||void 0===s||s.removeChild(o)),e instanceof r?(n.textContent="",null===(i=n.parentNode)||void 0===i||i.insertBefore(e,n)):n.textContent=String(e)}handleChange(e,t,s){var i;if(!this.isBound)return;const n=this.sourceExpression,r=this.obs;let o=!1;if(10082===n.$kind&&1===r.count||(o=(this.mode&nt)>0,o&&r.version++,e=n.evaluate(s|=this.strict?1:0,this.$scope,this.locator,o?this.interceptor:null),o&&r.clear(!1)),e===this.value)return null===(i=this.task)||void 0===i||i.cancel(),void(this.task=null);0==(2&s)?this.queueUpdate(e,s):this.updateTarget(e,s)}handleCollectionChange(){this.queueUpdate(this.value,0)}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,this.interceptor);const s=this.value=this.sourceExpression.evaluate(e|=this.strict?1:0,t,this.locator,(this.mode&nt)>0?this.interceptor:null);s instanceof Array&&this.observeCollection(s),this.updateTarget(s,e)}$unbind(e){var t;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clear(!0),null===(t=this.task)||void 0===t||t.cancel(),this.task=null)}queueUpdate(e,t){const s=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(e,t)}),rt),null==s||s.cancel()}}j(lt);class ht{constructor(e,t,s,i,n=!1){this.sourceExpression=e,this.targetProperty=t,this.observerLocator=s,this.locator=i,this.toBindingContext=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.target=null}handleChange(e,t,s){if(!this.isBound)return;const i=this.target,n=this.targetProperty,r=i[n];this.obs.version++,e=this.sourceExpression.evaluate(s,this.$scope,this.locator,this.interceptor),this.obs.clear(!1),e!==r&&(i[n]=e)}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.target=this.toBindingContext?t.bindingContext:t.overrideContext;const s=this.sourceExpression;s.hasBind&&s.bind(e,t,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|e,t,this.locator,this.interceptor),this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clear(!0),this.isBound=!1}}j(ht);const{oneTime:ct,toView:ut,fromView:dt}=R,pt=ut|ct,gt={reusable:!1,preempt:!0};class ft{constructor(e,t,s,i,n,r,o){this.sourceExpression=e,this.target=t,this.targetProperty=s,this.mode=i,this.observerLocator=n,this.locator=r,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null}updateTarget(e,t){this.targetObserver.setValue(e,t|=this.persistentFlags,this.target,this.targetProperty)}updateSource(e,t){this.sourceExpression.assign(t|=this.persistentFlags,this.$scope,this.locator,e)}handleChange(e,t,s){if(!this.isBound)return;const i=this.interceptor,n=this.sourceExpression,r=this.$scope,o=this.locator,a=0==(2&(s|=this.persistentFlags))&&(4&this.targetObserver.type)>0,l=this.obs;let h=!1;(10082!==n.$kind||l.count>1)&&(h=this.mode>ct,h&&l.version++,e=n.evaluate(s,r,o,i),h&&l.clear(!1)),a?(vt=this.task,this.task=this.taskQueue.queueTask((()=>{i.updateTarget(e,s),this.task=null}),gt),null==vt||vt.cancel(),vt=null):i.updateTarget(e,s)}$bind(e,t){var s;if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.persistentFlags=961&(e|=1),this.$scope=t;let i=this.sourceExpression;i.hasBind&&i.bind(e,t,this.interceptor);const n=this.observerLocator,r=this.mode;let o=this.targetObserver;o||(o=r&dt?n.getObserver(this.target,this.targetProperty):n.getAccessor(this.target,this.targetProperty),this.targetObserver=o),i=this.sourceExpression;const a=this.interceptor,l=(r&ut)>0;r&pt&&a.updateTarget(i.evaluate(e,t,this.locator,l?a:null),e),r&dt&&(o.subscribe(null!==(s=this.targetSubscriber)&&void 0!==s?s:this.targetSubscriber=new Ye(a)),l||a.updateSource(o.getValue(this.target,this.targetProperty),e)),this.isBound=!0}$unbind(e){this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,vt=this.task,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=vt&&(vt.cancel(),vt=this.task=null),this.obs.clear(!0),this.isBound=!1)}}j(ft);let vt=null;class mt{constructor(e,t,s){this.sourceExpression=e,this.target=t,this.locator=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,this),this.sourceExpression.assign(e,this.$scope,this.locator,this.target),this.isBound=!0}$unbind(e){if(!this.isBound)return;let t=this.sourceExpression;t.evaluate(e,this.$scope,this.locator,null)===this.target&&t.assign(e,this.$scope,this.locator,null),t=this.sourceExpression,t.hasUnbind&&t.unbind(e,this.$scope,this.interceptor),this.$scope=void 0,this.isBound=!1}observe(e,t){}handleChange(e,t,s){}}const bt=l.createInterface("IAppTask");class yt{constructor(e,t,s){this.c=void 0,this.slot=e,this.k=t,this.cb=s}register(e){return this.c=e.register(c.instance(bt,this))}run(){const e=this.k,t=this.cb;return null===e?t():t(this.c.get(e))}}const wt=Object.freeze({beforeCreate:xt("beforeCreate"),hydrating:xt("hydrating"),hydrated:xt("hydrated"),beforeActivate:xt("beforeActivate"),afterActivate:xt("afterActivate"),beforeDeactivate:xt("beforeDeactivate"),afterDeactivate:xt("afterDeactivate")});function xt(e){return function(t,s){return"function"==typeof s?new yt(e,t,s):new yt(e,null,t)}}function kt(e,s){let n;function r(e,s){arguments.length>1&&(n.property=s),i.define(Tt.name,$t.create(s,n),e.constructor,s),t.annotation.appendTo(e.constructor,Tt.keyFrom(s))}return arguments.length>1?(n={},void r(e,s)):"string"==typeof e?(n={},r):(n=void 0===e?{}:e,r)}function Ct(e){return e.startsWith(Tt.name)}const Tt={name:t.annotation.keyFor("children-observer"),keyFrom:e=>`${Tt.name}:${e}`,from(...e){const t={},s=Array.isArray;function i(e){t[e]=$t.create(e)}return e.forEach((function(e){s(e)?e.forEach(i):e instanceof $t?t[e.property]=e:void 0!==e&&Object.keys(e).forEach((s=>function(e,s){t[e]=$t.create(e,s)}(s,e)))})),t},getAll(e){const n=Tt.name.length+1,r=[],o=s(e);let a,l,h,c=o.length,u=0;for(;--c>=0;){h=o[c],a=t.annotation.getKeys(h).filter(Ct),l=a.length;for(let e=0;e<l;++e)r[u++]=i.getOwn(Tt.name,h,a[e].slice(n))}return r}},At={childList:!0};class $t{constructor(e,t,s,i,n,r){this.callback=e,this.property=t,this.options=s,this.query=i,this.filter=n,this.map=r}static create(e,t={}){var s;return new $t(n(t.callback,`${e}Changed`),n(t.property,e),null!==(s=t.options)&&void 0!==s?s:At,t.query,t.filter,t.map)}}let Et=class{constructor(e,t,s,i,n=St,r=Ot,o=Pt,a){this.controller=e,this.obj=t,this.propertyKey=s,this.query=n,this.filter=r,this.map=o,this.options=a,this.observing=!1,this.children=void 0,this.observer=void 0,this.callback=t[i],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.observing?this.children:this.get()}setValue(e){}start(){var e;this.observing||(this.observing=!0,this.children=this.get(),(null!==(e=this.observer)&&void 0!==e?e:this.observer=new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.onChildrenChanged()}))).observe(this.controller.host,this.options))}stop(){this.observing&&(this.observing=!1,this.observer.disconnect(),this.children=a)}onChildrenChanged(){this.children=this.get(),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}get(){return function(e,t,s,i){var n;const r=t(e),o=r.length,a=[];let l,h,c,u=0;for(;u<o;++u)l=r[u],h=Gt.for(l,Rt),c=null!==(n=null==h?void 0:h.viewModel)&&void 0!==n?n:null,s(l,h,c)&&a.push(i(l,h,c));return a}(this.controller,this.query,this.filter,this.map)}};function St(e){return e.host.childNodes}function Ot(e,t,s){return!!s}function Pt(e,t,s){return s}Et=re([M()],Et);const Rt={optional:!0};function Mt(e){return function(t){return It.define(e,t)}}function Bt(e){return function(t){return It.define("string"==typeof e?{isTemplateController:!0,name:e}:{isTemplateController:!0,...e},t)}}class jt{constructor(e,t,s,i,n,r,o,a,l){this.Type=e,this.name=t,this.aliases=s,this.key=i,this.defaultBindingMode=n,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=l}static create(e,t){let s,i;return"string"==typeof e?(s=e,i={name:s}):(s=e.name,i=e),new jt(t,n(It.getAnnotation(t,"name"),s),d(It.getAnnotation(t,"aliases"),i.aliases,t.aliases),It.keyFrom(s),n(It.getAnnotation(t,"defaultBindingMode"),i.defaultBindingMode,t.defaultBindingMode,R.toView),n(It.getAnnotation(t,"isTemplateController"),i.isTemplateController,t.isTemplateController,!1),he.from(...he.getAll(t),It.getAnnotation(t,"bindables"),t.bindables,i.bindables),n(It.getAnnotation(t,"noMultiBindings"),i.noMultiBindings,t.noMultiBindings,!1),d(qt.getAnnotation(t),t.watches))}register(e){const{Type:t,key:s,aliases:i}=this;c.transient(s,t).register(e),c.aliasTo(s,t).register(e),I(i,It,s,e)}}const It={name:t.resource.keyFor("custom-attribute"),keyFrom:e=>`${It.name}:${e}`,isType:e=>"function"==typeof e&&i.hasOwn(It.name,e),for(e,t){var s;return null!==(s=oi(e,It.keyFrom(t)))&&void 0!==s?s:void 0},define(e,s){const n=jt.create(e,s);return i.define(It.name,n,n.Type),i.define(It.name,n,n),t.resource.appendTo(s,It.name),n.Type},getDefinition(e){const t=i.getOwn(It.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,s,n){i.define(t.annotation.keyFor(s),n,e)},getAnnotation:(e,s)=>i.getOwn(t.annotation.keyFor(s),e)};function Lt(e,t){if(!e)throw new Error("Invalid watch config. Expected an expression or a fn");return function(s,i,n){const r=null==i,o=r?s:s.constructor,a=new Vt(e,r?t:n.value);if(r){if("function"!=typeof t&&(null==t||!(t in o.prototype)))throw new Error(`Invalid change handler config. Method "${String(t)}" not found in class ${o.name}`)}else if("function"!=typeof(null==n?void 0:n.value))throw new Error(`decorated target ${String(i)} is not a class method.`);qt.add(o,a),It.isType(o)&&It.getDefinition(o).watches.push(a),Gt.isType(o)&&Gt.getDefinition(o).watches.push(a)}}class Vt{constructor(e,t){this.expression=e,this.callback=t}}const Nt=a,qt={name:t.annotation.keyFor("watch"),add(e,t){let s=i.getOwn(qt.name,e);null==s&&i.define(qt.name,s=[],e),s.push(t)},getAnnotation(e){var t;return null!==(t=i.getOwn(qt.name,e))&&void 0!==t?t:Nt}};function Dt(e){return function(t){return Gt.define(e,t)}}function Ft(e){return void 0===e?function(e){Gt.annotate(e,"shadowOptions",{mode:"open"})}:"function"!=typeof e?function(t){Gt.annotate(t,"shadowOptions",e)}:void Gt.annotate(e,"shadowOptions",{mode:"open"})}function zt(e){if(void 0===e)return function(e){Gt.annotate(e,"containerless",!0)};Gt.annotate(e,"containerless",!0)}const Ut=new WeakMap;class Kt{constructor(e,t,s,i,n,r,o,a,l,h,c,u,d,p,g,f,v,m,b,y){this.Type=e,this.name=t,this.aliases=s,this.key=i,this.cache=n,this.template=r,this.instructions=o,this.dependencies=a,this.injectable=l,this.needsCompile=h,this.surrogates=c,this.bindables=u,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=g,this.shadowOptions=f,this.hasSlots=v,this.enhance=m,this.watches=b,this.processContent=y}static create(e,t=null){if(null===t){const s=e;if("string"==typeof s)throw new Error(`Cannot create a custom element definition with only a name and no type: ${e}`);const i=p("name",s,Gt.generateName);return t="function"==typeof s.Type?s.Type:Gt.generateType(g(i)),new Kt(t,i,d(s.aliases),p("key",s,(()=>Gt.keyFrom(i))),p("cache",s,(()=>0)),p("template",s,(()=>null)),d(s.instructions),d(s.dependencies),p("injectable",s,(()=>null)),p("needsCompile",s,(()=>!0)),d(s.surrogates),he.from(s.bindables),Tt.from(s.childrenObservers),p("containerless",s,(()=>!1)),p("isStrictBinding",s,(()=>!1)),p("shadowOptions",s,(()=>null)),p("hasSlots",s,(()=>!1)),p("enhance",s,(()=>!1)),p("watches",s,(()=>a)),f("processContent",t,(()=>null)))}if("string"==typeof e)return new Kt(t,e,d(Gt.getAnnotation(t,"aliases"),t.aliases),Gt.keyFrom(e),f("cache",t,(()=>0)),f("template",t,(()=>null)),d(Gt.getAnnotation(t,"instructions"),t.instructions),d(Gt.getAnnotation(t,"dependencies"),t.dependencies),f("injectable",t,(()=>null)),f("needsCompile",t,(()=>!0)),d(Gt.getAnnotation(t,"surrogates"),t.surrogates),he.from(...he.getAll(t),Gt.getAnnotation(t,"bindables"),t.bindables),Tt.from(...Tt.getAll(t),Gt.getAnnotation(t,"childrenObservers"),t.childrenObservers),f("containerless",t,(()=>!1)),f("isStrictBinding",t,(()=>!1)),f("shadowOptions",t,(()=>null)),f("hasSlots",t,(()=>!1)),f("enhance",t,(()=>!1)),d(qt.getAnnotation(t),t.watches),f("processContent",t,(()=>null)));const s=p("name",e,Gt.generateName);return new Kt(t,s,d(Gt.getAnnotation(t,"aliases"),e.aliases,t.aliases),Gt.keyFrom(s),v("cache",e,t,(()=>0)),v("template",e,t,(()=>null)),d(Gt.getAnnotation(t,"instructions"),e.instructions,t.instructions),d(Gt.getAnnotation(t,"dependencies"),e.dependencies,t.dependencies),v("injectable",e,t,(()=>null)),v("needsCompile",e,t,(()=>!0)),d(Gt.getAnnotation(t,"surrogates"),e.surrogates,t.surrogates),he.from(...he.getAll(t),Gt.getAnnotation(t,"bindables"),t.bindables,e.bindables),Tt.from(...Tt.getAll(t),Gt.getAnnotation(t,"childrenObservers"),t.childrenObservers,e.childrenObservers),v("containerless",e,t,(()=>!1)),v("isStrictBinding",e,t,(()=>!1)),v("shadowOptions",e,t,(()=>null)),v("hasSlots",e,t,(()=>!1)),v("enhance",e,t,(()=>!1)),d(e.watches,qt.getAnnotation(t),t.watches),v("processContent",e,t,(()=>null)))}static getOrCreate(e){if(e instanceof Kt)return e;if(Ut.has(e))return Ut.get(e);const t=Kt.create(e);return Ut.set(e,t),i.define(Gt.name,t,t.Type),t}register(e){const{Type:t,key:s,aliases:i}=this;e.has(s,!1)||(c.transient(s,t).register(e),c.aliasTo(s,t).register(e),I(i,Gt,s,e))}}const Wt={name:void 0,searchParents:!1,optional:!1},Gt={name:t.resource.keyFor("custom-element"),keyFrom:e=>`${Gt.name}:${e}`,isType:e=>"function"==typeof e&&i.hasOwn(Gt.name,e),for(e,t=Wt){if(void 0===t.name&&!0!==t.searchParents){const s=oi(e,Gt.name);if(null===s){if(!0===t.optional)return null;throw new Error("The provided node is not a custom element or containerless host.")}return s}if(void 0!==t.name){if(!0!==t.searchParents){const s=oi(e,Gt.name);if(null===s)throw new Error("The provided node is not a custom element or containerless host.");return s.is(t.name)?s:void 0}let s=e,i=!1;for(;null!==s;){const e=oi(s,Gt.name);if(null!==e&&(i=!0,e.is(t.name)))return e;s=pi(s)}if(i)return;throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")}let s=e;for(;null!==s;){const e=oi(s,Gt.name);if(null!==e)return e;s=pi(s)}throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")},define(e,s){const n=Kt.create(e,s);return i.define(Gt.name,n,n.Type),i.define(Gt.name,n,n),t.resource.appendTo(n.Type,Gt.name),n.Type},getDefinition(e){const t=i.getOwn(Gt.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,s,n){i.define(t.annotation.keyFor(s),n,e)},getAnnotation:(e,s)=>i.getOwn(t.annotation.keyFor(s),e),generateName:function(){let e=0;return function(){return"unnamed-"+ ++e}}(),createInjectable(){const e=function(t,s,i){return l.getOrCreateAnnotationParamTypes(t)[i]=e,t};return e.register=function(t){return{resolve:(t,s)=>s.has(e,!0)?s.get(e):null}},e},generateType:function(){const e={value:"",writable:!1,enumerable:!1,configurable:!0},t={};return function(s,i=t){const n=class{};return e.value=s,Reflect.defineProperty(n,"name",e),i!==t&&Object.assign(n.prototype,i),n}}()},Ht=t.annotation.keyFor("processContent");function _t(e){return void 0===e?function(e,t,s){i.define(Ht,Qt(e,t),e)}:function(t){e=Qt(t,e);const s=i.getOwn(Gt.name,t);return void 0!==s?s.processContent=e:i.define(Ht,e,t),t}}function Qt(e,t){"string"==typeof t&&(t=e[t]);const s=typeof t;if("function"!==s)throw new Error(`Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a ${s}.`);return t}class Xt{constructor(e){this.obj=e,this.value="",this.oldValue="",this.doNotCache=!0,this.nameIndex={},this.version=0,this.hasChanges=!1,this.isActive=!1,this.type=6}getValue(){return this.value}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value,t=this.nameIndex;let s=this.version;this.oldValue=e;const i=Yt(e);if(i.length>0&&this.addClassesAndUpdateIndex(i),this.version+=1,0===s)return;s-=1;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]===s&&this.obj.classList.remove(e)}}addClassesAndUpdateIndex(e){const t=this.obj;for(let s=0,i=e.length;s<i;s++){const i=e[s];0!==i.length&&(this.nameIndex[i]=this.version,t.classList.add(i))}}}function Yt(e){if("string"==typeof e)return Zt(e);if("object"!=typeof e)return a;if(e instanceof Array){const t=e.length;if(t>0){const s=[];for(let i=0;i<t;++i)s.push(...Yt(e[i]));return s}return a}const t=[];for(const s in e)Boolean(e[s])&&(s.includes(" ")?t.push(...Zt(s)):t.push(s));return t}function Zt(e){const t=e.match(/\S+/g);return null===t?a:t}function Jt(...e){return new es(e)}class es{constructor(e){this.modules=e}register(e){var t;const s=Object.assign({},...this.modules),i=It.define({name:"class",bindables:["value"]},((t=class{constructor(e){this.element=e}binding(){this.valueChanged()}valueChanged(){this.element.className=this.value?Yt(this.value).map((e=>s[e]||e)).join(" "):""}}).inject=[li],t));e.register(i)}}function ts(...e){return new is(e)}const ss=l.createInterface("IShadowDOMStyleFactory",(e=>e.cachedCallback((e=>ls.supported(e.get(Le))?e.get(ns):e.get(rs)))));class is{constructor(e){this.css=e}register(e){const t=e.get(as),s=e.get(ss);e.register(c.instance(os,s.createStyles(this.css,t)))}}let ns=class{constructor(e){this.p=e,this.cache=new Map}createStyles(e,t){return new ls(this.p,e,this.cache,t)}};ns=re([oe(0,Le)],ns);let rs=class{constructor(e){this.p=e}createStyles(e,t){return new hs(this.p,e,t)}};rs=re([oe(0,Le)],rs);const os=l.createInterface("IShadowDOMStyles"),as=l.createInterface("IShadowDOMGlobalStyles",(e=>e.instance({applyTo:o})));class ls{constructor(e,t,s,i=null){this.sharedStyles=i,this.styleSheets=t.map((t=>{let i;return t instanceof e.CSSStyleSheet?i=t:(i=s.get(t),void 0===i&&(i=new e.CSSStyleSheet,i.replaceSync(t),s.set(t,i))),i}))}static supported(e){return"adoptedStyleSheets"in e.ShadowRoot.prototype}applyTo(e){null!==this.sharedStyles&&this.sharedStyles.applyTo(e),e.adoptedStyleSheets=[...e.adoptedStyleSheets,...this.styleSheets]}}class hs{constructor(e,t,s=null){this.p=e,this.localStyles=t,this.sharedStyles=s}applyTo(e){const t=this.localStyles,s=this.p;for(let i=t.length-1;i>-1;--i){const n=s.document.createElement("style");n.innerHTML=t[i],e.prepend(n)}null!==this.sharedStyles&&this.sharedStyles.applyTo(e)}}const cs={shadowDOM:e=>wt.beforeCreate(m,(t=>{if(null!=e.sharedStyles){const s=t.get(ss);t.register(c.instance(as,s.createStyles(e.sharedStyles,null)))}}))},{enter:us,exit:ds}=L,{wrap:ps,unwrap:gs}=V;class fs{constructor(e,t,s,i,n){this.obj=e,this.observerLocator=t,this.get=s,this.cb=i,this.useProxy=n,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0))}run(){if(!this.isBound||this.running)return;const e=this.obj,t=this.value,s=this.compute();Object.is(s,t)||this.cb.call(e,s,t,e)}compute(){this.running=!0,this.obs.version++;try{return us(this),this.value=gs(this.get.call(void 0,this.useProxy?ps(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,ds(this)}}}class vs{constructor(e,t,s,i,n){this.scope=e,this.locator=t,this.observerLocator=s,this.expression=i,this.callback=n,this.interceptor=this,this.isBound=!1,this.obj=e.bindingContext}handleChange(e){const t=this.expression,s=this.obj,i=this.value;10082===t.$kind&&1===this.obs.count||(this.obs.version++,e=t.evaluate(0,this.scope,this.locator,this),this.obs.clear(!1)),Object.is(e,i)||(this.value=e,this.callback.call(s,e,i,s))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,this.locator,this),this.obs.clear(!1))}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clear(!0),this.value=void 0)}}j(fs),j(vs);const ms=l.createInterface("ILifecycleHooks");class bs{constructor(e,t){this.definition=e,this.instance=t}}class ys{constructor(e,t){this.Type=e,this.propertyNames=t}static create(e,t){const s=new Set;let i=t.prototype;for(;i!==Object.prototype;){for(const e of Object.getOwnPropertyNames(i))"constructor"!==e&&s.add(e);i=Object.getPrototypeOf(i)}return new ys(t,s)}register(e){c.singleton(ms,this.Type).register(e)}}const ws=new WeakMap,xs={name:t.annotation.keyFor("lifecycle-hooks"),define(e,s){const n=ys.create(e,s);return i.define(xs.name,n,s),t.resource.appendTo(s,xs.name),n.Type},resolve(e){let t=ws.get(e);if(void 0===t){t=new ks;const s=e.root,n=s.id===e.id?e.getAll(ms):e.has(ms,!1)?[...s.getAll(ms),...e.getAll(ms)]:s.getAll(ms);let r,o,a,l,h;for(r of n)for(l of(o=i.getOwn(xs.name,r.constructor),a=new bs(o,r),o.propertyNames))h=t[l],void 0===h?t[l]=[a]:h.push(a)}return t}};class ks{}function Cs(){return function(e){return xs.define({},e)}}const Ts=l.createInterface("IViewFactory");class As{constructor(e,t){this.isCaching=!1,this.cache=null,this.cacheSize=-1,this.name=t.name,this.container=e,this.def=t}setCacheSize(e,t){e&&("*"===e?e=As.maxCacheSize:"string"==typeof e&&(e=parseInt(e,10)),-1!==this.cacheSize&&t||(this.cacheSize=e)),this.cache=this.cacheSize>0?[]:null,this.isCaching=this.cacheSize>0}canReturnToCache(e){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(e){return!!this.canReturnToCache(e)&&(this.cache.push(e),!0)}create(e,t){const s=this.cache;let i;return null!=s&&s.length>0?(i=s.pop(),i):(i=Ns.forSyntheticView(this,e,t),i)}}As.maxCacheSize=65535;const $s=new WeakSet;function Es(e){return!$s.has(e)}function Ss(e){return $s.add(e),Kt.create(e)}const Os={name:t.resource.keyFor("views"),has:e=>"function"==typeof e&&(i.hasOwn(Os.name,e)||"$views"in e),get(e){if("function"==typeof e&&"$views"in e){const t=e.$views.filter(Es).map(Ss);for(const s of t)Os.add(e,s)}let t=i.getOwn(Os.name,e);return void 0===t&&i.define(Os.name,t=[],e),t},add(e,t){const s=Kt.create(t);let n=i.getOwn(Os.name,e);return void 0===n?i.define(Os.name,n=[s],e):n.push(s),n}};function Ps(e){return function(t){Os.add(t,e)}}const Rs=l.createInterface("IViewLocator",(e=>e.singleton(Ms)));class Ms{constructor(){this.modelInstanceToBoundComponent=new WeakMap,this.modelTypeToUnboundComponent=new Map}getViewComponentForObject(e,t){if(e){const s=Os.has(e.constructor)?Os.get(e.constructor):[],i="function"==typeof t?t(e,s):this.getViewName(s,t);return this.getOrCreateBoundComponent(e,s,i)}return null}getOrCreateBoundComponent(e,t,s){let i,n=this.modelInstanceToBoundComponent.get(e);if(void 0===n?(n={},this.modelInstanceToBoundComponent.set(e,n)):i=n[s],void 0===i){const r=this.getOrCreateUnboundComponent(e,t,s);i=Gt.define(Gt.getDefinition(r),class extends r{constructor(){super(e)}}),n[s]=i}return i}getOrCreateUnboundComponent(e,t,s){let i,n=this.modelTypeToUnboundComponent.get(e.constructor);if(void 0===n?(n={},this.modelTypeToUnboundComponent.set(e.constructor,n)):i=n[s],void 0===i){i=Gt.define(this.getView(t,s),class{constructor(e){this.viewModel=e}define(e,t,s){const i=this.viewModel;if(e.scope=N.fromParent(e.scope,i),void 0!==i.define)return i.define(e,t,s)}});const r=i.prototype;"hydrating"in e&&(r.hydrating=function(e){this.viewModel.hydrating(e)}),"hydrated"in e&&(r.hydrated=function(e){this.viewModel.hydrated(e)}),"created"in e&&(r.created=function(e){this.viewModel.created(e)}),"binding"in e&&(r.binding=function(e,t,s){return this.viewModel.binding(e,t,s)}),"bound"in e&&(r.bound=function(e,t,s){return this.viewModel.bound(e,t,s)}),"attaching"in e&&(r.attaching=function(e,t,s){return this.viewModel.attaching(e,t,s)}),"attached"in e&&(r.attached=function(e,t){return this.viewModel.attached(e,t)}),"detaching"in e&&(r.detaching=function(e,t,s){return this.viewModel.detaching(e,t,s)}),"unbinding"in e&&(r.unbinding=function(e,t,s){return this.viewModel.unbinding(e,t,s)}),"dispose"in e&&(r.dispose=function(){this.viewModel.dispose()}),n[s]=i}return i}getViewName(e,t){return t||(1===e.length?e[0].name:"default-view")}getView(e,t){const s=e.find((e=>e.name===t));if(void 0===s)throw new Error(`Could not find view: ${t}`);return s}}const Bs=l.createInterface("IRendering",(e=>e.singleton(js)));class js{constructor(e){this.compilationCache=new WeakMap,this.fragmentCache=new WeakMap,this.p=(this.c=e.root).get(Le),this.empty=new mi(this.p,this.p.document.createDocumentFragment())}get renderers(){return null==this.rs?this.rs=this.c.getAll(en,!1).reduce(((e,t)=>(e[t.instructionType]=t,e)),Ie()):this.rs}compile(e,t,s){if(!1!==e.needsCompile){const i=this.compilationCache,n=t.get(Ji);let r=i.get(e);return null==r?i.set(e,r=n.compile(e,t,s)):t.register(...r.dependencies),r}return e}getViewFactory(e,t){return new As(t,Kt.getOrCreate(e))}createNodes(e){if(!0===e.enhance)return new mi(this.p,e.template);let t;const s=this.fragmentCache;if(s.has(e))t=s.get(e);else{const i=this.p,n=i.document,r=e.template;let o;null===r?t=null:r instanceof i.Node?"TEMPLATE"===r.nodeName?t=n.adoptNode(r.content):(t=n.adoptNode(n.createDocumentFragment())).appendChild(r.cloneNode(!0)):(o=n.createElement("template"),"string"==typeof r&&(o.innerHTML=r),n.adoptNode(t=o.content)),s.set(e,t)}return null==t?this.empty:new mi(this.p,t.cloneNode(!0))}render(e,t,s,i,n){const r=i.instructions,o=this.renderers,a=s.length;if(s.length!==r.length)throw new Error(`The compiled template is not aligned with the render instructions. There are ${a} targets and ${r.length} instructions.`);let l,h,c,u=0,d=0,p=0;if(a>0)for(;a>u;){for(l=r[u],c=s[u],d=0,p=l.length;p>d;)h=l[d],o[h.type].render(e,t,c,h),++d;++u}if(null!=n&&(l=i.surrogates,(p=l.length)>0))for(d=0;p>d;)h=l[d],o[h.type].render(e,t,n,h),++d}}var Is;js.inject=[m],function(e){e[e.none=0]="none",e[e.host=1]="host",e[e.shadowRoot=2]="shadowRoot",e[e.location=3]="location"}(Is||(Is={}));const Ls={optional:!0},Vs=new WeakMap;class Ns{constructor(e,t,s,i,n,r,o){switch(this.container=e,this.vmKind=t,this.flags=s,this.definition=i,this.viewFactory=n,this.viewModel=r,this.host=o,this.id=b("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.logger=null,this.debug=!1,this.fullyNamed=!1,this.childrenObs=a,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.activatingStack=0,this.detachingStack=0,this.unbindingStack=0,this.r=e.root.get(Bs),t){case 1:case 0:this.hooks=new Gs(r);break;case 2:this.hooks=Gs.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var e;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(e=this.parent.definition)||void 0===e?void 0:e.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(e){return Vs.get(e)}static getCachedOrThrow(e){const t=Ns.getCached(e);if(void 0===t)throw new Error(`There is no cached controller for the provided ViewModel: ${String(e)}`);return t}static forCustomElement(e,t,s,i,n=0,r){if(Vs.has(t))return Vs.get(t);r=null!=r?r:Gt.getDefinition(t.constructor);const o=new Ns(e,0,n,r,null,t,s),a=e.get(y(Zs));return r.dependencies.length>0&&e.register(...r.dependencies),e.registerResolver(Zs,new w("IHydrationContext",new Js(o,i,a))),Vs.set(t,o),null!=i&&!1===i.hydrate||o.hydrateCustomElement(i,a),o}static forCustomAttribute(e,t,s,i=0,n){if(Vs.has(t))return Vs.get(t);n=null!=n?n:It.getDefinition(t.constructor);const r=new Ns(e,1,i,n,null,t,s);return Vs.set(t,r),r.hydrateCustomAttribute(),r}static forSyntheticView(e,t=0,s){const i=new Ns(e.container,2,t,null,e,null,null);return i.parent=null!=s?s:null,i.hydrateSynthetic(),i}hydrateCustomElement(e,t){this.logger=this.container.get(x).root,this.debug=this.logger.config.level<=1,this.debug&&(this.logger=this.logger.scopeTo(this.name));const s=this.container,i=this.flags,n=this.viewModel;let r=this.definition;if(this.scope=N.create(n,null,!0),r.watches.length>0&&Us(this,s,r,n),Ds(this,r,i,n),this.childrenObs=function(e,t,s,i){const n=t.childrenObservers,r=Object.getOwnPropertyNames(n),o=r.length;if(o>0){const t=qs(i),s=[];let a,l,h=0;for(;h<o;++h)a=r[h],null==t[a]&&(l=n[a],s[s.length]=t[a]=new Et(e,i,a,l.callback,l.query,l.filter,l.map,l.options));return s}return a}(this,r,0,n),this.hooks.hasDefine){this.debug&&this.logger.trace("invoking define() hook");const e=n.define(this,t,r);void 0!==e&&e!==r&&(r=Kt.getOrCreate(e))}this.lifecycleHooks=xs.resolve(s),r.register(s),null!==r.injectable&&s.registerResolver(r.injectable,new w("definition.injectable",n)),null!=e&&!1===e.hydrate||(this.hydrate(e),this.hydrateChildren())}hydrate(e){this.hooks.hasHydrating&&(this.debug&&this.logger.trace("invoking hydrating() hook"),this.viewModel.hydrating(this));const t=this.compiledDef=this.r.compile(this.definition,this.container,e),{shadowOptions:s,isStrictBinding:i,hasSlots:n,containerless:r}=t;if(this.isStrictBinding=i,null!==(this.hostController=Gt.for(this.host,Ls))&&(this.host=this.container.root.get(Le).document.createElement(this.definition.name)),ai(this.host,Gt.name,this),ai(this.host,this.definition.key,this),null!==s||n){if(r)throw new Error("You cannot combine the containerless custom element option with Shadow DOM.");ai(this.shadowRoot=this.host.attachShadow(null!=s?s:Hs),Gt.name,this),ai(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else r?(ai(this.location=fi(this.host),Gt.name,this),ai(this.location,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=this.r.createNodes(t),this.hooks.hasHydrated&&(this.debug&&this.logger.trace("invoking hydrated() hook"),this.viewModel.hydrated(this))}hydrateChildren(){this.r.render(this.flags,this,this.nodes.findTargets(),this.compiledDef,this.host),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateCustomAttribute(){const e=this.definition,t=this.viewModel;e.watches.length>0&&Us(this,this.container,e,t),Ds(this,e,this.flags,t),t.$controller=this,this.lifecycleHooks=xs.resolve(this.container),this.hooks.hasCreated&&(this.debug&&this.logger.trace("invoking created() hook"),this.viewModel.created(this))}hydrateSynthetic(){this.compiledDef=this.r.compile(this.viewFactory.def,this.container,null),this.isStrictBinding=this.compiledDef.isStrictBinding,this.r.render(this.flags,this,(this.nodes=this.r.createNodes(this.compiledDef)).findTargets(),this.compiledDef,void 0)}activate(e,t,s,i){var n;switch(this.state){case 0:case 8:if(null!==t&&!t.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`${this.name} trying to activate a controller that is disposed.`);default:throw new Error(`${this.name} unexpected state: ${Xs(this.state)}.`)}switch(this.parent=t,this.debug&&!this.fullyNamed&&(this.fullyNamed=!0,(null!==(n=this.logger)&&void 0!==n?n:this.logger=this.container.get(x).root.scopeTo(this.name)).trace("activate()")),s|=2,this.vmKind){case 0:this.scope.parentScope=null!=i?i:null;break;case 1:this.scope=null!=i?i:null;break;case 2:if(null==i)throw new Error("Scope is null or undefined");this.hasLockedScope||(this.scope=i)}if(this.isStrictBinding&&(s|=1),this.$initiator=e,this.$flags=s,this.enterActivating(),this.hooks.hasBinding){this.debug&&this.logger.trace("binding()");const e=this.viewModel.binding(this.$initiator,this.parent,this.$flags);if(e instanceof Promise)return this.ensurePromise(),e.then((()=>{this.bind()})).catch((e=>{this.reject(e)})),this.$promise}return this.bind(),this.$promise}bind(){this.debug&&this.logger.trace("bind()");let e,t=0,s=this.childrenObs.length;if(s>0)for(;s>t;)this.childrenObs[t].start(),++t;if(null!==this.bindings)for(t=0,s=this.bindings.length;s>t;)this.bindings[t].$bind(this.$flags,this.scope),++t;if(this.hooks.hasBound&&(this.debug&&this.logger.trace("bound()"),e=this.viewModel.bound(this.$initiator,this.parent,this.$flags),e instanceof Promise))return this.ensurePromise(),void e.then((()=>{this.isBound=!0,this.attach()})).catch((e=>{this.reject(e)}));this.isBound=!0,this.attach()}append(...e){switch(this.mountTarget){case 1:this.host.append(...e);break;case 2:this.shadowRoot.append(...e);break;case 3:{let t=0;for(;t<e.length;++t)this.location.parentNode.insertBefore(e[t],this.location);break}}}attach(){var e;if(this.debug&&this.logger.trace("attach()"),null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.append(this.host);break;case 3:this.hostController.append(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null===(e=this.definition)||void 0===e?void 0:e.enhance);break;case 2:{const e=this.container;(e.has(os,!1)?e.get(os):e.get(as)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case 3:this.nodes.insertBefore(this.location)}if(this.hooks.hasAttaching){this.debug&&this.logger.trace("attaching()");const e=this.viewModel.attaching(this.$initiator,this.parent,this.$flags);e instanceof Promise&&(this.ensurePromise(),this.enterActivating(),e.then((()=>{this.leaveActivating()})).catch((e=>{this.reject(e)})))}if(null!==this.children){let e=0;for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.$flags,this.scope)}this.leaveActivating()}deactivate(e,t,s){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`${this.name} unexpected state: ${Xs(this.state)}.`)}this.debug&&this.logger.trace("deactivate()"),this.$initiator=e,this.$flags=s,e===this&&this.enterDetaching();let i=0;if(this.childrenObs.length)for(;i<this.childrenObs.length;++i)this.childrenObs[i].stop();if(null!==this.children)for(i=0;i<this.children.length;++i)this.children[i].deactivate(e,this,s);if(this.hooks.hasDetaching){this.debug&&this.logger.trace("detaching()");const t=this.viewModel.detaching(this.$initiator,this.parent,this.$flags);t instanceof Promise&&(this.ensurePromise(),e.enterDetaching(),t.then((()=>{e.leaveDetaching()})).catch((t=>{e.reject(t)})))}if(null===e.head?e.head=this:e.tail.next=this,e.tail=this,e===this)return this.leaveDetaching(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){this.debug&&this.logger.trace("unbind()");const e=4|this.$flags;let t=0;if(null!==this.bindings)for(;t<this.bindings.length;++t)this.bindings[t].$unbind(e);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}32==(32&e)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.resolve()}ensurePromise(){void 0===this.$promise&&(this.$promise=new Promise(((e,t)=>{this.$resolve=e,this.$reject=t})),this.$initiator!==this&&this.parent.ensurePromise())}resolve(){if(void 0!==this.$promise){const e=this.$resolve;this.$resolve=this.$reject=this.$promise=void 0,e()}}reject(e){if(void 0!==this.$promise){const t=this.$reject;this.$resolve=this.$reject=this.$promise=void 0,t(e)}this.$initiator!==this&&this.parent.reject(e)}enterActivating(){++this.activatingStack,this.$initiator!==this&&this.parent.enterActivating()}leaveActivating(){if(0==--this.activatingStack){if(this.hooks.hasAttached){this.debug&&this.logger.trace("attached()");const e=this.viewModel.attached(this.$initiator,this.$flags);if(e instanceof Promise)return this.ensurePromise(),void e.then((()=>{this.state=2,this.resolve(),this.$initiator!==this&&this.parent.leaveActivating()})).catch((e=>{this.reject(e)}))}this.state=2,this.resolve()}this.$initiator!==this&&this.parent.leaveActivating()}enterDetaching(){++this.detachingStack}leaveDetaching(){if(0==--this.detachingStack){this.debug&&this.logger.trace("detach()"),this.enterUnbinding(),this.removeNodes();let e=this.$initiator.head;for(;null!==e;){if(e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.hooks.hasUnbinding){e.debug&&e.logger.trace("unbinding()");const t=e.viewModel.unbinding(e.$initiator,e.parent,e.$flags);t instanceof Promise&&(this.ensurePromise(),this.enterUnbinding(),t.then((()=>{this.leaveUnbinding()})).catch((e=>{this.reject(e)})))}e=e.next}this.leaveUnbinding()}}enterUnbinding(){++this.unbindingStack}leaveUnbinding(){if(0==--this.unbindingStack){this.debug&&this.logger.trace("unbind()");let e=this.$initiator.head,t=null;for(;null!==e;)e!==this&&(e.isBound=!1,e.unbind()),t=e.next,e.next=null,e=t;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(e){null===this.bindings?this.bindings=[e]:this.bindings[this.bindings.length]=e}addChild(e){null===this.children?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case 1:return It.getDefinition(this.viewModel.constructor).name===e;case 0:return Gt.getDefinition(this.viewModel.constructor).name===e;case 2:return this.viewFactory.name===e}}lockScope(e){this.scope=e,this.hasLockedScope=!0}setHost(e){return 0===this.vmKind&&(ai(e,Gt.name,this),ai(e,this.definition.key,this)),this.host=e,this.mountTarget=1,this}setShadowRoot(e){return 0===this.vmKind&&(ai(e,Gt.name,this),ai(e,this.definition.key,this)),this.shadowRoot=e,this.mountTarget=2,this}setLocation(e){return 0===this.vmKind&&(ai(e,Gt.name,this),ai(e,this.definition.key,this)),this.location=e,this.mountTarget=3,this}release(){this.state|=16}dispose(){this.debug&&this.logger.trace("dispose()"),32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach(ei),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(Vs.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null)}accept(e){if(!0===e(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(e))return!0;if(null!==this.children){const{children:t}=this;for(let s=0,i=t.length;s<i;++s)if(!0===t[s].accept(e))return!0}}}function qs(e){let t=e.$observers;return void 0===t&&Reflect.defineProperty(e,"$observers",{enumerable:!1,value:t={}}),t}function Ds(e,t,s,i){const n=t.bindables,r=Object.getOwnPropertyNames(n),o=r.length;if(o>0){let t,s,a=0;const l=qs(i);for(;a<o;++a)t=r[a],void 0===l[t]&&(s=n[t],l[t]=new ue(i,t,s.callback,s.set,e))}}const Fs=new Map,zs=e=>{let t=Fs.get(e);return null==t&&(t=new F(e,0),Fs.set(e,t)),t};function Us(e,t,s,i){const n=t.get(q),r=t.get(D),o=s.watches,a=0===e.vmKind?e.scope:N.create(i,null,!0),l=o.length;let h,c,u,d=0;for(;l>d;++d){if(({expression:h,callback:c}=o[d]),c="function"==typeof c?c:Reflect.get(i,c),"function"!=typeof c)throw new Error(`Invalid callback for @watch decorator: ${String(c)}`);"function"==typeof h?e.addBinding(new fs(i,n,h,c,!0)):(u="string"==typeof h?r.parse(h,53):zs(h),e.addBinding(new vs(a,t,n,u,c)))}}function Ks(e){return e instanceof Ns&&0===e.vmKind}function Ws(e){return k(e)&&Gt.isType(e.constructor)}class Gs{constructor(e){this.hasDefine="define"in e,this.hasHydrating="hydrating"in e,this.hasHydrated="hydrated"in e,this.hasCreated="created"in e,this.hasBinding="binding"in e,this.hasBound="bound"in e,this.hasAttaching="attaching"in e,this.hasAttached="attached"in e,this.hasDetaching="detaching"in e,this.hasUnbinding="unbinding"in e,this.hasDispose="dispose"in e,this.hasAccept="accept"in e}}Gs.none=new Gs({});const Hs={mode:"open"};var _s,Qs;function Xs(e){const t=[];return 1==(1&e)&&t.push("activating"),2==(2&e)&&t.push("activated"),4==(4&e)&&t.push("deactivating"),8==(8&e)&&t.push("deactivated"),16==(16&e)&&t.push("released"),32==(32&e)&&t.push("disposed"),0===t.length?"none":t.join("|")}!function(e){e[e.customElement=0]="customElement",e[e.customAttribute=1]="customAttribute",e[e.synthetic=2]="synthetic"}(_s||(_s={})),function(e){e[e.none=0]="none",e[e.activating=1]="activating",e[e.activated=2]="activated",e[e.deactivating=4]="deactivating",e[e.deactivated=8]="deactivated",e[e.released=16]="released",e[e.disposed=32]="disposed"}(Qs||(Qs={}));const Ys=l.createInterface("IController"),Zs=l.createInterface("IHydrationContext");class Js{constructor(e,t,s){this.instruction=t,this.parent=s,this.controller=e}}function ei(e){e.dispose()}const ti=l.createInterface("IAppRoot"),si=l.createInterface("IWorkTracker",(e=>e.singleton(ii)));let ii=class{constructor(e){this.logger=e,this.stack=0,this.promise=null,this.resolve=null,this.logger=e.scopeTo("WorkTracker")}start(){this.logger.trace(`start(stack:${this.stack})`),++this.stack}finish(){if(this.logger.trace(`finish(stack:${this.stack})`),0==--this.stack){const e=this.resolve;null!==e&&(this.resolve=this.promise=null,e())}}wait(){if(this.logger.trace(`wait(stack:${this.stack})`),null===this.promise){if(0===this.stack)return Promise.resolve();this.promise=new Promise((e=>{this.resolve=e}))}return this.promise}};ii=re([oe(0,x)],ii);class ni{constructor(e,t,s,i){this.config=e,this.platform=t,this.container=s,this.controller=void 0,this.hydratePromise=void 0,this.host=e.host,this.work=s.get(si),i.prepare(this),s.registerResolver(li,s.registerResolver(t.Element,new w("ElementProvider",e.host))),this.hydratePromise=C(this.runAppTasks("beforeCreate"),(()=>{const t=e.component,i=s.createChild();let n;n=Gt.isType(t)?this.container.get(t):e.component;const r={hydrate:!1,projections:null},o=this.controller=Ns.forCustomElement(i,n,this.host,r,0);return o.hydrateCustomElement(r,null),C(this.runAppTasks("hydrating"),(()=>(o.hydrate(null),C(this.runAppTasks("hydrated"),(()=>{o.hydrateChildren(),this.hydratePromise=void 0})))))}))}activate(){return C(this.hydratePromise,(()=>C(this.runAppTasks("beforeActivate"),(()=>C(this.controller.activate(this.controller,null,2,void 0),(()=>this.runAppTasks("afterActivate")))))))}deactivate(){return C(this.runAppTasks("beforeDeactivate"),(()=>C(this.controller.deactivate(this.controller,null,0),(()=>this.runAppTasks("afterDeactivate")))))}runAppTasks(e){return T(...this.container.getAll(bt).reduce(((t,s)=>(s.slot===e&&t.push(s.run()),t)),[]))}dispose(){var e;null===(e=this.controller)||void 0===e||e.dispose()}}class ri{}function oi(e,t){var s,i;return null!==(i=null===(s=e.$au)||void 0===s?void 0:s[t])&&void 0!==i?i:null}function ai(e,t,s){var i,n;(null!==(i=(n=e).$au)&&void 0!==i?i:n.$au=new ri)[t]=s}const li=l.createInterface("INode"),hi=l.createInterface("IEventTarget",(e=>e.cachedCallback((e=>e.has(ti,!0)?e.get(ti).host:e.get(Le).document)))),ci=l.createInterface("IRenderLocation");var ui;!function(e){e[e.Element=1]="Element",e[e.Attr=2]="Attr",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.EntityReference=5]="EntityReference",e[e.Entity=6]="Entity",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment",e[e.Notation=12]="Notation"}(ui||(ui={}));const di=new WeakMap;function pi(e){if(di.has(e))return di.get(e);let t=0,s=e.nextSibling;for(;null!==s;){if(8===s.nodeType)switch(s.textContent){case"au-start":++t;break;case"au-end":if(0==t--)return s}s=s.nextSibling}if(null===e.parentNode&&11===e.nodeType){const t=Gt.for(e);if(void 0===t)return null;if(2===t.mountTarget)return pi(t.host)}return e.parentNode}function gi(e,t){if(void 0===e.platform||e instanceof e.platform.Node)di.set(e,t);else{const s=e.childNodes;for(let e=0,i=s.length;e<i;++e)di.set(s[e],t)}}function fi(e){if(vi(e))return e;const t=e.ownerDocument.createComment("au-end"),s=e.ownerDocument.createComment("au-start");return null!==e.parentNode&&(e.parentNode.replaceChild(t,e),t.parentNode.insertBefore(s,t)),t.$start=s,t}function vi(e){return"au-end"===e.textContent}class mi{constructor(e,t){this.platform=e,this.fragment=t,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const s=t.querySelectorAll(".au");let i,n=0,r=s.length,o=this.targets=Array(r);for(;r>n;)i=s[n],o[n]="AU-M"===i.nodeName?fi(i):i,++n;const a=t.childNodes,l=this.childNodes=Array(r=a.length);for(n=0;r>n;)l[n]=a[n],++n;this.firstChild=t.firstChild,this.lastChild=t.lastChild}findTargets(){return this.targets}insertBefore(e){if(this.isLinked&&this.refNode)this.addToLinked();else{const t=e.parentNode;if(this.isMounted){let s,i=this.firstChild;const n=this.lastChild;for(;null!=i&&(s=i.nextSibling,t.insertBefore(i,e),i!==n);)i=s}else this.isMounted=!0,e.parentNode.insertBefore(this.fragment,e)}}appendTo(e,t=!1){if(this.isMounted){let t,s=this.firstChild;const i=this.lastChild;for(;null!=s&&(t=s.nextSibling,e.appendChild(s),s!==i);)s=t}else this.isMounted=!0,t||e.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const e=this.fragment,t=this.lastChild;let s,i=this.firstChild;for(;null!==i&&(s=i.nextSibling,e.appendChild(i),i!==t);)i=s}}addToLinked(){const e=this.refNode,t=e.parentNode;if(this.isMounted){let s,i=this.firstChild;const n=this.lastChild;for(;null!=i&&(s=i.nextSibling,t.insertBefore(i,e),i!==n);)i=s}else this.isMounted=!0,t.insertBefore(this.fragment,e)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(e){this.isLinked=!0,vi(e)?this.refNode=e:(this.next=e,this.obtainRefNode())}obtainRefNode(){this.refNode=void 0!==this.next?this.next.firstChild:void 0}}const bi=l.createInterface("IWindow",(e=>e.callback((e=>e.get(Le).window)))),yi=l.createInterface("ILocation",(e=>e.callback((e=>e.get(bi).location)))),wi=l.createInterface("IHistory",(e=>e.callback((e=>e.get(bi).history)))),xi={[z.capturing]:{capture:!0},[z.bubbling]:{capture:!1}};class ki{constructor(e,t,s,i,n,r,o,a){this.platform=e,this.targetEvent=t,this.delegationStrategy=s,this.sourceExpression=i,this.target=n,this.preventDefault=r,this.eventDelegator=o,this.locator=a,this.interceptor=this,this.isBound=!1,this.handler=null}callSource(e){const t=this.$scope.overrideContext;t.$event=e;const s=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);return Reflect.deleteProperty(t,"$event"),!0!==s&&this.preventDefault&&e.preventDefault(),s}handleEvent(e){this.interceptor.callSource(e)}$bind(e,t){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(2|e)}this.$scope=t;const s=this.sourceExpression;s.hasBind&&s.bind(e,t,this.interceptor),this.delegationStrategy===z.none?this.target.addEventListener(this.targetEvent,this):this.handler=this.eventDelegator.addEventListener(this.locator.get(hi),this.target,this.targetEvent,this,xi[this.delegationStrategy]),this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.interceptor),this.$scope=null,this.delegationStrategy===z.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observe(e,t){}handleChange(e,t,s){}}const Ci={capture:!1};class Ti{constructor(e,t,s=Ci){this.publisher=e,this.eventName=t,this.options=s,this.count=0,this.captureLookups=new Map,this.bubbleLookups=new Map}increment(){1==++this.count&&this.publisher.addEventListener(this.eventName,this,this.options)}decrement(){0==--this.count&&this.publisher.removeEventListener(this.eventName,this,this.options)}dispose(){this.count>0&&(this.count=0,this.publisher.removeEventListener(this.eventName,this,this.options)),this.captureLookups.clear(),this.bubbleLookups.clear()}getLookup(e){const t=!0===this.options.capture?this.captureLookups:this.bubbleLookups;let s=t.get(e);return void 0===s&&t.set(e,s=Object.create(null)),s}handleEvent(e){const t=!0===this.options.capture?this.captureLookups:this.bubbleLookups,s=e.composedPath();!0===this.options.capture&&s.reverse();for(const i of s){const s=t.get(i);if(void 0===s)continue;const n=s[this.eventName];if(void 0!==n&&("function"==typeof n?n(e):n.handleEvent(e),!0===e.cancelBubble))return}}}class Ai{constructor(e,t,s,i){this.tracker=e,this.lookup=t,this.eventName=s,e.increment(),t[s]=i}dispose(){this.tracker.decrement(),this.lookup[this.eventName]=void 0}}class $i{constructor(e){this.config=e,this.target=null,this.handler=null}subscribe(e,t){this.target=e,this.handler=t;for(const s of this.config.events)e.addEventListener(s,t)}dispose(){const{target:e,handler:t}=this;if(null!==e&&null!==t)for(const s of this.config.events)e.removeEventListener(s,t);this.target=this.handler=null}}const Ei=l.createInterface("IEventDelegator",(e=>e.singleton(Si)));class Si{constructor(){this.trackerMaps=Object.create(null)}addEventListener(e,t,s,i,n){var r,o;const a=null!==(r=(o=this.trackerMaps)[s])&&void 0!==r?r:o[s]=new Map;let l=a.get(e);return void 0===l&&a.set(e,l=new Ti(e,s,n)),new Ai(l,l.getLookup(t),s,i)}dispose(){for(const e in this.trackerMaps){const t=this.trackerMaps[e];for(const e of t.values())e.dispose();t.clear()}}}const Oi=l.createInterface("IProjections"),Pi=l.createInterface("IAuSlotsInfo");class Ri{constructor(e){this.projectedSlots=e}}var Mi;!function(e){e.hydrateElement="ra",e.hydrateAttribute="rb",e.hydrateTemplateController="rc",e.hydrateLetElement="rd",e.setProperty="re",e.interpolation="rf",e.propertyBinding="rg",e.callBinding="rh",e.letBinding="ri",e.refBinding="rj",e.iteratorBinding="rk",e.textBinding="ha",e.listenerBinding="hb",e.attributeBinding="hc",e.stylePropertyBinding="hd",e.setAttribute="he",e.setClassAttribute="hf",e.setStyleAttribute="hg"}(Mi||(Mi={}));const Bi=l.createInterface("Instruction");function ji(e){const t=e.type;return"string"==typeof t&&2===t.length}class Ii{constructor(e,t){this.from=e,this.to=t}get type(){return"rf"}}class Li{constructor(e,t,s){this.from=e,this.to=t,this.mode=s}get type(){return"rg"}}class Vi{constructor(e,t){this.from=e,this.to=t}get type(){return"rk"}}class Ni{constructor(e,t){this.from=e,this.to=t}get type(){return"rh"}}class qi{constructor(e,t){this.from=e,this.to=t}get type(){return"rj"}}class Di{constructor(e,t){this.value=e,this.to=t}get type(){return"re"}}class Fi{constructor(e,t,s,i,n){this.res=e,this.alias=t,this.instructions=s,this.projections=i,this.containerless=n,this.auSlot=null}get type(){return"ra"}}class zi{constructor(e,t,s){this.res=e,this.alias=t,this.instructions=s}get type(){return"rb"}}class Ui{constructor(e,t,s,i){this.def=e,this.res=t,this.alias=s,this.instructions=i}get type(){return"rc"}}class Ki{constructor(e,t){this.instructions=e,this.toBindingContext=t}get type(){return"rd"}}class Wi{constructor(e,t){this.from=e,this.to=t}get type(){return"ri"}}class Gi{constructor(e,t){this.from=e,this.strict=t}get type(){return"ha"}}class Hi{constructor(e,t,s,i){this.from=e,this.to=t,this.preventDefault=s,this.strategy=i}get type(){return"hb"}}class _i{constructor(e,t){this.from=e,this.to=t}get type(){return"hd"}}class Qi{constructor(e,t){this.value=e,this.to=t}get type(){return"he"}}class Xi{constructor(e){this.value=e,this.type="hf"}}class Yi{constructor(e){this.value=e,this.type="hg"}}class Zi{constructor(e,t,s){this.attr=e,this.from=t,this.to=s}get type(){return"hc"}}const Ji=l.createInterface("ITemplateCompiler"),en=l.createInterface("IRenderer");function tn(e){return function(t){const s=function(...s){const i=new t(...s);return i.instructionType=e,i};s.register=function(e){c.singleton(en,s).register(e)};const n=i.getOwnKeys(t);for(const e of n)i.define(e,i.getOwn(e,t),s);const r=Object.getOwnPropertyDescriptors(t);return Object.keys(r).filter((e=>"prototype"!==e)).forEach((e=>{Reflect.defineProperty(s,e,r[e])})),s}}function sn(e,t,s){return"string"==typeof t?e.parse(t,s):t}function nn(e){return null!=e.viewModel?e.viewModel:e}let rn=class{render(e,t,s,i){const n=nn(s);void 0!==n.$observers&&void 0!==n.$observers[i.to]?n.$observers[i.to].setValue(i.value,2):n[i.to]=i.value}};rn=re([tn("re")],rn);let on=class{constructor(e,t){this.r=e,this.p=t}static get inject(){return[Bs,Le]}render(e,t,s,i){let n,r,o,a;const l=i.res,h=i.projections,c=t.container,u=function(e,t,s,i,n,r){const o=t.container.createChild();return o.registerResolver(e.Element,o.registerResolver(li,new w("ElementProvider",s))),o.registerResolver(Ys,new w("IController",t)),o.registerResolver(Bi,new w("IInstruction",i)),o.registerResolver(ci,null==n?En:new w("IRenderLocation",n)),o.registerResolver(Ts,Sn),o.registerResolver(Pi,null==r?On:new w("IAuSlotsInfo",r)),o}(this.p,t,s,i,s,null==h?void 0:new Ri(Object.keys(h)));switch(typeof l){case"string":if(n=c.find(Gt,l),null==n)throw new Error(`Element ${l} is not registered in ${t.name}.`);break;default:n=l}r=n.Type,o=u.invoke(r),u.registerResolver(r,new w(n.key,o)),a=Ns.forCustomElement(u,o,s,i,e,n),e=a.flags,ai(s,n.key,a);const d=this.r.renderers,p=i.instructions,g=p.length;let f,v=0;for(;g>v;)f=p[v],d[f.type].render(e,t,a,f),++v;t.addChild(a)}};on=re([tn("ra")],on);let an=class{constructor(e,t){this.r=e,this.p=t}static get inject(){return[Bs,Le]}render(e,t,s,i){let n,r=t.container;switch(typeof i.res){case"string":if(n=r.find(It,i.res),null==n)throw new Error(`Attribute ${i.res} is not registered in ${t.name}.`);break;default:n=i.res}const o=$n(this.p,n,t,s,i,void 0,void 0),a=Ns.forCustomAttribute(t.container,o,s,e,n);ai(s,n.key,a);const l=this.r.renderers,h=i.instructions,c=h.length;let u,d=0;for(;c>d;)u=h[d],l[u.type].render(e,t,a,u),++d;t.addChild(a)}};an=re([tn("rb")],an);let ln=class{constructor(e,t){this.r=e,this.p=t}static get inject(){return[Bs,Le]}render(e,t,s,i){var n;let r,o=t.container;switch(typeof i.res){case"string":if(r=o.find(It,i.res),null==r)throw new Error(`Attribute ${i.res} is not registered in ${t.name}.`);break;default:r=i.res}const a=this.r.getViewFactory(i.def,o),l=fi(s),h=$n(this.p,r,t,s,i,a,l),c=Ns.forCustomAttribute(t.container,h,s,e,r);ai(l,r.key,c),null===(n=h.link)||void 0===n||n.call(h,e,t,c,s,i);const u=this.r.renderers,d=i.instructions,p=d.length;let g,f=0;for(;p>f;)g=d[f],u[g.type].render(e,t,c,g),++f;t.addChild(c)}};ln=re([tn("rc")],ln);let hn=class{constructor(e,t){this.parser=e,this.oL=t}render(e,t,s,i){s.remove();const n=i.instructions,r=i.toBindingContext,o=t.container;let a,l,h;for(let e=0,s=n.length;e<s;++e)a=n[e],l=sn(this.parser,a.from,48),h=new ht(l,a.to,this.oL,o,r),t.addBinding(38962===l.$kind?mn(h,l,o):h)}};hn=re([tn("rd"),oe(0,D),oe(1,q)],hn);let cn=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,s,i){const n=sn(this.parser,i.from,153),r=new Ke(n,nn(s),i.to,this.observerLocator,t.container);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};cn=re([tn("rh"),oe(0,D),oe(1,q)],cn);let un=class{constructor(e){this.parser=e}render(e,t,s,i){const n=sn(this.parser,i.from,5376),r=new mt(n,function(e,t){if("element"===t)return e;switch(t){case"controller":return Gt.for(e);case"view":throw new Error("Not supported API");case"view-model":return Gt.for(e).viewModel;default:{const s=It.for(e,t);if(void 0!==s)return s.viewModel;const i=Gt.for(e,{name:t});if(void 0===i)throw new Error(`Attempted to reference "${t}", but it was not found amongst the target's API.`);return i.viewModel}}}(s,i.to),t.container);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};un=re([tn("rj"),oe(0,D)],un);let dn=class{constructor(e,t,s){this.parser=e,this.oL=t,this.p=s}render(e,t,s,i){const n=t.container,r=sn(this.parser,i.from,2048),o=new ot(this.oL,r,nn(s),i.to,R.toView,n,this.p.domWriteQueue),a=o.partBindings,l=a.length;let h,c=0;for(;l>c;++c)h=a[c],38962===h.sourceExpression.$kind&&(a[c]=mn(h,h.sourceExpression,n));t.addBinding(o)}};dn=re([tn("rf"),oe(0,D),oe(1,q),oe(2,Le)],dn);let pn=class{constructor(e,t,s){this.parser=e,this.oL=t,this.p=s}render(e,t,s,i){const n=sn(this.parser,i.from,48|i.mode),r=new ft(n,nn(s),i.to,i.mode,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};pn=re([tn("rg"),oe(0,D),oe(1,q),oe(2,Le)],pn);let gn=class{constructor(e,t,s){this.parser=e,this.oL=t,this.p=s}render(e,t,s,i){const n=sn(this.parser,i.from,539),r=new ft(n,nn(s),i.to,R.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(r)}};gn=re([tn("rk"),oe(0,D),oe(1,q),oe(2,Le)],gn);let fn=0;const vn=[];function mn(e,t,s){for(;t instanceof U;)vn[fn++]=t,t=t.expression;for(;fn>0;){const t=vn[--fn],i=s.get(t.behaviorKey);i instanceof K&&(e=i.construct(e,t))}return vn.length=0,e}let bn=class{constructor(e,t,s){this.parser=e,this.oL=t,this.p=s}render(e,t,s,i){const n=t.container,r=s.nextSibling,o=s.parentNode,a=this.p.document,l=sn(this.parser,i.from,2048),h=l.parts,c=l.expressions,u=c.length;let d,p,g=0,f=h[0];for(""!==f&&o.insertBefore(a.createTextNode(f),r);u>g;++g)p=c[g],d=new lt(p,o.insertBefore(a.createTextNode(""),r),n,this.oL,this.p,i.strict),t.addBinding(38962===p.$kind?mn(d,p,n):d),f=h[g+1],""!==f&&o.insertBefore(a.createTextNode(f),r);"AU-M"===s.nodeName&&s.remove()}};bn=re([tn("ha"),oe(0,D),oe(1,q),oe(2,Le)],bn);let yn=class{constructor(e,t,s){this.parser=e,this.eventDelegator=t,this.p=s}render(e,t,s,i){const n=sn(this.parser,i.from,80|i.strategy+6),r=new ki(this.p,i.to,i.strategy,n,s,i.preventDefault,this.eventDelegator,t.container);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};yn=re([tn("hb"),oe(0,D),oe(1,Ei),oe(2,Le)],yn);let wn=class{render(e,t,s,i){s.setAttribute(i.to,i.value)}};wn=re([tn("he")],wn);let xn=class{render(e,t,s,i){!function(e,t){const s=t.length;let i=0;for(let n=0;n<s;++n)32===t.charCodeAt(n)?(n!==i&&e.add(t.slice(i,n)),i=n+1):n+1===s&&e.add(t.slice(i))}(s.classList,i.value)}};xn=re([tn("hf")],xn);let kn=class{render(e,t,s,i){s.style.cssText+=i.value}};kn=re([tn("hg")],kn);let Cn=class{constructor(e,t,s){this.parser=e,this.oL=t,this.p=s}render(e,t,s,i){const n=sn(this.parser,i.from,48|R.toView),r=new ft(n,s.style,i.to,R.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};Cn=re([tn("hd"),oe(0,D),oe(1,q),oe(2,Le)],Cn);let Tn=class{constructor(e,t){this.parser=e,this.oL=t}render(e,t,s,i){const n=sn(this.parser,i.from,48|R.toView),r=new it(n,s,i.attr,i.to,R.toView,this.oL,t.container);t.addBinding(38962===n.$kind?mn(r,n,t.container):r)}};Tn=re([tn("hc"),oe(0,D),oe(1,q)],Tn);class An{constructor(e){this.f=e}get $isResolver(){return!0}resolve(){const e=this.f;if(null===e)throw new Error("Cannot resolve ViewFactory before the provider was prepared.");if("string"!=typeof e.name||0===e.name.length)throw new Error("Cannot resolve ViewFactory without a (valid) name.");return e}}function $n(e,t,s,i,n,r,o,a){const l=s.container.createChild();return l.registerResolver(e.Element,l.registerResolver(li,new w("ElementProvider",i))),l.registerResolver(Ys,new w("IController",s)),l.registerResolver(Bi,new w("IInstruction",n)),l.registerResolver(ci,null==o?En:new w("IRenderLocation",o)),l.registerResolver(Ts,null==r?Sn:new An(r)),l.registerResolver(Pi,null==a?On:new w("IAuSlotsInfo",a)),l.invoke(t.Type)}const En=new w("IRenderLocation"),Sn=new An(null),On=new w("IAuSlotsInfo",new Ri(a));function Pn(e){return function(t){return Mn.define(e,t)}}class Rn{constructor(e,t,s,i,n){this.Type=e,this.name=t,this.aliases=s,this.key=i,this.type=n}static create(e,t){let s,i;return"string"==typeof e?(s=e,i={name:s}):(s=e.name,i=e),new Rn(t,n(Mn.getAnnotation(t,"name"),s),d(Mn.getAnnotation(t,"aliases"),i.aliases,t.aliases),Mn.keyFrom(s),n(Mn.getAnnotation(t,"type"),i.type,t.type,null))}register(e){const{Type:t,key:s,aliases:i}=this;c.singleton(s,t).register(e),c.aliasTo(s,t).register(e),I(i,Mn,s,e)}}const Mn={name:t.resource.keyFor("binding-command"),keyFrom:e=>`${Mn.name}:${e}`,isType:e=>"function"==typeof e&&i.hasOwn(Mn.name,e),define(e,s){const n=Rn.create(e,s);return i.define(Mn.name,n,n.Type),i.define(Mn.name,n,n),t.resource.appendTo(s,Mn.name),n.Type},getDefinition(e){const t=i.getOwn(Mn.name,e);if(void 0===t)throw new Error(`No definition found for type ${e.name}`);return t},annotate(e,s,n){i.define(t.annotation.keyFor(s),n,e)},getAnnotation:(e,s)=>i.getOwn(t.annotation.keyFor(s),e)};let Bn=class{constructor(e){this.m=e,this.bindingType=49}static get inject(){return[Fe]}build(e){var t;let s;return s=null==e.bindable?null!==(t=this.m.map(e.node,e.attr.target))&&void 0!==t?t:A(e.attr.target):e.bindable.property,new Li(e.expr,s,R.oneTime)}};Bn=re([Pn("one-time")],Bn);let jn=class{constructor(e){this.m=e,this.bindingType=50}static get inject(){return[Fe]}build(e){var t;let s;return s=null==e.bindable?null!==(t=this.m.map(e.node,e.attr.target))&&void 0!==t?t:A(e.attr.target):e.bindable.property,new Li(e.expr,s,R.toView)}};jn=re([Pn("to-view")],jn);let In=class{constructor(e){this.m=e,this.bindingType=51}static get inject(){return[Fe]}build(e){var t;let s;return s=null==e.bindable?null!==(t=this.m.map(e.node,e.attr.target))&&void 0!==t?t:A(e.attr.target):e.bindable.property,new Li(e.expr,s,R.fromView)}};In=re([Pn("from-view")],In);let Ln=class{constructor(e){this.m=e,this.bindingType=52}static get inject(){return[Fe]}build(e){var t;let s;return s=null==e.bindable?null!==(t=this.m.map(e.node,e.attr.target))&&void 0!==t?t:A(e.attr.target):e.bindable.property,new Li(e.expr,s,R.twoWay)}};Ln=re([Pn("two-way")],Ln);let Vn=class{constructor(e){this.m=e,this.bindingType=53}static get inject(){return[Fe]}build(e){var t;const s=e.attr.target,i=e.bindable;let n,r,o;return null==i?(r=this.m.isTwoWay(e.node,s)?R.twoWay:R.toView,o=null!==(t=this.m.map(e.node,s))&&void 0!==t?t:A(s)):(n=e.def.defaultBindingMode,r=i.mode===R.default||null==i.mode?null==n||n===R.default?R.toView:n:i.mode,o=i.property),new Li(e.expr,o,r)}};Vn=re([Pn("bind")],Vn);let Nn=class{constructor(){this.bindingType=153}build(e){const t=null===e.bindable?A(e.attr.target):e.bindable.property;return new Ni(e.expr,t)}};Nn=re([Pn("call")],Nn);let qn=class{constructor(){this.bindingType=539}build(e){const t=null===e.bindable?A(e.attr.target):e.bindable.property;return new Vi(e.expr,t)}};qn=re([Pn("for")],qn);let Dn=class{constructor(){this.bindingType=4182}build(e){return new Hi(e.expr,e.attr.target,!0,z.none)}};Dn=re([Pn("trigger")],Dn);let Fn=class{constructor(){this.bindingType=4184}build(e){return new Hi(e.expr,e.attr.target,!1,z.bubbling)}};Fn=re([Pn("delegate")],Fn);let zn=class{constructor(){this.bindingType=4183}build(e){return new Hi(e.expr,e.attr.target,!1,z.capturing)}};zn=re([Pn("capture")],zn);let Un=class{constructor(){this.bindingType=4128}build(e){return new Zi(e.attr.target,e.expr,e.attr.target)}};Un=re([Pn("attr")],Un);let Kn=class{constructor(){this.bindingType=4128}build(e){return new Zi("style",e.expr,e.attr.target)}};Kn=re([Pn("style")],Kn);let Wn=class{constructor(){this.bindingType=4128}build(e){return new Zi("class",e.expr,e.attr.target)}};Wn=re([Pn("class")],Wn);let Gn=class{constructor(){this.bindingType=4128}build(e){return new qi(e.expr,e.attr.target)}};Gn=re([Pn("ref")],Gn);const Hn=l.createInterface("ITemplateElementFactory",(e=>e.singleton(Qn))),_n={};class Qn{constructor(e){this.p=e,this.template=e.document.createElement("template")}createTemplate(e){var t;if("string"==typeof e){let t=_n[e];if(void 0===t){const s=this.template;s.innerHTML=e;const i=s.content.firstElementChild;null==i||"TEMPLATE"!==i.nodeName||null!=i.nextElementSibling?(this.template=this.p.document.createElement("template"),t=s):(s.content.removeChild(i),t=i),_n[e]=t}return t.cloneNode(!0)}if("TEMPLATE"!==e.nodeName){const t=this.p.document.createElement("template");return t.content.appendChild(e),t}return null===(t=e.parentNode)||void 0===t||t.removeChild(e),e.cloneNode(!0)}}Qn.inject=[Le];const Xn=function(e){function t(e,s,i){l.inject(t)(e,s,i)}return t.$isResolver=!0,t.resolve=function(t,s){return s.root===s?s.getAll(e,!1):s.has(e,!1)?s.getAll(e,!1).concat(s.root.getAll(e,!1)):s.root.getAll(e,!1)},t};class Yn{constructor(){this.debug=!1,this.resolveResources=!0}static register(e){return c.singleton(Ji,this).register(e)}compile(e,t,s){var i,n,r,o;const l=Kt.getOrCreate(e);if(null==l.template)return l;if(!1===l.needsCompile)return l;null!=s||(s=tr);const h=new Zn(e,t,s,null,null,void 0),c="string"!=typeof l.template&&e.enhance?l.template:h.templateFactory.createTemplate(l.template),u="TEMPLATE"===c.nodeName&&null!=c.content,d=u?c.content:c,p=t.get(Xn(pr)),g=p.length;let f=0;if(g>0)for(;g>f;)null===(n=(i=p[f]).compiling)||void 0===n||n.call(i,c),++f;if(c.hasAttribute(cr))throw new Error("The root cannot be a local template itself.");return this.local(d,h),this.node(d,h),Kt.create({...e,name:e.name||Gt.generateName(),dependencies:(null!==(r=e.dependencies)&&void 0!==r?r:a).concat(null!==(o=h.deps)&&void 0!==o?o:a),instructions:h.rows,surrogates:u?this.surrogate(c,h):a,template:c,hasSlots:h.hasSlot,needsCompile:!1})}surrogate(e,t){var s;const i=[],n=e.attributes,r=t.exprParser;let o,a,l,h,c,u,d,p,g,f,v,m,b=n.length,y=0,w=null,x=null;for(;b>y;++y){if(o=n[y],a=o.name,l=o.value,h=t.attrParser.parse(a,l),v=h.target,m=h.rawValue,nr[v])throw new Error(`Attribute ${a} is invalid on surrogate.`);if(x=t.command(h),null!==x&&4096&x.bindingType)g=r.parse(m,x.bindingType),ir.node=e,ir.attr=h,ir.expr=g,ir.bindable=null,ir.def=null,i.push(x.build(ir));else if(w=t.attr(v),null===w)if(null===x)if(g=r.parse(m,2048),null!=g)e.removeAttribute(a),--y,--b,i.push(new Ii(g,null!==(s=t.attrMapper.map(e,v))&&void 0!==s?s:A(v)));else switch(a){case"class":i.push(new Xi(m));break;case"style":i.push(new Yi(m));break;default:i.push(new Qi(m,a))}else g=r.parse(m,x.bindingType),ir.node=e,ir.attr=h,ir.expr=g,ir.bindable=null,ir.def=null,i.push(x.build(ir));else{if(w.isTemplateController)throw new Error(`Template controller ${v} is invalid on surrogate.`);d=ar.from(w,!0),f=!1===w.noMultiBindings&&null===x&&Jn(m),f?u=this.multiBindings(e,m,w,t):(p=d.primary,null===x?(g=r.parse(m,2048),u=[null===g?new Di(m,p.property):new Ii(g,p.property)]):(g=r.parse(m,x.bindingType),ir.node=e,ir.attr=h,ir.expr=g,ir.bindable=p,ir.def=w,u=[x.build(ir)])),e.removeAttribute(a),--y,--b,(null!=c?c:c=[]).push(new zi(this.resolveResources?w:w.name,null!=w.aliases&&w.aliases.includes(v)?v:void 0,u))}}return er(),null!=c?c.concat(i):i}node(e,t){switch(e.nodeType){case 1:switch(e.nodeName){case"LET":return this.declare(e,t);default:return this.element(e,t)}case 3:return this.text(e,t);case 11:{let s=e.firstChild;for(;null!==s;)s=this.node(s,t);break}}return e.nextSibling}declare(e,t){const s=e.attributes,i=s.length,n=[],r=t.exprParser;let o,a,l,h,c,u,d,p,g=!1,f=0;for(;i>f;++f)if(o=s[f],l=o.name,h=o.value,"to-binding-context"!==l){if(a=t.attrParser.parse(l,h),u=a.target,d=a.rawValue,c=t.command(a),null!==c){if(50===c.bindingType||53===c.bindingType){n.push(new Wi(r.parse(d,c.bindingType),A(u)));continue}throw new Error(`Invalid command ${a.command} for <let>. Only to-view/bind supported.`)}p=r.parse(d,2048),null===p&&t.logger.warn(`Property ${u} is declared with literal string ${d}. Did you mean ${u}.bind="${d}"?`),n.push(new Wi(null===p?new W(d):p,A(u)))}else g=!0;return t.rows.push([new Ki(n,g)]),this.mark(e).nextSibling}element(e,t){var s,i,n,r,l,h,c;const u=e.nextSibling,d=(null!==(s=e.getAttribute("as-element"))&&void 0!==s?s:e.nodeName).toLowerCase(),p=t.el(d),g=t.exprParser,f=this.debug?o:()=>{e.removeAttribute(b),--N,--V};let v,m,b,y,w,x,k,C,T,$,E,S,O,P,R,M,B,j,I,L=e.attributes,V=L.length,N=0,q=null,D=!1,F=null,z=!0,U=!1;if("slot"===d&&(t.root.hasSlot=!0),null!==p&&(z=null===(i=p.processContent)||void 0===i?void 0:i.call(p.Type,e,t.p),L=e.attributes,V=L.length),t.root.def.enhance&&e.classList.contains("au"))throw new Error("AUR0710");for(;V>N;++N){switch(m=L[N],b=m.name,y=m.value,b){case"as-element":case"containerless":f(),U||(U="containerless"===b);continue}if(w=t.attrParser.parse(b,y),F=t.command(w),null!==F&&4096&F.bindingType)O=g.parse(y,F.bindingType),ir.node=e,ir.attr=w,ir.expr=O,ir.bindable=null,ir.def=null,(null!=x?x:x=[]).push(F.build(ir)),f();else if(B=w.target,j=w.rawValue,q=t.attr(B),null===q)if(null!==F)f(),null===p||(R=ar.from(p,!1),C=R.attrs[B],void 0===C)?(O=g.parse(j,F.bindingType),ir.node=e,ir.attr=w,ir.expr=O,ir.bindable=null,ir.def=null,(null!=x?x:x=[]).push(F.build(ir))):(y=0===y.length&&(55&F.bindingType)>0?A(b):y,O=g.parse(y,F.bindingType),ir.node=e,ir.attr=w,ir.expr=O,ir.bindable=C,ir.def=p,(null!=k?k:k=[]).push(F.build(ir)));else{if(null!==p&&(R=ar.from(p,!1),C=R.attrs[B],void 0!==C)){O=g.parse(j,2048),(null!=k?k:k=[]).push(null==O?new Di(j,C.property):new Ii(O,C.property)),f();continue}O=g.parse(j,2048),null!=O&&(f(),(null!=x?x:x=[]).push(new Ii(O,null!==(n=t.attrMapper.map(e,B))&&void 0!==n?n:A(B))))}else R=ar.from(q,!0),D=!1===q.noMultiBindings&&null===F&&Jn(y),D?$=this.multiBindings(e,y,q,t):(M=R.primary,null===F?(O=g.parse(y,2048),$=[null===O?new Di(y,M.property):new Ii(O,M.property)]):(O=g.parse(y,F.bindingType),ir.node=e,ir.attr=w,ir.expr=O,ir.bindable=M,ir.def=q,$=[F.build(ir)])),f(),q.isTemplateController?(null!=E?E:E=[]).push(new Ui(sr,this.resolveResources?q:q.name,void 0,$)):(null!=T?T:T=[]).push(new zi(this.resolveResources?q:q.name,null!=q.aliases&&q.aliases.includes(B)?B:void 0,$))}if(er(),this.shouldReorderAttrs(e)&&null!=x&&x.length>1&&this.reorder(e,x),null!==p&&(P=new Fi(this.resolveResources?p:p.name,void 0,null!=k?k:a,null,U),"au-slot"===d)){const s=e.getAttribute("name")||"default",i=t.h("template"),n=t.child();let r=e.firstChild;for(;null!==r;)1===r.nodeType&&r.hasAttribute("au-slot")?e.removeChild(r):i.content.appendChild(r),r=e.firstChild;this.node(i.content,n),P.auSlot={name:s,fallback:Kt.create({name:Gt.generateName(),template:i,instructions:n.rows,needsCompile:!1})},e=this.marker(e,t)}if(null==x&&null==P&&null==T||(v=a.concat(null!=P?P:a,null!=T?T:a,null!=x?x:a),this.mark(e)),null!=E){let s;V=E.length-1,N=V,S=E[N],this.marker(e,t),"TEMPLATE"===e.nodeName?s=e:(s=t.h("template"),s.content.appendChild(e));const i=s,n=t.child(null==v?[]:[v]);let o,a,l,c,u,d,g,f,m;I=null===p||!p.containerless&&!U&&!1!==z,null!==p&&p.containerless&&this.marker(e,t);let b=0,y=0;if(I){if(null!==p){for(o=e.firstChild;null!==o;)1===o.nodeType?(a=o,o=o.nextSibling,l=a.getAttribute("au-slot"),null!==l&&(""===l&&(l="default"),a.removeAttribute("au-slot"),e.removeChild(a),(null!==(r=(h=null!=u?u:u={})[l])&&void 0!==r?r:h[l]=[]).push(a))):o=o.nextSibling;if(null!=u){for(l in c={},u){for(s=t.h("template"),d=u[l],b=0,y=d.length;y>b;++b)g=d[b],s.content.appendChild("TEMPLATE"===g.nodeName?g.attributes.length>0?g:g.content:g);m=t.child(),this.node(s.content,m),c[l]=Kt.create({name:Gt.generateName(),template:s,instructions:m.rows,needsCompile:!1})}P.projections=c}}if("TEMPLATE"===e.nodeName)this.node(e.content,n);else for(o=e.firstChild;null!==o;)o=this.node(o,n)}for(S.def=Kt.create({name:Gt.generateName(),template:i,instructions:n.rows,needsCompile:!1});N-- >0;){if(S=E[N],s=t.h("template"),f=t.h("au-m"),f.classList.add("au"),s.content.appendChild(f),S.def!==sr)throw new Error(`Invalid definition for processing ${S.res}.`);S.def=Kt.create({name:Gt.generateName(),template:s,needsCompile:!1,instructions:[[E[N+1]]]})}t.rows.push([S])}else if(null!=v&&t.rows.push(v),I=null===p||!p.containerless&&!U&&!1!==z,null!==p&&p.containerless&&this.marker(e,t),I&&e.childNodes.length>0){let s,i,n,r,o,a,h,u=e.firstChild,d=null,g=0,f=0;for(;null!==u;)if(1===u.nodeType){if(s=u,u=u.nextSibling,i=s.getAttribute("au-slot"),null!==i){if(null===p)throw new Error(`Projection with [au-slot="${i}"] is attempted on a non custom element ${e.nodeName}.`);""===i&&(i="default"),e.removeChild(s),s.removeAttribute("au-slot"),(null!==(l=(c=null!=n?n:n={})[i])&&void 0!==l?l:c[i]=[]).push(s)}}else u=u.nextSibling;if(null!=n){for(i in d={},n){for(a=t.h("template"),r=n[i],g=0,f=r.length;f>g;++g)o=r[g],a.content.appendChild("TEMPLATE"===o.nodeName?o.attributes.length>0?o:o.content:o);h=t.child(),this.node(a.content,h),d[i]=Kt.create({name:Gt.generateName(),template:a,instructions:h.rows,needsCompile:!1})}P.projections=d}for(u=e.firstChild;null!==u;)u=this.node(u,t)}return u}text(e,t){let s="",i=e;for(;null!==i&&3===i.nodeType;)s+=i.textContent,i=i.nextSibling;const n=t.exprParser.parse(s,2048);if(null===n)return i;const r=e.parentNode;for(r.insertBefore(this.mark(t.h("au-m")),e),t.rows.push([new Gi(n,!!t.def.isStrictBinding)]),e.textContent="",i=e.nextSibling;null!==i&&3===i.nodeType;)r.removeChild(i),i=e.nextSibling;return e.nextSibling}multiBindings(e,t,s,i){const n=ar.from(s,!0),r=t.length,o=[];let a,l,h,c,u,d,p=0,g=0;for(let f=0;f<r;++f)if(g=t.charCodeAt(f),92===g)++f;else if(58===g){for(a=t.slice(p,f);t.charCodeAt(++f)<=32;);for(p=f;f<r;++f)if(g=t.charCodeAt(f),92===g)++f;else if(59===g){l=t.slice(p,f);break}if(void 0===l&&(l=t.slice(p)),c=i.attrParser.parse(a,l),u=i.command(c),d=n.attrs[c.target],null==d)throw new Error(`Bindable ${c.target} not found on ${s.name}.`);for(null===u?(h=i.exprParser.parse(l,2048),o.push(null===h?new Di(l,d.property):new Ii(h,d.property))):(h=i.exprParser.parse(l,u.bindingType),ir.node=e,ir.attr=c,ir.expr=h,ir.bindable=d,ir.def=s,o.push(u.build(ir)));f<r&&t.charCodeAt(++f)<=32;);p=f,a=void 0,l=void 0}return er(),o}local(e,t){const s=e,i=$(s.querySelectorAll("template[as-custom-element]")),n=i.length;if(0===n)return;if(n===s.childElementCount)throw new Error("The custom element does not have any content other than local template(s).");const r=new Set;for(const e of i){if(e.parentNode!==s)throw new Error("Local templates needs to be defined directly under root.");const i=ur(e,r),n=class{},o=e.content,a=$(o.querySelectorAll("bindable")),l=he.for(n),h=new Set,c=new Set;for(const e of a){if(e.parentNode!==o)throw new Error("Bindable properties of local templates needs to be defined directly under root.");const s=e.getAttribute("property");if(null===s)throw new Error(`The attribute 'property' is missing in ${e.outerHTML}`);const i=e.getAttribute("attribute");if(null!==i&&c.has(i)||h.has(s))throw new Error(`Bindable property and attribute needs to be unique; found property: ${s}, attribute: ${i}`);null!==i&&c.add(i),h.add(s),l.add({property:s,attribute:null!=i?i:void 0,mode:dr(e)});const n=e.getAttributeNames().filter((e=>!hr.includes(e)));n.length>0&&t.logger.warn(`The attribute(s) ${n.join(", ")} will be ignored for ${e.outerHTML}. Only ${hr.join(", ")} are processed.`),o.removeChild(e)}t.addDep(Gt.define({name:i,template:e},n)),s.removeChild(e)}}shouldReorderAttrs(e){return"INPUT"===e.nodeName&&1===rr[e.type]}reorder(e,t){switch(e.nodeName){case"INPUT":{const e=t;let s,i,n,r=0;for(let t=0;t<e.length&&r<3;t++)switch(n=e[t],n.to){case"model":case"value":case"matcher":s=t,r++;break;case"checked":i=t,r++}void 0!==i&&void 0!==s&&i<s&&([e[s],e[i]]=[e[i],e[s]])}}}mark(e){return e.classList.add("au"),e}marker(e,t){const s=e.parentNode,i=t.h("au-m");return this.mark(s.insertBefore(i,e)),s.removeChild(e),i}}class Zn{constructor(e,t,s,i,n,r){this.hasSlot=!1,this.commands=Ie();const o=null!==i;this.c=t,this.root=null===n?this:n,this.def=e,this.ci=s,this.parent=i,this.templateFactory=o?i.templateFactory:t.get(Hn),this.attrParser=o?i.attrParser:t.get(Te),this.exprParser=o?i.exprParser:t.get(D),this.attrMapper=o?i.attrMapper:t.get(Fe),this.logger=o?i.logger:t.get(x),this.p=o?i.p:t.get(Le),this.localEls=o?i.localEls:new Set,this.rows=null!=r?r:[]}addDep(e){var t,s;(null!==(t=(s=this.root).deps)&&void 0!==t?t:s.deps=[]).push(e),this.root.c.register(e)}h(e){const t=this.p.document.createElement(e);return"template"===e&&this.p.document.adoptNode(t.content),t}el(e){return this.c.find(Gt,e)}attr(e){return this.c.find(It,e)}child(e){return new Zn(this.def,this.c,this.ci,this,this.root,e)}command(e){if(this.root!==this)return this.root.command(e);const t=e.command;if(null===t)return null;let s=this.commands[t];if(void 0===s){if(s=this.c.create(Mn,t),null===s)throw new Error(`Unknown binding command: ${t}`);this.commands[t]=s}return s}}function Jn(e){const t=e.length;let s=0,i=0;for(;t>i;){if(s=e.charCodeAt(i),92===s)++i;else{if(58===s)return!0;if(36===s&&123===e.charCodeAt(i+1))return!1}++i}return!1}function er(){ir.node=ir.attr=ir.expr=ir.bindable=ir.def=null}const tr={projections:null},sr={name:"unnamed"},ir={node:null,expr:null,attr:null,bindable:null,def:null},nr=Object.assign(Ie(),{id:!0,name:!0,"au-slot":!0,"as-element":!0}),rr={checkbox:1,radio:1},or=new WeakMap;class ar{constructor(e,t,s){this.attrs=e,this.bindables=t,this.primary=s}static from(e,t){let s=or.get(e);if(null==s){const i=e.bindables,n=Ie(),r=t?void 0===e.defaultBindingMode?R.default:e.defaultBindingMode:R.default;let o,a,l,h,c=!1;for(a in i){if(o=i[a],h=o.attribute,!0===o.primary){if(c)throw new Error(`Primary already exists on ${e.name}`);c=!0,l=o}else c||null!=l||(l=o);n[h]=ce.create(a,o)}null==o&&t&&(l=n.value=ce.create("value",{mode:r})),or.set(e,s=new ar(n,i,l))}return s}}var lr;!function(e){e.property="property",e.attribute="attribute",e.mode="mode"}(lr||(lr={}));const hr=Object.freeze(["property","attribute","mode"]),cr="as-custom-element";function ur(e,t){const s=e.getAttribute(cr);if(null===s||""===s)throw new Error('The value of "as-custom-element" attribute cannot be empty for local template');if(t.has(s))throw new Error(`Duplicate definition of the local template named ${s}`);return t.add(s),e.removeAttribute(cr),s}function dr(e){switch(e.getAttribute("mode")){case"oneTime":return R.oneTime;case"toView":return R.toView;case"fromView":return R.fromView;case"twoWay":return R.twoWay;case"default":default:return R.default}}const pr=l.createInterface("ITemplateCompilerHooks"),gr=new WeakMap,fr=t.resource.keyFor("compiler-hooks"),vr=Object.freeze({name:fr,define(e){let s=gr.get(e);return void 0===s&&(gr.set(e,s=new mr(e)),i.define(fr,s,e),t.resource.appendTo(e,fr)),e}});class mr{constructor(e){this.Type=e}get name(){return""}register(e){e.register(c.singleton(pr,this.Type))}}const br=e=>{return void 0===e?t:t(e);function t(e){return vr.define(e)}};class yr{constructor(e){this.mode=e,this.originalModes=new Map}bind(e,t,s){this.originalModes.set(s,s.mode),s.mode=this.mode}unbind(e,t,s){s.mode=this.originalModes.get(s),this.originalModes.delete(s)}}class wr extends yr{constructor(){super(R.oneTime)}}class xr extends yr{constructor(){super(R.toView)}}class kr extends yr{constructor(){super(R.fromView)}}class Cr extends yr{constructor(){super(R.twoWay)}}G("oneTime")(wr),G("toView")(xr),G("fromView")(kr),G("twoWay")(Cr);class Tr extends H{constructor(e,t){super(e,t),this.opts={delay:200},this.firstArg=null,this.task=null,this.taskQueue=e.locator.get(u).taskQueue,t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask((()=>this.binding.callSource(e)))}handleChange(e,t,s){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(e,t,s)}updateSource(e,t){this.queueTask((()=>this.binding.updateSource(e,t)))}queueTask(e){const t=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,e())),this.opts),null==t||t.cancel()}$bind(e,t){if(null!==this.firstArg){const s=Number(this.firstArg.evaluate(e,t,this.locator,null));this.opts.delay=isNaN(s)?200:s}this.binding.$bind(e,t)}$unbind(e){var t;null===(t=this.task)||void 0===t||t.cancel(),this.task=null,this.binding.$unbind(e)}}G("debounce")(Tr);let Ar=class{constructor(e){this.signaler=e,this.lookup=new Map}bind(e,t,s,...i){if(!("handleChange"in s))throw new Error("The signal behavior can only be used with bindings that have a 'handleChange' method");if(0===i.length)throw new Error("At least one signal name must be passed to the signal behavior, e.g. `expr & signal:'my-signal'`");this.lookup.set(s,i);for(const e of i)this.signaler.addSignalListener(e,s)}unbind(e,t,s){const i=this.lookup.get(s);this.lookup.delete(s);for(const e of i)this.signaler.removeSignalListener(e,s)}};Ar=re([oe(0,_)],Ar),G("signal")(Ar);class $r extends H{constructor(e,t){super(e,t),this.opts={delay:200},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.platform=e.locator.get(u),this.taskQueue=this.platform.taskQueue,t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask((()=>this.binding.callSource(e)))}handleChange(e,t,s){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.platform.performanceNow()),this.binding.handleChange(e,t,s)}updateSource(e,t){this.queueTask((()=>this.binding.updateSource(e,t)))}queueTask(e){const t=this.opts,s=this.platform,i=this.lastCall+t.delay-s.performanceNow();if(i>0){const n=this.task;t.delay=i,this.task=this.taskQueue.queueTask((()=>{this.lastCall=s.performanceNow(),this.task=null,t.delay=this.delay,e()}),t),null==n||n.cancel()}else this.lastCall=s.performanceNow(),e()}$bind(e,t){if(null!==this.firstArg){const s=Number(this.firstArg.evaluate(e,t,this.locator,null));this.opts.delay=this.delay=isNaN(s)?200:s}this.binding.$bind(e,t)}$unbind(e){var t;null===(t=this.task)||void 0===t||t.cancel(),this.task=null,super.$unbind(e)}}G("throttle")($r);class Er{constructor(){this.propertyKey="",this.type=6}getValue(e,t){return e.getAttribute(t)}setValue(e,t,s,i){null==e?s.removeAttribute(i):s.setAttribute(i,e)}}const Sr=new Er;let Or=class{bind(e,t,s){s.targetObserver=Sr}unbind(e,t,s){}};function Pr(e){const t=e.composedPath()[0];if(this.target===t)return this.selfEventCallSource(e)}Or=re([G("attr")],Or);let Rr=class{bind(e,t,s){if(!s.callSource||!s.targetEvent)throw new Error("Self binding behavior only supports events.");s.selfEventCallSource=s.callSource,s.callSource=Pr}unbind(e,t,s){s.callSource=s.selfEventCallSource,s.selfEventCallSource=null}};Rr=re([G("self")],Rr);const Mr=Ie();class Br{constructor(e){this.namespace=e,this.type=6}static forNs(e){var t;return null!==(t=Mr[e])&&void 0!==t?t:Mr[e]=new Br(e)}getValue(e,t){return e.getAttributeNS(this.namespace,t)}setValue(e,t,s,i){null==e?s.removeAttributeNS(this.namespace,i):s.setAttributeNS(this.namespace,i,e)}}function jr(e,t){return e===t}class Ir{constructor(e,t,s,i){this.handler=s,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.type=7,this.collectionObserver=void 0,this.valueObserver=void 0,this.f=0,this.obj=e}getValue(){return this.value}setValue(e,t){const s=this.value;e!==s&&(this.value=e,this.oldValue=s,this.f=t,this.observe(),this.synchronizeElement(),this.queue.add(this))}handleCollectionChange(e,t){this.synchronizeElement()}handleChange(e,t,s){this.synchronizeElement()}synchronizeElement(){const e=this.value,t=this.obj,s=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,i=void 0!==t.matcher?t.matcher:jr;if("radio"===t.type)t.checked=!!i(e,s);else if(!0===e)t.checked=!0;else{let n=!1;if(e instanceof Array)n=-1!==e.findIndex((e=>!!i(e,s)));else if(e instanceof Set){for(const t of e)if(i(t,s)){n=!0;break}}else if(e instanceof Map)for(const t of e){const e=t[1];if(i(t[0],s)&&!0===e){n=!0;break}}t.checked=n}}handleEvent(){let e=this.oldValue=this.value;const t=this.obj,s=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,i=t.checked,n=void 0!==t.matcher?t.matcher:jr;if("checkbox"===t.type){if(e instanceof Array){const t=e.findIndex((e=>!!n(e,s)));return void(i&&-1===t?e.push(s):i||-1===t||e.splice(t,1))}if(e instanceof Set){const t={};let r=t;for(const t of e)if(!0===n(t,s)){r=t;break}return void(i&&r===t?e.add(s):i||r===t||e.delete(r))}if(e instanceof Map){let t;for(const i of e){const e=i[0];if(!0===n(e,s)){t=e;break}}return void e.set(t,i)}e=i}else{if(!i)return;e=s}this.value=e,this.queue.add(this)}start(){this.handler.subscribe(this.obj,this),this.observe()}stop(){var e,t;this.handler.dispose(),null===(e=this.collectionObserver)||void 0===e||e.unsubscribe(this),this.collectionObserver=void 0,null===(t=this.valueObserver)||void 0===t||t.unsubscribe(this)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&this.start()}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.stop()}flush(){Lr=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Lr,this.f)}observe(){var e,t,s,i,n,r,o;const a=this.obj;null===(n=null!==(e=this.valueObserver)&&void 0!==e?e:this.valueObserver=null!==(s=null===(t=a.$observers)||void 0===t?void 0:t.model)&&void 0!==s?s:null===(i=a.$observers)||void 0===i?void 0:i.value)||void 0===n||n.subscribe(this),null===(r=this.collectionObserver)||void 0===r||r.unsubscribe(this),this.collectionObserver=void 0,"checkbox"===a.type&&(null===(o=this.collectionObserver=function(e,t){if(e instanceof Array)return t.getArrayObserver(e);if(e instanceof Map)return t.getMapObserver(e);if(e instanceof Set)return t.getSetObserver(e)}(this.value,this.observerLocator))||void 0===o||o.subscribe(this))}}let Lr;M(Ir),B(Ir);const Vr=Object.prototype.hasOwnProperty,Nr={childList:!0,subtree:!0,characterData:!0};function qr(e,t){return e===t}class Dr{constructor(e,t,s,i){this.handler=s,this.observerLocator=i,this.value=void 0,this.oldValue=void 0,this.hasChanges=!1,this.type=7,this.arrayObserver=void 0,this.nodeObserver=void 0,this.observing=!1,this.obj=e}getValue(){return this.observing?this.value:this.obj.multiple?Array.from(this.obj.options).map((e=>e.value)):this.obj.value}setValue(e,t){this.oldValue=this.value,this.value=e,this.hasChanges=e!==this.oldValue,this.observeArray(e instanceof Array?e:null),0==(256&t)&&this.flushChanges(t)}flushChanges(e){this.hasChanges&&(this.hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){var e;const t=this.value,s=this.obj,i=Array.isArray(t),n=null!==(e=s.matcher)&&void 0!==e?e:qr,r=s.options;let o=r.length;for(;o-- >0;){const e=r[o],s=Vr.call(e,"model")?e.model:e.value;i?e.selected=-1!==t.findIndex((e=>!!n(s,e))):e.selected=!!n(s,t)}}syncValue(){const e=this.obj,t=e.options,s=t.length,i=this.value;let n=0;if(e.multiple){if(!(i instanceof Array))return!0;let r;const o=e.matcher||qr,a=[];for(;n<s;)r=t[n],r.selected&&a.push(Vr.call(r,"model")?r.model:r.value),++n;for(n=0;n<i.length;){const e=i[n];-1===a.findIndex((t=>!!o(e,t)))?i.splice(n,1):++n}for(n=0;n<a.length;){const e=a[n];-1===i.findIndex((t=>!!o(e,t)))&&i.push(e),++n}return!1}let r=null;for(;n<s;){const e=t[n];if(e.selected){r=Vr.call(e,"model")?e.model:e.value;break}++n}return this.oldValue=this.value,this.value=r,!0}start(){(this.nodeObserver=new this.obj.ownerDocument.defaultView.MutationObserver(this.handleNodeChange.bind(this))).observe(this.obj,Nr),this.observeArray(this.value instanceof Array?this.value:null),this.observing=!0}stop(){var e;this.nodeObserver.disconnect(),null===(e=this.arrayObserver)||void 0===e||e.unsubscribe(this),this.nodeObserver=this.arrayObserver=void 0,this.observing=!1}observeArray(e){var t;if(null===(t=this.arrayObserver)||void 0===t||t.unsubscribe(this),this.arrayObserver=void 0,null!=e){if(!this.obj.multiple)throw new Error("Only null or Array instances can be bound to a multi-select.");(this.arrayObserver=this.observerLocator.getArrayObserver(e)).subscribe(this)}}handleEvent(){this.syncValue()&&this.queue.add(this)}handleNodeChange(){this.syncOptions();this.syncValue()&&this.queue.add(this)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.start())}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&(this.handler.dispose(),this.stop())}flush(){Fr=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Fr,0)}}let Fr;M(Dr),B(Dr);class zr{constructor(e){this.obj=e,this.value="",this.oldValue="",this.styles={},this.version=0,this.hasChanges=!1,this.type=6}getValue(){return this.obj.style.cssText}setValue(e,t){this.value=e,this.hasChanges=e!==this.oldValue,0==(256&t)&&this.flushChanges(t)}getStyleTuplesFromString(e){const t=[],s=/url\([^)]+$/;let i,n,r,o,a=0,l="";for(;a<e.length;)i=e.indexOf(";",a),-1===i&&(i=e.length),l+=e.substring(a,i),a=i+1,s.test(l)?l+=";":(n=l.indexOf(":"),r=l.substring(0,n).trim(),o=l.substring(n+1).trim(),t.push([r,o]),l="");return t}getStyleTuplesFromObject(e){let t;const s=[];for(const i in e)if(t=e[i],null!=t)if("string"!=typeof t)s.push(...this.getStyleTuples(t));else{if(i.startsWith("--")){s.push([i,t]);continue}s.push([r(i),t])}return s}getStyleTuplesFromArray(e){const t=e.length;if(t>0){const s=[];for(let i=0;i<t;++i)s.push(...this.getStyleTuples(e[i]));return s}return a}getStyleTuples(e){return"string"==typeof e?this.getStyleTuplesFromString(e):e instanceof Array?this.getStyleTuplesFromArray(e):e instanceof Object?this.getStyleTuplesFromObject(e):a}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.value,t=this.styles,s=this.getStyleTuples(e);let i,n,r,o,a=this.version;this.oldValue=e;const l=s.length;for(let e=0;e<l;++e)n=s[e],r=n[0],o=n[1],this.setProperty(r,o),t[r]=a;if(this.styles=t,this.version+=1,0===a)return;for(i in a-=1,t)Object.prototype.hasOwnProperty.call(t,i)&&t[i]===a&&this.obj.style.removeProperty(i)}}setProperty(e,t){let s="";null!=t&&"function"==typeof t.indexOf&&t.includes("!important")&&(s="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,s)}bind(e){this.value=this.oldValue=this.obj.style.cssText}}class Ur{constructor(e,t,s){this.propertyKey=t,this.handler=s,this.value="",this.oldValue="",this.hasChanges=!1,this.type=7,this.obj=e}getValue(){return this.value}setValue(e,t){Object.is(e,this.value)||(this.oldValue=this.value,this.value=e,this.hasChanges=!0,this.handler.config.readonly||0!=(256&t)||this.flushChanges(t))}flushChanges(e){var t;this.hasChanges&&(this.hasChanges=!1,this.obj[this.propertyKey]=null!==(t=this.value)&&void 0!==t?t:this.handler.config.default,0==(2&e)&&this.queue.add(this))}handleEvent(){this.oldValue=this.value,this.value=this.obj[this.propertyKey],this.oldValue!==this.value&&(this.hasChanges=!1,this.queue.add(this))}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.handler.subscribe(this.obj,this),this.value=this.oldValue=this.obj[this.propertyKey])}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.handler.dispose()}flush(){Kr=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,Kr,0)}}let Kr;M(Ur),B(Ur);const Wr="http://www.w3.org/1999/xlink",Gr="http://www.w3.org/XML/1998/namespace",Hr="http://www.w3.org/2000/xmlns/",_r=Object.assign(Ie(),{"xlink:actuate":["actuate",Wr],"xlink:arcrole":["arcrole",Wr],"xlink:href":["href",Wr],"xlink:role":["role",Wr],"xlink:show":["show",Wr],"xlink:title":["title",Wr],"xlink:type":["type",Wr],"xml:lang":["lang",Gr],"xml:space":["space",Gr],xmlns:["xmlns",Hr],"xmlns:xlink":["xlink",Hr]}),Qr=new Q;Qr.type=6;class Xr{constructor(e){var t;this.type=null!==(t=e.type)&&void 0!==t?t:Ur,this.events=e.events,this.readonly=e.readonly,this.default=e.default}}class Yr{constructor(e,t,s,i){this.locator=e,this.platform=t,this.dirtyChecker=s,this.svgAnalyzer=i,this.allowDirtyCheck=!0,this.events=Ie(),this.globalEvents=Ie(),this.overrides=Ie(),this.globalOverrides=Ie();const n=["change","input"],r={events:n,default:""};this.useConfig({INPUT:{value:r,valueAsNumber:{events:n,default:0},checked:{type:Ir,events:n},files:{events:n,readonly:!0}},SELECT:{value:{type:Dr,events:["change"],default:""}},TEXTAREA:{value:r}});const o={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:o,innerHTML:o}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(e){c.aliasTo(X,Yr).register(e),c.singleton(X,Yr).register(e)}handles(e,t){return e instanceof this.platform.Node}useConfig(e,t,s){var i,n;const r=this.events;let o;if("string"==typeof e)o=null!==(i=r[e])&&void 0!==i?i:r[e]=Ie(),null==o[t]?o[t]=new Xr(s):Zr(e,t);else for(const s in e){o=null!==(n=r[s])&&void 0!==n?n:r[s]=Ie();const i=e[s];for(t in i)null==o[t]?o[t]=new Xr(i[t]):Zr(s,t)}}useConfigGlobal(e,t){const s=this.globalEvents;if("object"==typeof e)for(const t in e)null==s[t]?s[t]=new Xr(e[t]):Zr("*",t);else null==s[e]?s[e]=new Xr(t):Zr("*",e)}getAccessor(e,t,s){var i;if(t in this.globalOverrides||t in(null!==(i=this.overrides[e.tagName])&&void 0!==i?i:E))return this.getObserver(e,t,s);switch(t){case"src":case"href":case"role":return Sr;default:{const s=_r[t];return void 0!==s?Br.forNs(s[1]):je(e,t,this.svgAnalyzer)?Sr:Qr}}}overrideAccessor(e,t){var s,i,n,r;let o;if("string"==typeof e)o=null!==(s=(n=this.overrides)[e])&&void 0!==s?s:n[e]=Ie(),o[t]=!0;else for(const t in e)for(const s of e[t])o=null!==(i=(r=this.overrides)[t])&&void 0!==i?i:r[t]=Ie(),o[s]=!0}overrideAccessorGlobal(...e){for(const t of e)this.globalOverrides[t]=!0}getObserver(e,t,s){var i,n;switch(t){case"role":return Sr;case"class":return new Xt(e);case"css":case"style":return new zr(e)}const r=null!==(n=null===(i=this.events[e.tagName])||void 0===i?void 0:i[t])&&void 0!==n?n:this.globalEvents[t];if(null!=r)return new r.type(e,t,new $i(r),s,this.locator);const o=_r[t];if(void 0!==o)return Br.forNs(o[1]);if(je(e,t,this.svgAnalyzer))return Sr;if(t in e.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(e,t);throw new Error(`Unable to observe property ${String(t)}. Register observation mapping with .useConfig().`)}return new Y(e,t)}}function Zr(e,t){throw new Error(`Mapping for property ${String(t)} of <${e} /> already exists`)}Yr.inject=[S,Le,Z,Ve];let Jr=class{constructor(e){this.observerLocator=e}bind(e,t,s,...i){if(0===i.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(s.mode!==R.twoWay&&s.mode!==R.fromView)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");const n=this.observerLocator.getObserver(s.target,s.targetProperty);if(!n.handler)throw new Error("The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.");s.targetObserver=n;const r=n.handler;n.originalHandler=r,n.handler=new $i(new Xr({default:r.config.default,events:i,readonly:r.config.readonly}))}unbind(e,t,s){s.targetObserver.handler.dispose(),s.targetObserver.handler=s.targetObserver.originalHandler,s.targetObserver.originalHandler=null}};Jr=re([G("updateTrigger"),oe(0,q)],Jr);let eo=class{constructor(e,t){this.element=e,this.p=t,this.needsApply=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.apply():this.needsApply=!0}attached(){this.needsApply&&(this.needsApply=!1,this.apply());const e=this.element;e.addEventListener("focus",this),e.addEventListener("blur",this)}afterDetachChildren(){const e=this.element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){"focus"===e.type?this.value=!0:this.isElFocused||(this.value=!1)}apply(){const e=this.element,t=this.isElFocused,s=this.value;s&&!t?e.focus():!s&&t&&e.blur()}get isElFocused(){return this.element===this.p.document.activeElement}};re([ae({mode:R.twoWay})],eo.prototype,"value",void 0),eo=re([Mt("focus"),oe(0,li),oe(1,Le)],eo);let to=class{constructor(e,t,s){this.el=e,this.p=t,this.isActive=!1,this.task=null,this.$val="",this.$prio="",this.update=()=>{this.task=null,Boolean(this.value)!==this.isToggled&&(this.isToggled===this.base?(this.isToggled=!this.base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.isToggled=this.base,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.isToggled=this.base="hide"!==s.alias}binding(){this.isActive=!0,this.update()}detaching(){var e;this.isActive=!1,null===(e=this.task)||void 0===e||e.cancel(),this.task=null}valueChanged(){this.isActive&&null===this.task&&(this.task=this.p.domWriteQueue.queueTask(this.update))}};re([ae],to.prototype,"value",void 0),to=re([Mt("show"),J("hide"),oe(0,li),oe(1,Le),oe(2,Bi)],to);let so=class{constructor(e,t,s){this.factory=e,this.originalLoc=t,this.p=s,this.id=b("au$component"),this.strict=!1,this.currentTarget=s.document.createElement("div"),this.view=this.factory.create(),gi(this.view.nodes,t)}attaching(e,t,s){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const i=this.currentTarget=this.resolveTarget();return this.view.setHost(i),this.$activating(e,i,s)}detaching(e,t,s){return this.$deactivating(e,this.currentTarget,s)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this.currentTarget,s=this.currentTarget=this.resolveTarget();if(t===s)return;this.view.setHost(s);const i=C(this.$deactivating(null,s,e.flags),(()=>this.$activating(null,s,e.flags)));i instanceof Promise&&i.catch((e=>{throw e}))}$activating(e,t,s){const{activating:i,callbackContext:n,view:r}=this;return r.setHost(t),C(null==i?void 0:i.call(n,t,r),(()=>this.activate(e,t,s)))}activate(e,t,s){const{$controller:i,view:n}=this;return null!==e?C(n.activate(null!=e?e:n,i,s,i.scope),(()=>this.$activated(t))):(n.nodes.appendTo(t),this.$activated(t))}$activated(e){const{activated:t,callbackContext:s,view:i}=this;return null==t?void 0:t.call(s,e,i)}$deactivating(e,t,s){const{deactivating:i,callbackContext:n,view:r}=this;return C(null==i?void 0:i.call(n,t,r),(()=>this.deactivate(e,t,s)))}deactivate(e,t,s){const{$controller:i,view:n}=this;return null!==e?C(n.deactivate(e,i,s),(()=>this.$deactivated(t))):(n.nodes.remove(),this.$deactivated(t))}$deactivated(e){const{deactivated:t,callbackContext:s,view:i}=this;return null==t?void 0:t.call(s,e,i)}resolveTarget(){const e=this.p,t=e.document;let s=this.target,i=this.renderContext;if(""===s){if(this.strict)throw new Error("Empty querySelector");return t.body}if("string"==typeof s){let n=t;"string"==typeof i&&(i=t.querySelector(i)),i instanceof e.Node&&(n=i),s=n.querySelector(s)}if(s instanceof e.Node)return s;if(null==s){if(this.strict)throw new Error("Portal target not found");return t.body}return s}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};re([ae({primary:!0})],so.prototype,"target",void 0),re([ae({callback:"targetChanged"})],so.prototype,"renderContext",void 0),re([ae()],so.prototype,"strict",void 0),re([ae()],so.prototype,"deactivating",void 0),re([ae()],so.prototype,"activating",void 0),re([ae()],so.prototype,"deactivated",void 0),re([ae()],so.prototype,"activated",void 0),re([ae()],so.prototype,"callbackContext",void 0),so=re([Bt("portal"),oe(0,Ts),oe(1,ci),oe(2,Le)],so);class io{constructor(e,t,s){this.factory=e,this.flags=s,this.id=b("au$component"),this.view=this.factory.create().setLocation(t)}attaching(e,t,s){const{$controller:i}=this;return this.view.activate(e,i,s|this.flags,i.scope)}detaching(e,t,s){return this.view.deactivate(e,this.$controller,s)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}}class no extends io{constructor(e,t){super(e,t,512)}}no.inject=[Ts,ci];class ro extends io{constructor(e,t){super(e,t,128)}}ro.inject=[Ts,ci],Bt("frequent-mutations")(no),Bt("observe-shallow")(ro);let oo=class{constructor(e,t,s){this.ifFactory=e,this.location=t,this.work=s,this.id=b("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.wantsDeactivate=!1,this.swapId=0}created(){this.ctrl=this.$controller}attaching(e,t,s){let i;const n=this.swapId++,r=()=>!this.wantsDeactivate&&this.swapId===n+1;return C(this.pending,(()=>{var t;r()&&(this.pending=void 0,i=this.view=this.value?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create(s):this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(t=this.elseFactory)||void 0===t?void 0:t.create(s),null!=i&&(i.setLocation(this.location),this.pending=C(i.activate(e,this.ctrl,s,this.ctrl.scope),(()=>{r()&&(this.pending=void 0)}))))}))}detaching(e,t,s){return this.wantsDeactivate=!0,C(this.pending,(()=>{var t;this.wantsDeactivate=!1,this.pending=void 0,null===(t=this.view)||void 0===t||t.deactivate(e,this.ctrl,s)}))}valueChanged(e,t,s){if(!this.ctrl.isActive)return;if((e=!!e)===(t=!!t))return;this.work.start();const i=this.view,n=this.swapId++,r=()=>!this.wantsDeactivate&&this.swapId===n+1;let o;return C(C(this.pending,(()=>this.pending=C(null==i?void 0:i.deactivate(i,this.ctrl,s),(()=>{var t;if(r()&&(o=this.view=e?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create(s):this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(t=this.elseFactory)||void 0===t?void 0:t.create(s),null!=o))return o.setLocation(this.location),C(o.activate(o,this.ctrl,s,this.ctrl.scope),(()=>{r()&&(this.pending=void 0)}))})))),(()=>this.work.finish()))}dispose(){var e,t;null===(e=this.ifView)||void 0===e||e.dispose(),null===(t=this.elseView)||void 0===t||t.dispose(),this.ifView=this.elseView=this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};re([ae],oo.prototype,"value",void 0),re([ae({set:e=>""===e||!!e&&"false"!==e})],oo.prototype,"cache",void 0),oo=re([Bt("if"),oe(0,Ts),oe(1,ci),oe(2,si)],oo);let ao=class{constructor(e){this.factory=e,this.id=b("au$component")}link(e,t,s,i,n){const r=t.children,o=r[r.length-1];if(o instanceof oo)o.elseFactory=this.factory;else{if(!(o.viewModel instanceof oo))throw new Error("Unsupported IfBehavior");o.viewModel.elseFactory=this.factory}}};function lo(e){e.dispose()}ao=re([Bt({name:"else"}),oe(0,Ts)],ao);let ho=class{constructor(e,t,s){this.location=e,this.parent=t,this.factory=s,this.id=b("au$component"),this.hasPendingInstanceMutation=!1,this.observer=void 0,this.views=[],this.key=void 0,this.normalizedItems=void 0}binding(e,t,s){this.checkCollectionObserver(s);const i=this.parent.bindings;let n;for(let e=0,t=i.length;e<t;++e)if(n=i[e],n.target===this&&"items"===n.targetProperty){this.forOf=n.sourceExpression;break}this.local=this.forOf.declaration.evaluate(s,this.$controller.scope,n.locator,null)}attaching(e,t,s){return this.normalizeToArray(s),this.activateAllViews(e,s)}detaching(e,t,s){return this.checkCollectionObserver(s),this.deactivateAllViews(e,s)}itemsChanged(e){const{$controller:t}=this;if(!t.isActive)return;this.checkCollectionObserver(e|=t.flags),this.normalizeToArray(e);const s=C(this.deactivateAllViews(null,e),(()=>this.activateAllViews(null,e)));s instanceof Promise&&s.catch((e=>{throw e}))}handleCollectionChange(e,t){const{$controller:s}=this;if(s.isActive)if(this.normalizeToArray(t|=s.flags),void 0===e){const e=C(this.deactivateAllViews(null,t),(()=>this.activateAllViews(null,t)));e instanceof Promise&&e.catch((e=>{throw e}))}else{const s=this.views.length;if(ee(e),e.deletedItems.length>0){e.deletedItems.sort(O);const i=C(this.deactivateAndRemoveViewsByKey(e,t),(()=>this.createAndActivateAndSortViewsByKey(s,e,t)));i instanceof Promise&&i.catch((e=>{throw e}))}else this.createAndActivateAndSortViewsByKey(s,e,t)}}checkCollectionObserver(e){const t=this.observer;if(4&e)void 0!==t&&t.unsubscribe(this);else if(this.$controller.isActive){const e=this.observer=te(this.items);t!==e&&t&&t.unsubscribe(this),e&&e.subscribe(this)}}normalizeToArray(e){const t=this.items;if(t instanceof Array)return void(this.normalizedItems=t);if(void 0===this.forOf)return;const s=[];this.forOf.iterate(e,t,((e,t,i)=>{s[t]=i})),this.normalizedItems=s}activateAllViews(e,t){let s,i,n,r;const{$controller:o,factory:a,local:l,location:h,items:c}=this,u=o.scope,d=this.forOf.count(t,c),p=this.views=Array(d);if(this.forOf.iterate(t,c,((c,g,f)=>{n=p[g]=a.create(t).setLocation(h),n.nodes.unlink(),r=N.fromParent(u,se.create(l,f)),go(r.overrideContext,g,d),i=n.activate(null!=e?e:n,o,t,r),i instanceof Promise&&(null!=s?s:s=[]).push(i)})),void 0!==s)return 1===s.length?s[0]:Promise.all(s)}deactivateAllViews(e,t){let s,i,n;const{views:r,$controller:o}=this;for(let a=0,l=r.length;a<l;++a)n=r[a],n.release(),i=n.deactivate(null!=e?e:n,o,t),i instanceof Promise&&(null!=s?s:s=[]).push(i);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}deactivateAndRemoveViewsByKey(e,t){let s,i,n;const{$controller:r,views:o}=this,a=e.deletedItems,l=a.length;let h=0;for(;h<l;++h)n=o[a[h]],n.release(),i=n.deactivate(n,r,t),i instanceof Promise&&(null!=s?s:s=[]).push(i);h=0;let c=0;for(;h<l;++h)c=a[h]-h,o.splice(c,1);if(void 0!==s)return 1===s.length?s[0]:Promise.all(s)}createAndActivateAndSortViewsByKey(e,t,s){var i;let n,r,o,a;const{$controller:l,factory:h,local:c,normalizedItems:u,location:d,views:p}=this,g=t.length;for(let e=0;e<g;++e)-2===t[e]&&(o=h.create(s),p.splice(e,0,o));if(p.length!==g)throw new Error(`viewsLen=${p.length}, mapLen=${g}`);const f=l.scope,v=t.length;ie(p,t);const m=function(e){const t=e.length;t>co&&(co=t,uo=new Int32Array(t),po=new Int32Array(t));let s=0,i=0,n=0,r=0,o=0,a=0,l=0,h=0;for(;r<t;r++)if(i=e[r],-2!==i){if(o=uo[s],n=e[o],-2!==n&&n<i){po[r]=o,uo[++s]=r;continue}for(a=0,l=s;a<l;)h=a+l>>1,n=e[uo[h]],-2!==n&&n<i?a=h+1:l=h;n=e[uo[a]],(i<n||-2===n)&&(a>0&&(po[r]=uo[a-1]),uo[a]=r)}r=++s;const c=new Int32Array(r);i=uo[s-1];for(;s-- >0;)c[s]=i,i=po[i];for(;r-- >0;)uo[r]=0;return c}(t),b=m.length;let y,w=b-1,x=v-1;for(;x>=0;--x)o=p[x],y=p[x+1],o.nodes.link(null!==(i=null==y?void 0:y.nodes)&&void 0!==i?i:d),-2===t[x]?(a=N.fromParent(f,se.create(c,u[x])),go(a.overrideContext,x,v),o.setLocation(d),r=o.activate(o,l,s,a),r instanceof Promise&&(null!=n?n:n=[]).push(r)):w<0||1===b||x!==m[w]?(go(o.scope.overrideContext,x,v),o.nodes.insertBefore(o.location)):(e!==v&&go(o.scope.overrideContext,x,v),--w);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}dispose(){this.views.forEach(lo),this.views=void 0}accept(e){const{views:t}=this;if(void 0!==t)for(let s=0,i=t.length;s<i;++s)if(!0===t[s].accept(e))return!0}};re([ae],ho.prototype,"items",void 0),ho=re([Bt("repeat"),oe(0,ci),oe(1,Ys),oe(2,Ts)],ho);let co=16,uo=new Int32Array(co),po=new Int32Array(co);function go(e,t,s){const i=0===t,n=t===s-1,r=t%2==0;e.$index=t,e.$first=i,e.$last=n,e.$middle=!i&&!n,e.$even=r,e.$odd=!r,e.$length=s}let fo=class{constructor(e,t){this.factory=e,this.location=t,this.id=b("au$component"),this.id=b("au$component"),this.view=this.factory.create().setLocation(t)}valueChanged(e,t,s){const i=this.$controller,n=this.view.bindings;let r,o=0,a=0;if(i.isActive&&null!=n)for(r=N.fromParent(i.scope,void 0===e?{}:e),a=n.length;a>o;++o)n[o].$bind(2,r)}attaching(e,t,s){const{$controller:i,value:n}=this,r=N.fromParent(i.scope,void 0===n?{}:n);return this.view.activate(e,i,s,r)}detaching(e,t,s){return this.view.deactivate(e,this.$controller,s)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};re([ae],fo.prototype,"value",void 0),fo=re([Bt("with"),oe(0,Ts),oe(1,ci)],fo);let vo=class{constructor(e,t){this.factory=e,this.location=t,this.id=b("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(e,t,s,i,n){this.view=this.factory.create(e,this.$controller).setLocation(this.location)}attaching(e,t,s){const i=this.view,n=this.$controller;return this.queue((()=>i.activate(e,n,s,n.scope))),this.queue((()=>this.swap(e,s,this.value))),this.promise}detaching(e,t,s){return this.queue((()=>this.view.deactivate(e,this.$controller,s))),this.promise}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}valueChanged(e,t,s){this.$controller.isActive&&this.queue((()=>this.swap(null,s,this.value)))}caseChanged(e,t){this.queue((()=>this.handleCaseChange(e,t)))}handleCaseChange(e,t){const s=e.isMatch(this.value,t),i=this.activeCases,n=i.length;if(!s)return n>0&&i[0].id===e.id?this.clearActiveCases(null,t):void 0;if(n>0&&i[0].id<e.id)return;const r=[];let o=e.fallThrough;if(o){const t=this.cases;for(let s=t.indexOf(e),i=t.length;s<i&&o;s++){const e=t[s];r.push(e),o=e.fallThrough}}else r.push(e);return C(this.clearActiveCases(null,t,r),(()=>(this.activeCases=r,this.activateCases(null,t))))}swap(e,t,s){const i=[];let n=!1;for(const e of this.cases)if((n||e.isMatch(s,t))&&(i.push(e),n=e.fallThrough),i.length>0&&!n)break;const r=this.defaultCase;return 0===i.length&&void 0!==r&&i.push(r),C(this.activeCases.length>0?this.clearActiveCases(e,t,i):void 0,(()=>{if(this.activeCases=i,0!==i.length)return this.activateCases(e,t)}))}activateCases(e,t){const s=this.$controller;if(!s.isActive)return;const i=this.activeCases,n=i.length;if(0===n)return;const r=s.scope;return 1===n?i[0].activate(e,t,r):T(...i.map((s=>s.activate(e,t,r))))}clearActiveCases(e,t,s=[]){const i=this.activeCases,n=i.length;if(0!==n){if(1===n){const n=i[0];return s.includes(n)?void 0:(i.length=0,n.deactivate(e,t))}return C(T(...i.reduce(((i,n)=>(s.includes(n)||i.push(n.deactivate(e,t)),i)),[])),(()=>{i.length=0}))}}queue(e){let t;t=this.promise=C(C(this.promise,e),(()=>{this.promise===t&&(this.promise=void 0)}))}accept(e){return!0===this.$controller.accept(e)||(!!this.activeCases.some((t=>t.accept(e)))||void 0)}};re([ae],vo.prototype,"value",void 0),vo=re([Bt("switch"),oe(0,Ts),oe(1,ci)],vo);let mo=class{constructor(e,t,s,i){this.factory=e,this.locator=t,this.id=b("au$component"),this.fallThrough=!1,this.debug=i.config.level<=1,this.logger=i.scopeTo(`${this.constructor.name}-#${this.id}`),this.view=this.factory.create().setLocation(s)}link(e,t,s,i,n){const r=t.parent,o=null==r?void 0:r.viewModel;if(!(o instanceof vo))throw new Error("The parent switch not found; only `*[switch] > *[case|default-case]` relation is supported.");this.$switch=o,this.linkToSwitch(o)}detaching(e,t,s){return this.deactivate(e,s)}isMatch(e,t){this.debug&&this.logger.debug("isMatch()");const s=this.value;return Array.isArray(s)?(void 0===this.observer&&(this.observer=this.observeCollection(t,s)),s.includes(e)):s===e}valueChanged(e,t,s){var i;Array.isArray(e)?(null===(i=this.observer)||void 0===i||i.unsubscribe(this),this.observer=this.observeCollection(s,e)):void 0!==this.observer&&this.observer.unsubscribe(this),this.$switch.caseChanged(this,s)}handleCollectionChange(e,t){this.$switch.caseChanged(this,t)}activate(e,t,s){const i=this.view;if(!i.isActive)return i.activate(null!=e?e:i,this.$controller,t,s)}deactivate(e,t){const s=this.view;if(s.isActive)return s.deactivate(null!=e?e:s,this.$controller,t)}dispose(){var e,t;null===(e=this.observer)||void 0===e||e.unsubscribe(this),null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}linkToSwitch(e){e.cases.push(this)}observeCollection(e,t){const s=this.locator.getArrayObserver(t);return s.subscribe(this),s}accept(e){var t;return!0===this.$controller.accept(e)||(null===(t=this.view)||void 0===t?void 0:t.accept(e))}};re([ae],mo.prototype,"value",void 0),re([ae({set:e=>{switch(e){case"true":return!0;case"false":return!1;default:return!!e}},mode:R.oneTime})],mo.prototype,"fallThrough",void 0),mo=re([Bt("case"),oe(0,Ts),oe(1,q),oe(2,ci),oe(3,x)],mo);let bo=class extends mo{linkToSwitch(e){if(void 0!==e.defaultCase)throw new Error("Multiple 'default-case's are not allowed.");e.defaultCase=this}};bo=re([Bt("default-case")],bo);let yo=class{constructor(e,t,s,i){this.factory=e,this.location=t,this.platform=s,this.id=b("au$component"),this.preSettledTask=null,this.postSettledTask=null,this.logger=i.scopeTo("promise.resolve")}link(e,t,s,i,n){this.view=this.factory.create(e,this.$controller).setLocation(this.location)}attaching(e,t,s){const i=this.$controller;return C(this.view.activate(e,i,s,this.viewScope=N.fromParent(i.scope,{})),(()=>this.swap(e,s)))}valueChanged(e,t,s){this.$controller.isActive&&this.swap(null,s)}swap(e,t){var s,i;const n=this.value;if(!(n instanceof Promise))return void this.logger.warn(`The value '${String(n)}' is not a promise. No change will be done.`);const r=this.platform.domWriteQueue,o=this.fulfilled,a=this.rejected,l=this.pending,h=this.viewScope;let c;const u={reusable:!1},d=()=>{T(c=(this.preSettledTask=r.queueTask((()=>T(null==o?void 0:o.deactivate(e,t),null==a?void 0:a.deactivate(e,t),null==l?void 0:l.activate(e,t,h))),u)).result,n.then((s=>{if(this.value!==n)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=r.queueTask((()=>T(null==l?void 0:l.deactivate(e,t),null==a?void 0:a.deactivate(e,t),null==o?void 0:o.activate(e,t,h,s))),u)).result};1===this.preSettledTask.status?c.then(i):(this.preSettledTask.cancel(),i())}),(s=>{if(this.value!==n)return;const i=()=>{this.postSettlePromise=(this.postSettledTask=r.queueTask((()=>T(null==l?void 0:l.deactivate(e,t),null==o?void 0:o.deactivate(e,t),null==a?void 0:a.activate(e,t,h,s))),u)).result};1===this.preSettledTask.status?c.then(i):(this.preSettledTask.cancel(),i())})))};1===(null===(s=this.postSettledTask)||void 0===s?void 0:s.status)?this.postSettlePromise.then(d):(null===(i=this.postSettledTask)||void 0===i||i.cancel(),d())}detaching(e,t,s){var i,n;return null===(i=this.preSettledTask)||void 0===i||i.cancel(),null===(n=this.postSettledTask)||void 0===n||n.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(e,this.$controller,s)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};re([ae],yo.prototype,"value",void 0),yo=re([Bt("promise"),oe(0,Ts),oe(1,ci),oe(2,Le),oe(3,x)],yo);let wo=class{constructor(e,t){this.factory=e,this.id=b("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,s,i,n){Co(t).pending=this}activate(e,t,s){const i=this.view;if(!i.isActive)return i.activate(i,this.$controller,t,s)}deactivate(e,t){const s=this.view;if(s.isActive)return s.deactivate(s,this.$controller,t)}detaching(e,t,s){return this.deactivate(e,s)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};re([ae({mode:R.toView})],wo.prototype,"value",void 0),wo=re([Bt("pending"),oe(0,Ts),oe(1,ci)],wo);let xo=class{constructor(e,t){this.factory=e,this.id=b("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,s,i,n){Co(t).fulfilled=this}activate(e,t,s,i){this.value=i;const n=this.view;if(!n.isActive)return n.activate(n,this.$controller,t,s)}deactivate(e,t){const s=this.view;if(s.isActive)return s.deactivate(s,this.$controller,t)}detaching(e,t,s){return this.deactivate(e,s)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};re([ae({mode:R.toView})],xo.prototype,"value",void 0),xo=re([Bt("then"),oe(0,Ts),oe(1,ci)],xo);let ko=class{constructor(e,t){this.factory=e,this.id=b("au$component"),this.view=this.factory.create().setLocation(t)}link(e,t,s,i,n){Co(t).rejected=this}activate(e,t,s,i){this.value=i;const n=this.view;if(!n.isActive)return n.activate(n,this.$controller,t,s)}deactivate(e,t){const s=this.view;if(s.isActive)return s.deactivate(s,this.$controller,t)}detaching(e,t,s){return this.deactivate(e,s)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}};function Co(e){const t=e.parent,s=null==t?void 0:t.viewModel;if(s instanceof yo)return s;throw new Error("The parent promise.resolve not found; only `*[promise.resolve] > *[pending|then|catch]` relation is supported.")}function To(e,t,s,i){if("string"==typeof t)return function(e,t,s,i){const n=[],r=[],o=[],a=e.document.createElement(t);let l=!1;s&&Object.keys(s).forEach((e=>{const t=s[e];ji(t)?(l=!0,n.push(t)):a.setAttribute(e,t)}));l&&(a.className="au",r.push(n));i&&$o(e,a,i,r,o);return new Ao(a,r,o)}(e,t,s,i);if(Gt.isType(t))return function(e,t,s,i){const n=Gt.getDefinition(t),r=[],o=[r],a=[],l=[],h=n.bindables,c=e.document.createElement(n.name);c.className="au",a.includes(t)||a.push(t);r.push(new Fi(n,void 0,l,null,!1)),s&&Object.keys(s).forEach((e=>{const t=s[e];ji(t)?l.push(t):l.push(void 0===h[e]?new Qi(t,e):new Di(t,e))}));i&&$o(e,c,i,o,a);return new Ao(c,o,a)}(e,t,s,i);throw new Error("Invalid Tag or Type.")}re([ae({mode:R.toView})],ko.prototype,"value",void 0),ko=re([Bt("catch"),oe(0,Ts),oe(1,ci)],ko);class Ao{constructor(e,t,s){this.node=e,this.instructions=t,this.dependencies=s,this.lazyDef=void 0}get definition(){return void 0===this.lazyDef&&(this.lazyDef=Kt.create({name:Gt.generateName(),template:this.node,needsCompile:"string"==typeof this.node,instructions:this.instructions,dependencies:this.dependencies})),this.lazyDef}createView(e){return this.getViewFactory(e).create()}getViewFactory(e){return e.root.get(Bs).getViewFactory(this.definition,e.createChild().register(...this.dependencies))}mergeInto(e,t,s){e.appendChild(this.node),t.push(...this.instructions),s.push(...this.dependencies)}}function $o(e,t,s,i,n){for(let r=0,o=s.length;r<o;++r){const o=s[r];switch(typeof o){case"string":t.appendChild(e.document.createTextNode(o));break;case"object":o instanceof e.Node?t.appendChild(o):"mergeInto"in o&&o.mergeInto(t,i,n)}}}function Eo(e,t){const s=t.to;return void 0!==s&&"subject"!==s&&"composing"!==s&&(e[s]=t),e}let So=class{constructor(e,t,s,i){this.p=e,this.hdrContext=s,this.r=i,this.id=b("au$component"),this.component=void 0,this.composing=!1,this.view=void 0,this.lastSubject=void 0,this.properties=t.instructions.reduce(Eo,{})}attaching(e,t,s){const{component:i,view:n}=this;return void 0===n||this.lastSubject!==i?(this.lastSubject=i,this.composing=!0,this.compose(void 0,i,e,s)):this.compose(n,i,e,s)}detaching(e,t,s){return this.deactivate(this.view,e,s)}componentChanged(e,t,s){const{$controller:i}=this;if(!i.isActive)return;if(this.lastSubject===e)return;this.lastSubject=e,this.composing=!0;const n=C(this.deactivate(this.view,null,s|=i.flags),(()=>this.compose(void 0,e,null,s)));n instanceof Promise&&n.catch((e=>{throw e}))}compose(e,t,s,i){return C(void 0===e?C(t,(e=>this.resolveView(e,i))):e,(e=>this.activate(this.view=e,s,i)))}deactivate(e,t,s){return null==e?void 0:e.deactivate(null!=t?t:e,this.$controller,s)}activate(e,t,s){const{$controller:i}=this;return C(null==e?void 0:e.activate(null!=t?t:e,i,s,i.scope),(()=>{this.composing=!1}))}resolveView(e,t){const s=this.provideViewFor(e,t);if(s)return s.setLocation(this.$controller.location),s.lockScope(this.$controller.scope),s}provideViewFor(e,t){if(!e)return;const s=this.hdrContext.controller.container;if("object"==typeof e){if("lockScope"in e)return e;if("createView"in e)return e.createView(s);if("create"in e)return e.create(t);if("template"in e)return this.r.getViewFactory(Kt.getOrCreate(e),s).create(t)}if("string"==typeof e){const t=s.find(Gt,e);if(null==t)throw new Error(`Unable to find custom element ${e} for <au-render>.`);e=t.Type}return To(this.p,e,this.properties,this.$controller.host.childNodes).createView(s)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};re([ae],So.prototype,"component",void 0),re([ae({mode:R.fromView})],So.prototype,"composing",void 0),So=re([Dt({name:"au-render",template:null,containerless:!0}),oe(0,Le),oe(1,Bi),oe(2,Zs),oe(3,Bs)],So);let Oo=class{constructor(e,t,s,i,n,r){this.container=e,this.parent=t,this.host=s,this.p=i,this.instruction=n,this.contextFactory=r,this.scopeBehavior="auto",this.c=void 0,this.loc=n.containerless?fi(this.host):void 0,this.r=e.get(Bs)}static get inject(){return[m,Ys,li,Le,Bi,P(Ro)]}get pending(){return this._p}get composition(){return this.c}attaching(e,t,s){return this._p=C(this.queue(new Mo(this.view,this.viewModel,this.model,e,void 0)),(e=>{this.contextFactory.isCurrent(e)&&(this._p=void 0)}))}detaching(e){const t=this.c,s=this._p;return this.contextFactory.invalidate(),this.c=this._p=void 0,C(s,(()=>null==t?void 0:t.deactivate(e)))}propertyChanged(e){"model"!==e||null==this.c?this._p=C(this._p,(()=>C(this.queue(new Mo(this.view,this.viewModel,this.model,void 0,e)),(e=>{this.contextFactory.isCurrent(e)&&(this._p=void 0)})))):this.c.update(this.model)}queue(e){const t=this.contextFactory,s=this.c;return C(t.create(e),(i=>t.isCurrent(i)?C(this.compose(i),(n=>t.isCurrent(i)?C(n.activate(),(()=>t.isCurrent(i)?(this.c=n,C(null==s?void 0:s.deactivate(e.initiator),(()=>i))):C(n.controller.deactivate(n.controller,this.$controller,4),(()=>(n.controller.dispose(),i))))):(n.controller.dispose(),i))):i))}compose(e){let t,s,i;const{view:n,viewModel:r,model:o,initiator:a}=e.change,{container:l,host:h,$controller:c,loc:u}=this,d=this.getDef(r),p=l.createChild(),g=null==u?h.parentNode:u.parentNode;if(null!==d){if(d.containerless)throw new Error("Containerless custom element is not supported by <au-compose/>");null==u?(s=h,i=()=>{}):(s=g.insertBefore(this.p.document.createElement(d.name),u),i=()=>{s.remove()}),t=this.getVm(p,r,s)}else s=null==u?h:u,t=this.getVm(p,r,s);const f=()=>{if(null!==d){const n=Ns.forCustomElement(p,t,s,null,0,d);return new Io(n,(()=>n.activate(null!=a?a:n,c,2)),(e=>C(n.deactivate(null!=e?e:n,c,4),i)),(e=>{var s;return null===(s=t.activate)||void 0===s?void 0:s.call(t,e)}),e)}{const i=Kt.create({name:Gt.generateName(),template:n}),r=this.r.getViewFactory(i,p),o=Ns.forSyntheticView(r,2,c),l="auto"===this.scopeBehavior?N.fromParent(this.parent.scope,t):N.create(t);return vi(s)?o.setLocation(s):o.setHost(s),new Io(o,(()=>o.activate(null!=a?a:o,c,2,l)),(e=>o.deactivate(null!=e?e:o,c,4)),(e=>{var s;return null===(s=t.activate)||void 0===s?void 0:s.call(t,e)}),e)}};return"activate"in t?C(t.activate(o),(()=>f())):f()}getVm(e,t,s){if(null==t)return new Po;if("object"==typeof t)return t;const i=this.p,n=vi(s);e.registerResolver(i.Element,e.registerResolver(li,new w("ElementResolver",n?null:s))),e.registerResolver(ci,new w("IRenderLocation",n?s:null));const r=e.invoke(t);return e.registerResolver(t,new w("au-compose.viewModel",r)),r}getDef(e){const t="function"==typeof e?e:null==e?void 0:e.constructor;return Gt.isType(t)?Gt.getDefinition(t):null}};re([ae],Oo.prototype,"view",void 0),re([ae],Oo.prototype,"viewModel",void 0),re([ae],Oo.prototype,"model",void 0),re([ae({set:e=>{if("scoped"===e||"auto"===e)return e;throw new Error('Invalid scope behavior config. Only "scoped" or "auto" allowed.')}})],Oo.prototype,"scopeBehavior",void 0),Oo=re([Dt("au-compose")],Oo);class Po{}class Ro{constructor(){this.id=0}isFirst(e){return 0===e.id}isCurrent(e){return e.id===this.id-1}create(e){return C(e.load(),(e=>new jo(this.id++,e)))}invalidate(){this.id++}}class Mo{constructor(e,t,s,i,n){this.view=e,this.viewModel=t,this.model=s,this.initiator=i,this.src=n}load(){return this.view instanceof Promise||this.viewModel instanceof Promise?Promise.all([this.view,this.viewModel]).then((([e,t])=>new Bo(e,t,this.model,this.initiator,this.src))):new Bo(this.view,this.viewModel,this.model,this.initiator,this.src)}}class Bo{constructor(e,t,s,i,n){this.view=e,this.viewModel=t,this.model=s,this.initiator=i,this.src=n}}class jo{constructor(e,t){this.id=e,this.change=t}}class Io{constructor(e,t,s,i,n){this.controller=e,this.start=t,this.stop=s,this.update=i,this.context=n,this.state=0}activate(){if(0!==this.state)throw new Error(`Composition has already been activated/deactivated. Id: ${this.controller.name}`);return this.state=1,this.start()}deactivate(e){switch(this.state){case 1:return this.state=-1,this.stop(e);case-1:throw new Error("Composition has already been deactivated.");default:this.state=-1}}}class Lo{constructor(e,t,s,i){var n,r;let o;this.hdrContext=s,this.parentScope=null,this.outerScope=null;const a=t.auSlot,l=null===(r=null===(n=s.instruction)||void 0===n?void 0:n.projections)||void 0===r?void 0:r[a.name];null==l?(o=i.getViewFactory(a.fallback,s.controller.container),this.hasProjection=!1):(o=i.getViewFactory(l,s.parent.controller.container),this.hasProjection=!0),this.view=o.create().setLocation(e)}static get inject(){return[ci,Bi,Zs,Bs]}binding(e,t,s){var i;let n;this.parentScope=this.$controller.scope.parentScope,this.hasProjection&&(n=this.hdrContext.controller.scope.parentScope,(this.outerScope=N.fromParent(n,n.bindingContext)).overrideContext.$host=null!==(i=this.expose)&&void 0!==i?i:this.parentScope.bindingContext)}attaching(e,t,s){return this.view.activate(e,this.$controller,s,this.hasProjection?this.outerScope:this.parentScope)}detaching(e,t,s){return this.view.deactivate(e,this.$controller,s)}exposeChanged(e){this.hasProjection&&null!=this.outerScope&&(this.outerScope.overrideContext.$host=e)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}}re([ae],Lo.prototype,"expose",void 0),Dt({name:"au-slot",template:null,containerless:!0})(Lo);const Vo=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,No=l.createInterface("ISanitizer",(e=>e.singleton(class{sanitize(e){return e.replace(Vo,"")}})));let qo=class{constructor(e){this.sanitizer=e}toView(e){return null==e?null:this.sanitizer.sanitize(e)}};qo=re([oe(0,No)],qo),ne("sanitize")(qo);let Do=class{constructor(e){this.viewLocator=e}toView(e,t){return this.viewLocator.getViewComponentForObject(e,t)}};Do=re([oe(0,Rs)],Do),ne("view")(Do);const Fo=Tr,zo=wr,Uo=xr,Ko=kr,Wo=Ar,Go=$r,Ho=Cr,_o=Yn,Qo=Yr,Xo=[_o,Qo],Yo=De,Zo=Me,Jo=Re,ea=Pe,ta=Oe,sa=[ea,ta],ia=[Zo,Jo],na=Nn,ra=Vn,oa=qn,aa=In,la=Bn,ha=jn,ca=Ln,ua=Gn,da=Dn,pa=Fn,ga=zn,fa=Un,va=Wn,ma=Kn,ba=[ra,la,aa,ha,ca,na,oa,ua,da,pa,ga,va,ma,fa],ya=qo,wa=Do,xa=oo,ka=ao,Ca=ho,Ta=fo,Aa=Or,$a=Rr,Ea=Jr,Sa=So,Oa=[Fo,zo,Uo,Ko,Wo,Go,Ho,ya,wa,no,ro,xa,ka,Ca,Ta,vo,mo,bo,yo,wo,xo,ko,Aa,$a,Ea,Sa,Oo,so,eo,to,Lo],Pa=cn,Ra=an,Ma=on,Ba=dn,ja=gn,Ia=hn,La=pn,Va=un,Na=rn,qa=ln,Da=yn,Fa=Tn,za=wn,Ua=xn,Ka=kn,Wa=Cn,Ga=bn,Ha=[La,ja,Pa,Va,Ba,Na,Ma,Ra,qa,Ia,Da,Fa,za,Ua,Ka,Wa,Ga],_a={register:e=>e.register(...Xo,...Oa,...sa,...ba,...Ha),createContainer(){return this.register(l.createContainer())}},Qa=l.createInterface("IAurelia");class Xa{constructor(e=l.createContainer()){if(this.container=e,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this.startPromise=void 0,this.stopPromise=void 0,e.has(Qa,!0))throw new Error("An instance of Aurelia is already registered with the container or an ancestor of it.");e.registerResolver(Qa,new w("IAurelia",this)),e.registerResolver(ti,this.rootProvider=new w("IAppRoot"))}get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(null==this._root){if(null==this.next)throw new Error("root is not defined");return this.next}return this._root}register(...e){return this.container.register(...e),this}app(e){return this.next=new ni(e,this.initPlatform(e.host),this.container,this.rootProvider),this}enhance(e,t){var s;const i=null!==(s=e.container)&&void 0!==s?s:this.container.createChild(),n=e.host,r=this.initPlatform(n),o=e.component;let a;"function"==typeof o?(i.registerResolver(r.Element,i.registerResolver(li,new w("ElementResolver",n))),a=i.invoke(o)):a=o,i.registerResolver(hi,new w("IEventTarget",n)),t=null!=t?t:null;const l=Ns.forCustomElement(i,a,n,null,void 0,Kt.create({name:Gt.generateName(),template:n,enhance:!0}));return C(l.activate(l,t,2),(()=>l))}async waitForIdle(){const e=this.root.platform;await e.domWriteQueue.yield(),await e.domReadQueue.yield(),await e.taskQueue.yield()}initPlatform(t){let s;if(this.container.has(Le,!1))s=this.container.get(Le);else{if(null===t.ownerDocument.defaultView)throw new Error("Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView");s=new e(t.ownerDocument.defaultView),this.container.register(c.instance(Le,s))}return s}start(e=this.next){if(null==e)throw new Error("There is no composition root");return this.startPromise instanceof Promise?this.startPromise:this.startPromise=C(this.stop(),(()=>(Reflect.set(e.host,"$aurelia",this),this.rootProvider.prepare(this._root=e),this._isStarting=!0,C(e.activate(),(()=>{this._isRunning=!0,this._isStarting=!1,this.startPromise=void 0,this.dispatchEvent(e,"au-started",e.host)})))))}stop(e=!1){if(this.stopPromise instanceof Promise)return this.stopPromise;if(!0===this._isRunning){const t=this._root;return this._isRunning=!1,this._isStopping=!0,this.stopPromise=C(t.deactivate(),(()=>{Reflect.deleteProperty(t.host,"$aurelia"),e&&t.dispose(),this._root=void 0,this.rootProvider.dispose(),this._isStopping=!1,this.dispatchEvent(t,"au-stopped",t.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw new Error("The aurelia instance must be fully stopped before it can be disposed");this.container.dispose()}dispatchEvent(e,t,s){const i=new e.platform.window.CustomEvent(t,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(i)}}const Ya=l.createInterface("IDialogService"),Za=l.createInterface("IDialogController"),Ja=l.createInterface("IDialogDomRenderer"),el=l.createInterface("IDialogDom"),tl=l.createInterface("IDialogGlobalSettings");class sl{constructor(e,t){this.wasCancelled=e,this.dialog=t}static create(e,t){return new sl(e,t)}}class il{constructor(e,t){this.status=e,this.value=t}static create(e,t){return new il(e,t)}}var nl;!function(e){e.Ok="ok",e.Error="error",e.Cancel="cancel",e.Abort="abort"}(nl||(nl={}));class rl{constructor(e,t){this.p=e,this.ctn=t,this.closed=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}static get inject(){return[Le,m]}activate(e){var t;const s=this.ctn.createChild(),{model:i,template:n,rejectOnCancel:r}=e,o=s.get(Ja),a=null!==(t=e.host)&&void 0!==t?t:this.p.document.body,l=this.dom=o.render(a,e),h=s.has(hi,!0)?s.get(hi):null,u=l.contentHost;return this.settings=e,null!=h&&h.contains(a)||s.register(c.instance(hi,a)),s.register(c.instance(li,u),c.instance(el,l)),new Promise((t=>{var n,r;const o=Object.assign(this.cmp=this.getOrCreateVm(s,e,u),{$dialog:this});t(null===(r=null===(n=o.canActivate)||void 0===n?void 0:n.call(o,i))||void 0===r||r)})).then((t=>{var o;if(!0!==t){if(l.dispose(),r)throw al(null,"Dialog activation rejected");return sl.create(!0,this)}const a=this.cmp;return C(null===(o=a.activate)||void 0===o?void 0:o.call(a,i),(()=>{var t;const i=this.controller=Ns.forCustomElement(s,a,u,null,0,Kt.create(null!==(t=this.getDefinition(a))&&void 0!==t?t:{name:Gt.generateName(),template:n}));return C(i.activate(i,null,2),(()=>{var t;return l.overlay.addEventListener(null!==(t=e.mouseEvent)&&void 0!==t?t:"click",this),sl.create(!1,this)}))}))}),(e=>{throw l.dispose(),e}))}deactivate(e,t){if(this.closingPromise)return this.closingPromise;let s=!0;const{controller:i,dom:n,cmp:r,settings:{mouseEvent:o,rejectOnCancel:a}}=this,l=il.create(e,t),h=new Promise((h=>{var c,u;h(C(null===(u=null===(c=r.canDeactivate)||void 0===c?void 0:c.call(r,l))||void 0===u||u,(h=>{var c;if(!0!==h){if(s=!1,this.closingPromise=void 0,a)throw al(null,"Dialog cancellation rejected");return il.create("abort")}return C(null===(c=r.deactivate)||void 0===c?void 0:c.call(r,l),(()=>C(i.deactivate(i,null,4),(()=>(n.dispose(),n.overlay.removeEventListener(null!=o?o:"click",this),a||"error"===e?this.reject(al(t,"Dialog cancelled with a rejection on cancel")):this.resolve(l),l)))))})))})).catch((e=>{throw this.closingPromise=void 0,e}));return this.closingPromise=s?h:void 0,h}ok(e){return this.deactivate("ok",e)}cancel(e){return this.deactivate("cancel",e)}error(e){const t=function(e){const t=new Error;return t.wasCancelled=!1,t.value=e,t}(e);return new Promise((e=>{var s,i;return e(C(null===(i=(s=this.cmp).deactivate)||void 0===i?void 0:i.call(s,il.create("error",t)),(()=>C(this.controller.deactivate(this.controller,null,4),(()=>{this.dom.dispose(),this.reject(t)})))))}))}handleEvent(e){this.settings.overlayDismiss&&!this.dom.contentHost.contains(e.target)&&this.cancel()}getOrCreateVm(e,t,s){const i=t.component;if(null==i)return new ol;if("object"==typeof i)return i;return e.registerResolver(li,e.registerResolver(this.p.Element,new w("ElementResolver",s))),e.invoke(i)}getDefinition(e){const t="function"==typeof e?e:null==e?void 0:e.constructor;return Gt.isType(t)?Gt.getDefinition(t):null}}class ol{}function al(e,t){const s=new Error(t);return s.wasCancelled=!0,s.value=e,s}class ll{constructor(e,t,s){this.container=e,this.p=t,this.defaultSettings=s,this.dlgs=[]}get controllers(){return this.dlgs.slice(0)}get top(){const e=this.dlgs;return e.length>0?e[e.length-1]:null}static get inject(){return[m,Le,tl]}static register(e){e.register(c.singleton(Ya,this),wt.beforeDeactivate(Ya,(e=>C(e.closeAll(),(e=>{if(e.length>0)throw new Error(`There are still ${e.length} open dialog(s).`)})))))}open(e){return(t=new Promise((t=>{var s;const i=hl.from(this.defaultSettings,e),n=null!==(s=i.container)&&void 0!==s?s:this.container.createChild();t(C(i.load(),(e=>{const t=n.invoke(rl);return n.register(c.instance(Za,t)),n.register(c.callback(rl,(()=>{throw new Error("Invalid injection of DialogController. Use IDialogController instead.")}))),C(t.activate(e),(e=>{if(!e.wasCancelled){1===this.dlgs.push(t)&&this.p.window.addEventListener("keydown",this);const e=()=>this.remove(t);t.closed.then(e,e)}return e}))})))}))).whenClosed=cl,t;var t}closeAll(){return Promise.all(Array.from(this.dlgs).map((e=>e.settings.rejectOnCancel?e.cancel().then((()=>null)):e.cancel().then((t=>"cancel"===t.status?null:e))))).then((e=>e.filter((e=>!!e))))}remove(e){const t=this.dlgs,s=t.indexOf(e);s>-1&&this.dlgs.splice(s,1),0===t.length&&this.p.window.removeEventListener("keydown",this)}handleEvent(e){const t=function(e){if("Escape"===(e.code||e.key)||27===e.keyCode)return"Escape";if("Enter"===(e.code||e.key)||13===e.keyCode)return"Enter";return}(e);if(null==t)return;const s=this.top;if(null===s||0===s.settings.keyboard.length)return;const i=s.settings.keyboard;"Escape"===t&&i.includes(t)?s.cancel():"Enter"===t&&i.includes(t)&&s.ok()}}class hl{static from(...e){return Object.assign(new hl,...e).validate().normalize()}load(){const e=this,t=this.component,s=this.template,i=T(null==t?void 0:C(t(),(t=>{e.component=t})),"function"==typeof s?C(s(),(t=>{e.template=t})):void 0);return i instanceof Promise?i.then((()=>e)):e}validate(){if(null==this.component&&null==this.template)throw new Error('Invalid Dialog Settings. You must provide "component", "template" or both.');return this}normalize(){return null==this.keyboard&&(this.keyboard=this.lock?[]:["Enter","Escape"]),"boolean"!=typeof this.overlayDismiss&&(this.overlayDismiss=!this.lock),this}}function cl(e,t){return this.then((s=>s.dialog.closed.then(e,t)),t)}class ul{constructor(){this.lock=!0,this.startingZIndex=1e3,this.rejectOnCancel=!1}static register(e){c.singleton(tl,this).register(e)}}const dl="position:absolute;width:100%;height:100%;top:0;left:0;";class pl{constructor(e){this.p=e,this.wrapperCss=`${dl} display:flex;`,this.overlayCss=dl,this.hostCss="position:relative;margin:auto;"}static register(e){c.singleton(Ja,this).register(e)}render(e){const t=this.p.document,s=(e,s)=>{const i=t.createElement(e);return i.style.cssText=s,i},i=e.appendChild(s("au-dialog-container",this.wrapperCss)),n=i.appendChild(s("au-dialog-overlay",this.overlayCss)),r=i.appendChild(s("div",this.hostCss));return new gl(i,n,r)}}pl.inject=[Le];class gl{constructor(e,t,s){this.wrapper=e,this.overlay=t,this.contentHost=s}dispose(){this.wrapper.remove()}}function fl(e,t){return{settingsProvider:e,register:s=>s.register(...t,wt.beforeCreate((()=>e(s.get(tl))))),customize:(e,s)=>fl(e,null!=s?s:t)}}const vl=fl((()=>{throw new Error("Invalid dialog configuration. Specify the implementations for <IDialogService>, <IDialogGlobalSettings> and <IDialogDomRenderer>, or use the DialogDefaultConfiguration export.")}),[class{static register(e){e.register(c.singleton(tl,this))}}]),ml=fl(o,[ll,ul,pl]);export{ls as AdoptedStyleSheetsStyles,ni as AppRoot,wt as AppTask,Me as AtPrefixedTriggerAttributePattern,Zo as AtPrefixedTriggerAttributePatternRegistration,Or as AttrBindingBehavior,Aa as AttrBindingBehaviorRegistration,Un as AttrBindingCommand,fa as AttrBindingCommandRegistration,ke as AttrSyntax,it as AttributeBinding,Zi as AttributeBindingInstruction,Fa as AttributeBindingRendererRegistration,Br as AttributeNSAccessor,Se as AttributePattern,Oo as AuCompose,So as AuRender,Sa as AuRenderRegistration,Lo as AuSlot,Ri as AuSlotsInfo,Xa as Aurelia,he as Bindable,ce as BindableDefinition,ue as BindableObserver,ar as BindablesInfo,Mn as BindingCommand,Rn as BindingCommandDefinition,yr as BindingModeBehavior,es as CSSModulesProcessorRegistry,Ke as CallBinding,Nn as CallBindingCommand,na as CallBindingCommandRegistration,Ni as CallBindingInstruction,Pa as CallBindingRendererRegistration,zn as CaptureBindingCommand,ga as CaptureBindingCommandRegistration,mo as Case,Ir as CheckedObserver,Tt as Children,$t as ChildrenDefinition,Et as ChildrenObserver,Xt as ClassAttributeAccessor,Wn as ClassBindingCommand,va as ClassBindingCommandRegistration,Re as ColonPrefixedBindAttributePattern,Jo as ColonPrefixedBindAttributePatternRegistration,fs as ComputedWatcher,Ns as Controller,It as CustomAttribute,jt as CustomAttributeDefinition,Ra as CustomAttributeRendererRegistration,Gt as CustomElement,Kt as CustomElementDefinition,Ma as CustomElementRendererRegistration,Er as DataAttributeAccessor,Tr as DebounceBindingBehavior,Fo as DebounceBindingBehaviorRegistration,Vn as DefaultBindingCommand,ra as DefaultBindingCommandRegistration,ba as DefaultBindingLanguage,sa as DefaultBindingSyntax,bo as DefaultCase,Xo as DefaultComponents,gl as DefaultDialogDom,pl as DefaultDialogDomRenderer,ul as DefaultDialogGlobalSettings,Ha as DefaultRenderers,Oa as DefaultResources,Fn as DelegateBindingCommand,pa as DelegateBindingCommandRegistration,il as DialogCloseResult,vl as DialogConfiguration,rl as DialogController,nl as DialogDeactivationStatuses,ml as DialogDefaultConfiguration,sl as DialogOpenResult,ll as DialogService,Oe as DotSeparatedAttributePattern,ta as DotSeparatedAttributePatternRegistration,ao as Else,ka as ElseRegistration,Si as EventDelegator,$i as EventSubscriber,vs as ExpressionWatcher,eo as Focus,qn as ForBindingCommand,oa as ForBindingCommandRegistration,mi as FragmentNodeSequence,no as FrequentMutations,kr as FromViewBindingBehavior,Ko as FromViewBindingBehaviorRegistration,In as FromViewBindingCommand,aa as FromViewBindingCommandRegistration,xo as FulfilledTemplateController,zi as HydrateAttributeInstruction,Fi as HydrateElementInstruction,Ki as HydrateLetElementInstruction,Ui as HydrateTemplateController,ti as IAppRoot,bt as IAppTask,Fe as IAttrMapper,Te as IAttributeParser,Ce as IAttributePattern,Pi as IAuSlotsInfo,Qa as IAurelia,Ys as IController,Za as IDialogController,el as IDialogDom,Ja as IDialogDomRenderer,tl as IDialogGlobalSettings,Ya as IDialogService,Ei as IEventDelegator,hi as IEventTarget,wi as IHistory,Zs as IHydrationContext,Bi as IInstruction,ms as ILifecycleHooks,yi as ILocation,li as INode,Qo as INodeObserverLocatorRegistration,Le as IPlatform,Oi as IProjections,ci as IRenderLocation,en as IRenderer,Bs as IRendering,Ve as ISVGAnalyzer,No as ISanitizer,as as IShadowDOMGlobalStyles,ss as IShadowDOMStyleFactory,os as IShadowDOMStyles,we as ISyntaxInterpreter,Ji as ITemplateCompiler,pr as ITemplateCompilerHooks,_o as ITemplateCompilerRegistration,Hn as ITemplateElementFactory,Ts as IViewFactory,Rs as IViewLocator,bi as IWindow,si as IWorkTracker,oo as If,xa as IfRegistration,Mi as InstructionType,ot as InterpolationBinding,Ba as InterpolationBindingRendererRegistration,Ii as InterpolationInstruction,ge as Interpretation,Vi as IteratorBindingInstruction,ja as IteratorBindingRendererRegistration,ht as LetBinding,Wi as LetBindingInstruction,Ia as LetElementRendererRegistration,xs as LifecycleHooks,ys as LifecycleHooksDefinition,bs as LifecycleHooksEntry,ki as Listener,Hi as ListenerBindingInstruction,Da as ListenerBindingRendererRegistration,Xr as NodeObserverConfig,Yr as NodeObserverLocator,ui as NodeType,Ne as NoopSVGAnalyzer,ro as ObserveShallow,wr as OneTimeBindingBehavior,zo as OneTimeBindingBehaviorRegistration,Bn as OneTimeBindingCommand,la as OneTimeBindingCommandRegistration,wo as PendingTemplateController,so as Portal,yo as PromiseTemplateController,ft as PropertyBinding,Li as PropertyBindingInstruction,La as PropertyBindingRendererRegistration,Pe as RefAttributePattern,ea as RefAttributePatternRegistration,mt as RefBinding,ua as RefBindingCommandRegistration,qi as RefBindingInstruction,Va as RefBindingRendererRegistration,ko as RejectedTemplateController,Ao as RenderPlan,js as Rendering,ho as Repeat,Ca as RepeatRegistration,De as SVGAnalyzer,Yo as SVGAnalyzerRegistration,qo as SanitizeValueConverter,ya as SanitizeValueConverterRegistration,Dr as SelectValueObserver,Rr as SelfBindingBehavior,$a as SelfBindingBehaviorRegistration,Qi as SetAttributeInstruction,za as SetAttributeRendererRegistration,Xi as SetClassAttributeInstruction,Ua as SetClassAttributeRendererRegistration,Di as SetPropertyInstruction,Na as SetPropertyRendererRegistration,Yi as SetStyleAttributeInstruction,Ka as SetStyleAttributeRendererRegistration,is as ShadowDOMRegistry,ia as ShortHandBindingSyntax,Ar as SignalBindingBehavior,Wo as SignalBindingBehaviorRegistration,_a as StandardConfiguration,zr as StyleAttributeAccessor,Kn as StyleBindingCommand,ma as StyleBindingCommandRegistration,cs as StyleConfiguration,hs as StyleElementStyles,_i as StylePropertyBindingInstruction,Wa as StylePropertyBindingRendererRegistration,vo as Switch,Yn as TemplateCompiler,vr as TemplateCompilerHooks,qa as TemplateControllerRendererRegistration,Gi as TextBindingInstruction,Ga as TextBindingRendererRegistration,$r as ThrottleBindingBehavior,Go as ThrottleBindingBehaviorRegistration,xr as ToViewBindingBehavior,Uo as ToViewBindingBehaviorRegistration,jn as ToViewBindingCommand,ha as ToViewBindingCommandRegistration,Dn as TriggerBindingCommand,da as TriggerBindingCommandRegistration,Cr as TwoWayBindingBehavior,Ho as TwoWayBindingBehaviorRegistration,Ln as TwoWayBindingCommand,ca as TwoWayBindingCommandRegistration,Jr as UpdateTriggerBindingBehavior,Ea as UpdateTriggerBindingBehaviorRegistration,Ur as ValueAttributeObserver,As as ViewFactory,Ms as ViewLocator,_s as ViewModelKind,Do as ViewValueConverter,wa as ViewValueConverterRegistration,Os as Views,qt as Watch,fo as With,Ta as WithRegistration,Xn as allResources,$e as attributePattern,ae as bindable,Pn as bindingCommand,kt as children,zt as containerless,fi as convertToRenderLocation,To as createElement,Jt as cssModules,Mt as customAttribute,Dt as customElement,pi as getEffectiveParentNode,oi as getRef,Ks as isCustomElementController,Ws as isCustomElementViewModel,ji as isInstruction,vi as isRenderLocation,Cs as lifecycleHooks,_t as processContent,tn as renderer,gi as setEffectiveParentNode,ai as setRef,ts as shadowCSS,br as templateCompilerHooks,Bt as templateController,Ft as useShadowDOM,Ps as view,Lt as watch};
