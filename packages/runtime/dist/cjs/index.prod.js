Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@aurelia/kernel"),t=require("@aurelia/platform");function r(t,r,n,s){for(let i=0,o=t.length;i<o;++i)e.Registration.aliasTo(n,r.keyFrom(t[i])).register(s)}const n=Object.freeze({});class s{constructor(e,t){if(void 0!==e)if(void 0!==t)this[e]=t;else for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}static create(e,t){return new s(e,t)}static get(e,t,r,s){var i,o;if(null==e)throw new Error(`Scope is ${e}.`);let a=e.overrideContext,u=e;if(r>0){for(;r>0;)if(r--,u=u.parentScope,null==(null==u?void 0:u.overrideContext))return;return a=u.overrideContext,t in a?a:a.bindingContext}for(;!((null==u?void 0:u.isBoundary)||null==a||t in a||a.bindingContext&&t in a.bindingContext);)u=null!==(i=u.parentScope)&&void 0!==i?i:null,a=null!==(o=null==u?void 0:u.overrideContext)&&void 0!==o?o:null;return a?t in a?a:a.bindingContext:16&s?n:e.bindingContext||e.overrideContext}}class i{constructor(e,t,r,n){this.parentScope=e,this.bindingContext=t,this.overrideContext=r,this.isBoundary=n}static create(e,t,r){return new i(null,e,null==t?o.create(e):t,null!=r&&r)}static fromOverride(e){if(null==e)throw new Error(`OverrideContext is ${e}`);return new i(null,e.bindingContext,e,!1)}static fromParent(e,t){if(null==e)throw new Error(`ParentScope is ${e}`);return new i(e,t,o.create(t),!1)}}class o{constructor(e){this.bindingContext=e}static create(e){return new o(e)}}const a=e.DI.createInterface("ISignaler",(e=>e.singleton(u)));class u{constructor(){this.signals=Object.create(null)}dispatchSignal(e,t){const r=this.signals[e];if(void 0!==r)for(const e of r.keys())e.handleChange(void 0,void 0,t)}addSignalListener(e,t){const r=this.signals,n=r[e];void 0===n?r[e]=new Set([t]):n.add(t)}removeSignalListener(e,t){const r=this.signals[e];r&&r.delete(t)}}var l;exports.BindingBehaviorStrategy=void 0,(l=exports.BindingBehaviorStrategy||(exports.BindingBehaviorStrategy={}))[l.singleton=1]="singleton",l[l.interceptor=2]="interceptor";class c{constructor(e,t,r,n,s){this.Type=e,this.name=t,this.aliases=r,this.key=n,this.strategy=s}static create(t,r){let n,s;"string"==typeof t?(n=t,s={name:n}):(n=t.name,s=t);const i=Object.getPrototypeOf(r)===d;return new c(r,e.firstDefined(p.getAnnotation(r,"name"),n),e.mergeArrays(p.getAnnotation(r,"aliases"),s.aliases,r.aliases),p.keyFrom(n),e.fromAnnotationOrDefinitionOrTypeOrDefault("strategy",s,r,(()=>i?2:1)))}register(t){const{Type:n,key:s,aliases:i,strategy:o}=this;switch(o){case 1:e.Registration.singleton(s,n).register(t);break;case 2:e.Registration.instance(s,new h(t,n)).register(t)}e.Registration.aliasTo(s,n).register(t),r(i,p,s,t)}}class h{constructor(t,r){this.container=t,this.Type=r,this.deps=e.DI.getDependencies(r)}construct(e,t){const r=this.container,n=this.deps;switch(n.length){case 0:case 1:case 2:return new this.Type(e,t);case 3:return new this.Type(r.get(n[0]),e,t);case 4:return new this.Type(r.get(n[0]),r.get(n[1]),e,t);default:return new this.Type(...n.map((e=>r.get(e))),e,t)}}}class d{constructor(e,t){let r;for(this.binding=e,this.expr=t,this.interceptor=this;e.interceptor!==this;)r=e.interceptor,e.interceptor=this,e=r}get observerLocator(){return this.binding.observerLocator}get locator(){return this.binding.locator}get $scope(){return this.binding.$scope}get isBound(){return this.binding.isBound}get obs(){return this.binding.obs}get sourceExpression(){return this.binding.sourceExpression}updateTarget(e,t){this.binding.updateTarget(e,t)}updateSource(e,t){this.binding.updateSource(e,t)}callSource(e){return this.binding.callSource(e)}handleChange(e,t,r){this.binding.handleChange(e,t,r)}handleCollectionChange(e,t){this.binding.handleCollectionChange(e,t)}observeProperty(e,t){this.binding.observeProperty(e,t)}observeCollection(e){this.binding.observeCollection(e)}$bind(e,t){this.binding.$bind(e,t)}$unbind(e){this.binding.$unbind(e)}}const p={name:e.Protocol.resource.keyFor("binding-behavior"),keyFrom:e=>`${p.name}:${e}`,isType:t=>"function"==typeof t&&e.Metadata.hasOwn(p.name,t),define(t,r){const n=c.create(t,r);return e.Metadata.define(p.name,n,n.Type),e.Metadata.define(p.name,n,n),e.Protocol.resource.appendTo(r,p.name),n.Type},getDefinition(t){const r=e.Metadata.getOwn(p.name,t);if(void 0===r)throw new Error(`No definition found for type ${t.name}`);return r},annotate(t,r,n){e.Metadata.define(e.Protocol.annotation.keyFor(r),n,t)},getAnnotation:(t,r)=>e.Metadata.getOwn(e.Protocol.annotation.keyFor(r),t)};class f{constructor(e,t,r,n){this.Type=e,this.name=t,this.aliases=r,this.key=n}static create(t,r){let n,s;return"string"==typeof t?(n=t,s={name:n}):(n=t.name,s=t),new f(r,e.firstDefined(g.getAnnotation(r,"name"),n),e.mergeArrays(g.getAnnotation(r,"aliases"),s.aliases,r.aliases),g.keyFrom(n))}register(t){const{Type:n,key:s,aliases:i}=this;e.Registration.singleton(s,n).register(t),e.Registration.aliasTo(s,n).register(t),r(i,g,s,t)}}const g={name:e.Protocol.resource.keyFor("value-converter"),keyFrom:e=>`${g.name}:${e}`,isType:t=>"function"==typeof t&&e.Metadata.hasOwn(g.name,t),define(t,r){const n=f.create(t,r);return e.Metadata.define(g.name,n,n.Type),e.Metadata.define(g.name,n,n),e.Protocol.resource.appendTo(r,g.name),n.Type},getDefinition(t){const r=e.Metadata.getOwn(g.name,t);if(void 0===r)throw new Error(`No definition found for type ${t.name}`);return r},annotate(t,r,n){e.Metadata.define(e.Protocol.annotation.keyFor(r),n,t)},getAnnotation:(t,r)=>e.Metadata.getOwn(e.Protocol.annotation.keyFor(r),t)};var v;exports.ExpressionKind=void 0,(v=exports.ExpressionKind||(exports.ExpressionKind={}))[v.Connects=32]="Connects",v[v.Observes=64]="Observes",v[v.CallsFunction=128]="CallsFunction",v[v.HasAncestor=256]="HasAncestor",v[v.IsPrimary=512]="IsPrimary",v[v.IsLeftHandSide=1024]="IsLeftHandSide",v[v.HasBind=2048]="HasBind",v[v.HasUnbind=4096]="HasUnbind",v[v.IsAssignable=8192]="IsAssignable",v[v.IsLiteral=16384]="IsLiteral",v[v.IsResource=32768]="IsResource",v[v.IsForDeclaration=65536]="IsForDeclaration",v[v.Type=31]="Type",v[v.AccessThis=1793]="AccessThis",v[v.AccessScope=10082]="AccessScope",v[v.ArrayLiteral=17955]="ArrayLiteral",v[v.ObjectLiteral=17956]="ObjectLiteral",v[v.PrimitiveLiteral=17925]="PrimitiveLiteral",v[v.Template=17958]="Template",v[v.Unary=39]="Unary",v[v.CallScope=1448]="CallScope",v[v.CallMember=1161]="CallMember",v[v.CallFunction=1162]="CallFunction",v[v.AccessMember=9323]="AccessMember",v[v.AccessKeyed=9324]="AccessKeyed",v[v.TaggedTemplate=1197]="TaggedTemplate",v[v.Binary=46]="Binary",v[v.Conditional=63]="Conditional",v[v.Assign=8208]="Assign",v[v.ValueConverter=36913]="ValueConverter",v[v.BindingBehavior=38962]="BindingBehavior",v[v.HtmlLiteral=51]="HtmlLiteral",v[v.ArrayBindingPattern=65556]="ArrayBindingPattern",v[v.ObjectBindingPattern=65557]="ObjectBindingPattern",v[v.BindingIdentifier=65558]="BindingIdentifier",v[v.ForOfStatement=6199]="ForOfStatement",v[v.Interpolation=24]="Interpolation";class b{constructor(){this.text=""}static unparse(e){const t=new b;return e.accept(t),t.text}visitAccessMember(e){e.object.accept(this),this.text+=`.${e.name}`}visitAccessKeyed(e){e.object.accept(this),this.text+="[",e.key.accept(this),this.text+="]"}visitAccessThis(e){if(0===e.ancestor)return void(this.text+="$this");this.text+="$parent";let t=e.ancestor-1;for(;t--;)this.text+=".$parent"}visitAccessScope(e){let t=e.ancestor;for(;t--;)this.text+="$parent.";this.text+=e.name}visitArrayLiteral(e){const t=e.elements;this.text+="[";for(let e=0,r=t.length;e<r;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+="]"}visitObjectLiteral(e){const t=e.keys,r=e.values;this.text+="{";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),this.text+=`'${t[e]}':`,r[e].accept(this);this.text+="}"}visitPrimitiveLiteral(e){if(this.text+="(","string"==typeof e.value){const t=e.value.replace(/'/g,"\\'");this.text+=`'${t}'`}else this.text+=`${e.value}`;this.text+=")"}visitCallFunction(e){this.text+="(",e.func.accept(this),this.writeArgs(e.args),this.text+=")"}visitCallMember(e){this.text+="(",e.object.accept(this),this.text+=`.${e.name}`,this.writeArgs(e.args),this.text+=")"}visitCallScope(e){this.text+="(";let t=e.ancestor;for(;t--;)this.text+="$parent.";this.text+=e.name,this.writeArgs(e.args),this.text+=")"}visitTemplate(e){const{cooked:t,expressions:r}=e,n=r.length;this.text+="`",this.text+=t[0];for(let e=0;e<n;e++)r[e].accept(this),this.text+=t[e+1];this.text+="`"}visitTaggedTemplate(e){const{cooked:t,expressions:r}=e,n=r.length;e.func.accept(this),this.text+="`",this.text+=t[0];for(let e=0;e<n;e++)r[e].accept(this),this.text+=t[e+1];this.text+="`"}visitUnary(e){this.text+=`(${e.operation}`,e.operation.charCodeAt(0)>=97&&(this.text+=" "),e.expression.accept(this),this.text+=")"}visitBinary(e){this.text+="(",e.left.accept(this),105===e.operation.charCodeAt(0)?this.text+=` ${e.operation} `:this.text+=e.operation,e.right.accept(this),this.text+=")"}visitConditional(e){this.text+="(",e.condition.accept(this),this.text+="?",e.yes.accept(this),this.text+=":",e.no.accept(this),this.text+=")"}visitAssign(e){this.text+="(",e.target.accept(this),this.text+="=",e.value.accept(this),this.text+=")"}visitValueConverter(e){const t=e.args;e.expression.accept(this),this.text+=`|${e.name}`;for(let e=0,r=t.length;e<r;++e)this.text+=":",t[e].accept(this)}visitBindingBehavior(e){const t=e.args;e.expression.accept(this),this.text+=`&${e.name}`;for(let e=0,r=t.length;e<r;++e)this.text+=":",t[e].accept(this)}visitArrayBindingPattern(e){const t=e.elements;this.text+="[";for(let e=0,r=t.length;e<r;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+="]"}visitObjectBindingPattern(e){const t=e.keys,r=e.values;this.text+="{";for(let e=0,n=t.length;e<n;++e)0!==e&&(this.text+=","),this.text+=`'${t[e]}':`,r[e].accept(this);this.text+="}"}visitBindingIdentifier(e){this.text+=e.name}visitHtmlLiteral(e){throw new Error("visitHtmlLiteral")}visitForOfStatement(e){e.declaration.accept(this),this.text+=" of ",e.iterable.accept(this)}visitInterpolation(e){const{parts:t,expressions:r}=e,n=r.length;this.text+="${",this.text+=t[0];for(let e=0;e<n;e++)r[e].accept(this),this.text+=t[e+1];this.text+="}"}writeArgs(e){this.text+="(";for(let t=0,r=e.length;t<r;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+=")"}}class y{constructor(e){this.value=e}evaluate(e,t,r,n){return this.value}}class x{constructor(e,t,r){this.expression=e,this.name=t,this.args=r,this.behaviorKey=p.keyFrom(t)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(e,t,r,n){return this.expression.evaluate(e,t,r,n)}assign(e,t,r,n){return this.expression.assign(e,t,r,n)}bind(e,t,r){this.expression.hasBind&&this.expression.bind(e,t,r);const n=r.locator.get(this.behaviorKey);if(null==n)throw new Error(`BindingBehavior named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(!(n instanceof h)){if(void 0!==r[this.behaviorKey])throw new Error(`BindingBehavior named '${this.name}' already applied.`);r[this.behaviorKey]=n,n.bind.call(n,e,t,r,...this.args.map((n=>n.evaluate(e,t,r.locator,null))))}}unbind(e,t,r){const n=this.behaviorKey,s=r;void 0!==s[n]&&("function"==typeof s[n].unbind&&s[n].unbind(e,t,r),s[n]=void 0),this.expression.hasUnbind&&this.expression.unbind(e,t,r)}accept(e){return e.visitBindingBehavior(this)}toString(){return b.unparse(this)}}class m{constructor(e,t,r){this.expression=e,this.name=t,this.args=r,this.converterKey=g.keyFrom(t)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(e,t,r,n){const s=r.get(this.converterKey);if(null==s)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);if(null!==n&&"handleChange"in n){const e=s.signals;if(null!=e){const t=r.get(a);for(let r=0,s=e.length;r<s;++r)t.addSignalListener(e[r],n)}}return"toView"in s?s.toView(this.expression.evaluate(e,t,r,n),...this.args.map((s=>s.evaluate(e,t,r,n)))):this.expression.evaluate(e,t,r,n)}assign(e,t,r,n){const s=r.get(this.converterKey);if(null==s)throw new Error(`ValueConverter named '${this.name}' could not be found. Did you forget to register it as a dependency?`);return"fromView"in s&&(n=s.fromView(n,...this.args.map((n=>n.evaluate(e,t,r,null))))),this.expression.assign(e,t,r,n)}unbind(e,t,r){const n=r.locator.get(this.converterKey);if(void 0===n.signals)return;const s=r.locator.get(a);for(let e=0;e<n.signals.length;++e)s.removeSignalListener(n.signals[e],r)}accept(e){return e.visitValueConverter(this)}toString(){return b.unparse(this)}}class w{constructor(e,t){this.target=e,this.value=t}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.target.assign(e,t,r,this.value.evaluate(e,t,r,n))}assign(e,t,r,n){return this.value.assign(e,t,r,n),this.target.assign(e,t,r,n)}accept(e){return e.visitAssign(this)}toString(){return b.unparse(this)}}class C{constructor(e,t,r){this.condition=e,this.yes=t,this.no=r}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.condition.evaluate(e,t,r,n)?this.yes.evaluate(e,t,r,n):this.no.evaluate(e,t,r,n)}assign(e,t,r,n){}accept(e){return e.visitConditional(this)}toString(){return b.unparse(this)}}class k{constructor(e=0){this.ancestor=e}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){var s;let i=t.overrideContext,o=t,a=this.ancestor;for(;a--&&i;)o=o.parentScope,i=null!==(s=null==o?void 0:o.overrideContext)&&void 0!==s?s:null;return a<1&&i?i.bindingContext:void 0}assign(e,t,r,n){}accept(e){return e.visitAccessThis(this)}toString(){return b.unparse(this)}}k.$this=new k(0),k.$parent=new k(1);class O{constructor(e,t=0){this.name=e,this.ancestor=t}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const i=s.get(t,this.name,this.ancestor,e);null!==n&&n.observeProperty(i,this.name);const o=i[this.name];if(null==o&&"$host"===this.name)throw new Error("Unable to find $host context. Did you forget [au-slot] attribute?");return 1&e?o:null==o?"":o}assign(e,t,r,n){var i;if("$host"===this.name)throw new Error("Invalid assignment. $host is a reserved keyword.");const o=s.get(t,this.name,this.ancestor,e);if(o instanceof Object)return void 0!==(null===(i=o.$observers)||void 0===i?void 0:i[this.name])?(o.$observers[this.name].setValue(n,e),n):o[this.name]=n}accept(e){return e.visitAccessScope(this)}toString(){return b.unparse(this)}}class T{constructor(e,t){this.object=e,this.name=t}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s=this.object.evaluate(e,t,r,(128&e)>0?null:n);return 1&e?null==s?s:(null!==n&&n.observeProperty(s,this.name),s[this.name]):(null!==n&&s instanceof Object&&n.observeProperty(s,this.name),s?s[this.name]:"")}assign(e,t,r,n){const s=this.object.evaluate(e,t,r,null);return s instanceof Object?void 0!==s.$observers&&void 0!==s.$observers[this.name]?s.$observers[this.name].setValue(n,e):s[this.name]=n:this.object.assign(e,t,r,{[this.name]:n}),n}accept(e){return e.visitAccessMember(this)}toString(){return b.unparse(this)}}class S{constructor(e,t){this.object=e,this.key=t}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s=this.object.evaluate(e,t,r,(128&e)>0?null:n);if(s instanceof Object){const i=this.key.evaluate(e,t,r,(128&e)>0?null:n);return null!==n&&n.observeProperty(s,i),s[i]}}assign(e,t,r,n){return this.object.evaluate(e,t,r,null)[this.key.evaluate(e,t,r,null)]=n}accept(e){return e.visitAccessKeyed(this)}toString(){return b.unparse(this)}}class L{constructor(e,t,r=0){this.name=e,this.args=t,this.ancestor=r}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const i=this.args.map((s=>s.evaluate(e,t,r,n))),o=s.get(t,this.name,this.ancestor,e),a=N(e,o,this.name);if(a)return a.apply(o,i)}assign(e,t,r,n){}accept(e){return e.visitCallScope(this)}toString(){return b.unparse(this)}}class A{constructor(e,t,r){this.object=e,this.name=t,this.args=r}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s=this.object.evaluate(e,t,r,(128&e)>0?null:n),i=this.args.map((s=>s.evaluate(e,t,r,n))),o=N(e,s,this.name);if(o)return o.apply(s,i)}assign(e,t,r,n){}accept(e){return e.visitCallMember(this)}toString(){return b.unparse(this)}}class E{constructor(e,t){this.func=e,this.args=t}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s=this.func.evaluate(e,t,r,n);if("function"==typeof s)return s(...this.args.map((s=>s.evaluate(e,t,r,n))));if(8&e||null!=s)throw new Error("Expression is not a function.")}assign(e,t,r,n){}accept(e){return e.visitCallFunction(this)}toString(){return b.unparse(this)}}class ${constructor(e,t,r){this.operation=e,this.left=t,this.right=r}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,r,n,s){switch(this.operation){case"&&":return this.left.evaluate(t,r,n,s)&&this.right.evaluate(t,r,n,s);case"||":return this.left.evaluate(t,r,n,s)||this.right.evaluate(t,r,n,s);case"==":return this.left.evaluate(t,r,n,s)==this.right.evaluate(t,r,n,s);case"===":return this.left.evaluate(t,r,n,s)===this.right.evaluate(t,r,n,s);case"!=":return this.left.evaluate(t,r,n,s)!=this.right.evaluate(t,r,n,s);case"!==":return this.left.evaluate(t,r,n,s)!==this.right.evaluate(t,r,n,s);case"instanceof":{const e=this.right.evaluate(t,r,n,s);return"function"==typeof e&&this.left.evaluate(t,r,n,s)instanceof e}case"in":{const e=this.right.evaluate(t,r,n,s);return e instanceof Object&&this.left.evaluate(t,r,n,s)in e}case"+":{const i=this.left.evaluate(t,r,n,s),o=this.right.evaluate(t,r,n,s);if((1&t)>0)return i+o;if(!i||!o){if(e.isNumberOrBigInt(i)||e.isNumberOrBigInt(o))return(i||0)+(o||0);if(e.isStringOrDate(i)||e.isStringOrDate(o))return(i||"")+(o||"")}return i+o}case"-":return this.left.evaluate(t,r,n,s)-this.right.evaluate(t,r,n,s);case"*":return this.left.evaluate(t,r,n,s)*this.right.evaluate(t,r,n,s);case"/":return this.left.evaluate(t,r,n,s)/this.right.evaluate(t,r,n,s);case"%":return this.left.evaluate(t,r,n,s)%this.right.evaluate(t,r,n,s);case"<":return this.left.evaluate(t,r,n,s)<this.right.evaluate(t,r,n,s);case">":return this.left.evaluate(t,r,n,s)>this.right.evaluate(t,r,n,s);case"<=":return this.left.evaluate(t,r,n,s)<=this.right.evaluate(t,r,n,s);case">=":return this.left.evaluate(t,r,n,s)>=this.right.evaluate(t,r,n,s);default:throw new Error(`Unknown binary operator: '${this.operation}'`)}}assign(e,t,r,n){}accept(e){return e.visitBinary(this)}toString(){return b.unparse(this)}}class B{constructor(e,t){this.operation=e,this.expression=t}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){switch(this.operation){case"void":return void this.expression.evaluate(e,t,r,n);case"typeof":return typeof this.expression.evaluate(1|e,t,r,n);case"!":return!this.expression.evaluate(e,t,r,n);case"-":return-this.expression.evaluate(e,t,r,n);case"+":return+this.expression.evaluate(e,t,r,n);default:throw new Error(`Unknown unary operator: '${this.operation}'`)}}assign(e,t,r,n){}accept(e){return e.visitUnary(this)}toString(){return b.unparse(this)}}class I{constructor(e){this.value=e}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.value}assign(e,t,r,n){}accept(e){return e.visitPrimitiveLiteral(this)}toString(){return b.unparse(this)}}I.$undefined=new I(void 0),I.$null=new I(null),I.$true=new I(!0),I.$false=new I(!1),I.$empty=new I("");class P{constructor(e){this.elements=e}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.elements.map((s=>s.evaluate(e,t,r,n)))}assign(e,t,r,n){}accept(e){return e.visitArrayLiteral(this)}toString(){return b.unparse(this)}}P.$empty=new P(e.emptyArray);class M{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s={};for(let i=0;i<this.keys.length;++i)s[this.keys[i]]=this.values[i].evaluate(e,t,r,n);return s}assign(e,t,r,n){}accept(e){return e.visitObjectLiteral(this)}toString(){return b.unparse(this)}}M.$empty=new M(e.emptyArray,e.emptyArray);class U{constructor(t,r=e.emptyArray){this.cooked=t,this.expressions=r}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){let s=this.cooked[0];for(let i=0;i<this.expressions.length;++i)s+=String(this.expressions[i].evaluate(e,t,r,n)),s+=this.cooked[i+1];return s}assign(e,t,r,n){}accept(e){return e.visitTemplate(this)}toString(){return b.unparse(this)}}U.$empty=new U([""]);class j{constructor(t,r,n,s=e.emptyArray){this.cooked=t,this.func=n,this.expressions=s,t.raw=r}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){const s=this.expressions.map((s=>s.evaluate(e,t,r,n))),i=this.func.evaluate(e,t,r,n);if("function"!=typeof i)throw new Error("Left-hand side of tagged template expression is not a function.");return i(this.cooked,...s)}assign(e,t,r,n){}accept(e){return e.visitTaggedTemplate(this)}toString(){return b.unparse(this)}}class V{constructor(e){this.elements=e}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){}assign(e,t,r,n){}accept(e){return e.visitArrayBindingPattern(this)}toString(){return b.unparse(this)}}class F{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){}assign(e,t,r,n){}accept(e){return e.visitObjectBindingPattern(this)}toString(){return b.unparse(this)}}class _{constructor(e){this.name=e}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.name}accept(e){return e.visitBindingIdentifier(this)}toString(){return b.unparse(this)}}const D=Object.prototype.toString;class K{constructor(e,t){this.declaration=e,this.iterable=t}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){return this.iterable.evaluate(e,t,r,n)}assign(e,t,r,n){}count(e,t){switch(D.call(t)){case"[object Array]":return t.length;case"[object Map]":case"[object Set]":return t.size;case"[object Number]":return t;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${D.call(t)}`)}}iterate(e,t,r){switch(D.call(t)){case"[object Array]":return R(t,r);case"[object Map]":return function(e,t){const r=Array(e.size);let n=-1;for(const t of e.entries())r[++n]=t;R(r,t)}(t,r);case"[object Set]":return function(e,t){const r=Array(e.size);let n=-1;for(const t of e.keys())r[++n]=t;R(r,t)}(t,r);case"[object Number]":return function(e,t){const r=Array(e);for(let t=0;t<e;++t)r[t]=t;R(r,t)}(t,r);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${D.call(t)}`)}}bind(e,t,r){this.iterable.hasBind&&this.iterable.bind(e,t,r)}unbind(e,t,r){this.iterable.hasUnbind&&this.iterable.unbind(e,t,r)}accept(e){return e.visitForOfStatement(this)}toString(){return b.unparse(this)}}class q{constructor(t,r=e.emptyArray){this.parts=t,this.expressions=r,this.isMulti=r.length>1,this.firstExpression=r[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){if(this.isMulti){let s=this.parts[0];for(let i=0;i<this.expressions.length;++i)s+=String(this.expressions[i].evaluate(e,t,r,n)),s+=this.parts[i+1];return s}return`${this.parts[0]}${this.firstExpression.evaluate(e,t,r,n)}${this.parts[1]}`}assign(e,t,r,n){}accept(e){return e.visitInterpolation(this)}toString(){return b.unparse(this)}}function N(e,t,r){const n=null==t?null:t[r];if("function"==typeof n)return n;if(!(8&e)&&null==n)return null;throw new Error(`Expected '${r}' to be a function`)}function R(e,t){for(let r=0,n=e.length;r<n;++r)t(e,r,e[r])}const z=Reflect.defineProperty;function H(e,t,r){z(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}function Q(e,t,r,n=!1){!n&&Object.prototype.hasOwnProperty.call(e,t)||H(e,t,r)}var W,G,Z,J,X,Y;function ee(e=0){const t=Array(e);let r=0;for(;r<e;)t[r]=r++;return t.deletedItems=[],t.isIndexMap=!0,t}function te(e){return null==e?re:re(e)}function re(e){const t=e.prototype;z(t,"subs",{get:se}),Q(t,"subscribe",ie),Q(t,"unsubscribe",oe)}exports.BindingMode=void 0,(W=exports.BindingMode||(exports.BindingMode={}))[W.oneTime=1]="oneTime",W[W.toView=2]="toView",W[W.fromView=4]="fromView",W[W.twoWay=6]="twoWay",W[W.default=8]="default",exports.LifecycleFlags=void 0,(G=exports.LifecycleFlags||(exports.LifecycleFlags={}))[G.none=0]="none",G[G.persistentBindingFlags=961]="persistentBindingFlags",G[G.allowParentScopeTraversal=64]="allowParentScopeTraversal",G[G.observeLeafPropertiesOnly=128]="observeLeafPropertiesOnly",G[G.targetObserverFlags=769]="targetObserverFlags",G[G.noFlush=256]="noFlush",G[G.persistentTargetObserverQueue=512]="persistentTargetObserverQueue",G[G.bindingStrategy=1]="bindingStrategy",G[G.isStrictBindingStrategy=1]="isStrictBindingStrategy",G[G.fromBind=2]="fromBind",G[G.fromUnbind=4]="fromUnbind",G[G.mustEvaluate=8]="mustEvaluate",G[G.isTraversingParentScope=16]="isTraversingParentScope",G[G.dispose=32]="dispose",function(e){e[e.None=0]="None",e[e.Subscriber0=1]="Subscriber0",e[e.Subscriber1=2]="Subscriber1",e[e.Subscriber2=4]="Subscriber2",e[e.SubscribersRest=8]="SubscribersRest",e[e.Any=15]="Any"}(Z||(Z={})),exports.DelegationStrategy=void 0,(J=exports.DelegationStrategy||(exports.DelegationStrategy={}))[J.none=0]="none",J[J.capturing=1]="capturing",J[J.bubbling=2]="bubbling",exports.CollectionKind=void 0,(X=exports.CollectionKind||(exports.CollectionKind={}))[X.indexed=8]="indexed",X[X.keyed=4]="keyed",X[X.array=9]="array",X[X.map=6]="map",X[X.set=7]="set",exports.AccessorType=void 0,(Y=exports.AccessorType||(exports.AccessorType={}))[Y.None=0]="None",Y[Y.Observer=1]="Observer",Y[Y.Node=2]="Node",Y[Y.Layout=4]="Layout",Y[Y.Primtive=8]="Primtive",Y[Y.Array=18]="Array",Y[Y.Set=34]="Set",Y[Y.Map=66]="Map";class ne{constructor(){this._sf=0,this.count=0}add(e){if(this.has(e))return!1;const t=this._sf;return 0==(1&t)?(this._s0=e,this._sf|=1):0==(2&t)?(this._s1=e,this._sf|=2):0==(4&t)?(this._s2=e,this._sf|=4):0==(8&t)?(this._sr=[e],this._sf|=8):this._sr.push(e),++this.count,!0}has(e){const t=this._sf;if((1&t)>0&&this._s0===e)return!0;if((2&t)>0&&this._s1===e)return!0;if((4&t)>0&&this._s2===e)return!0;if((8&t)>0){const t=this._sr,r=t.length;let n=0;for(;n<r;++n)if(t[n]===e)return!0}return!1}any(){return 0!==this._sf}remove(e){const t=this._sf;if((1&t)>0&&this._s0===e)return this._s0=void 0,this._sf=1^(1|this._sf),--this.count,!0;if((2&t)>0&&this._s1===e)return this._s1=void 0,this._sf=2^(2|this._sf),--this.count,!0;if((4&t)>0&&this._s2===e)return this._s2=void 0,this._sf=4^(4|this._sf),--this.count,!0;if((8&t)>0){const t=this._sr,r=t.length;let n=0;for(;n<r;++n)if(t[n]===e)return t.splice(n,1),1===r&&(this._sf=8^(8|this._sf)),--this.count,!0}return!1}notify(e,t,r){const n=this._s0,s=this._s1,i=this._s2;let o=this._sr;if(void 0!==o&&(o=o.slice()),void 0!==n&&n.handleChange(e,t,r),void 0!==s&&s.handleChange(e,t,r),void 0!==i&&i.handleChange(e,t,r),void 0!==o){const n=o.length;let s,i=0;for(;i<n;++i)s=o[i],void 0!==s&&s.handleChange(e,t,r)}}notifyCollection(e,t){const r=this._s0,n=this._s1,s=this._s2;let i=this._sr;if(void 0!==i&&(i=i.slice()),void 0!==r&&r.handleCollectionChange(e,t),void 0!==n&&n.handleCollectionChange(e,t),void 0!==s&&s.handleCollectionChange(e,t),void 0!==i){const r=i.length;let n,s=0;for(;s<r;++s)n=i[s],void 0!==n&&n.handleCollectionChange(e,t)}}}function se(){const e=new ne;return H(this,"subs",e),e}function ie(e){return this.subs.add(e)}function oe(e){return this.subs.remove(e)}function ae(e){return null==e?ue:ue(e)}function ue(e){z(e.prototype,"queue",{get:ce})}class le{constructor(){this.flushing=!1,this.items=new Set}get count(){return this.items.size}add(e){if(this.items.add(e),this.flushing)return;this.flushing=!0;const t=this.items;let r;try{for(r of t)t.delete(r),r.flush()}finally{this.flushing=!1}}clear(){this.items.clear(),this.flushing=!1}}function ce(){return le.instance}le.instance=new le;class he{constructor(e){this.owner=e,this.f=0,this.type=18,this.value=this.oldvalue=(this.obj=e.collection).length}getValue(){return this.obj.length}setValue(t,r){const n=this.value;t!==n&&e.isArrayIndex(t)&&(0==(256&r)&&(this.obj.length=t),this.value=t,this.oldvalue=n,this.f=r,this.queue.add(this))}handleCollectionChange(e,t){const r=this.value;(this.value=this.obj.length)!==r&&(this.oldvalue=r,this.f=t,this.queue.add(this))}flush(){ve=this.oldvalue,this.oldvalue=this.value,this.subs.notify(this.value,ve,this.f)}}class de{constructor(e){this.owner=e,this.f=0,this.value=this.oldvalue=(this.obj=e.collection).size,this.type=this.obj instanceof Map?66:34}getValue(){return this.obj.size}setValue(){throw new Error('Map/Set "size" is a readonly property')}handleCollectionChange(e,t){const r=this.value;(this.value=this.obj.size)!==r&&(this.oldvalue=r,this.f=t,this.queue.add(this))}flush(){ve=this.oldvalue,this.oldvalue=this.value,this.subs.notify(this.value,ve,this.f)}}function pe(e){const t=e.prototype;Q(t,"subscribe",fe,!0),Q(t,"unsubscribe",ge,!0),ae(e),te(e)}function fe(e){this.subs.add(e)&&1===this.subs.count&&this.owner.subscribe(this)}function ge(e){this.subs.remove(e)&&0===this.subs.count&&this.owner.subscribe(this)}let ve;pe(he),pe(de);const be=new WeakMap;function ye(e,t){return e===t?0:(e=null===e?"null":e.toString())<(t=null===t?"null":t.toString())?-1:1}function xe(e,t){return void 0===e?void 0===t?0:1:void 0===t?-1:0}function me(e,t,r,n,s){let i,o,a,u,l,c,h;for(c=r+1;c<n;c++){for(i=e[c],o=t[c],h=c-1;h>=r&&(a=e[h],u=t[h],l=s(a,i),l>0);h--)e[h+1]=a,t[h+1]=u;e[h+1]=i,t[h+1]=o}}function we(e,t,r,n,s){let i,o,a,u,l,c,h,d,p,f,g,v,b,y,x,m,w,C,k,O=0,T=0;for(;;){if(n-r<=10)return void me(e,t,r,n,s);O=r+(n-r>>1),i=e[r],u=t[r],o=e[n-1],l=t[n-1],a=e[O],c=t[O],h=s(i,o),h>0&&(f=i,g=u,i=o,u=l,o=f,l=g),d=s(i,a),d>=0?(f=i,g=u,i=a,u=c,a=o,c=l,o=f,l=g):(p=s(o,a),p>0&&(f=o,g=l,o=a,l=c,a=f,c=g)),e[r]=i,t[r]=u,e[n-1]=a,t[n-1]=c,v=o,b=l,y=r+1,x=n-1,e[O]=e[y],t[O]=t[y],e[y]=v,t[y]=b;e:for(T=y+1;T<x;T++)if(m=e[T],w=t[T],C=s(m,v),C<0)e[T]=e[y],t[T]=t[y],e[y]=m,t[y]=w,y++;else if(C>0){do{if(x--,x==T)break e;k=e[x],C=s(k,v)}while(C>0);e[T]=e[x],t[T]=t[x],e[x]=m,t[x]=w,C<0&&(m=e[T],w=t[T],e[T]=e[y],t[T]=t[y],e[y]=m,t[y]=w,y++)}n-x<y-r?(we(e,t,x,n,s),n=y):(we(e,t,r,y,s),r=x)}}const Ce=Array.prototype,ke=Ce.push,Oe=Ce.unshift,Te=Ce.pop,Se=Ce.shift,Le=Ce.splice,Ae=Ce.reverse,Ee=Ce.sort,$e={push:ke,unshift:Oe,pop:Te,shift:Se,splice:Le,reverse:Ae,sort:Ee},Be=["push","unshift","pop","shift","splice","reverse","sort"],Ie={push:function(...e){const t=be.get(this);if(void 0===t)return ke.apply(this,e);const r=this.length,n=e.length;if(0===n)return r;this.length=t.indexMap.length=r+n;let s=r;for(;s<this.length;)this[s]=e[s-r],t.indexMap[s]=-2,s++;return t.notify(),this.length},unshift:function(...e){const t=be.get(this);if(void 0===t)return Oe.apply(this,e);const r=e.length,n=new Array(r);let s=0;for(;s<r;)n[s++]=-2;Oe.apply(t.indexMap,n);const i=Oe.apply(this,e);return t.notify(),i},pop:function(){const e=be.get(this);if(void 0===e)return Te.call(this);const t=e.indexMap,r=Te.call(this),n=t.length-1;return t[n]>-1&&t.deletedItems.push(t[n]),Te.call(t),e.notify(),r},shift:function(){const e=be.get(this);if(void 0===e)return Se.call(this);const t=e.indexMap,r=Se.call(this);return t[0]>-1&&t.deletedItems.push(t[0]),Se.call(t),e.notify(),r},splice:function(...e){const t=e[0],r=e[1],n=be.get(this);if(void 0===n)return Le.apply(this,e);const s=this.length,i=0|t,o=i<0?Math.max(s+i,0):Math.min(i,s),a=n.indexMap,u=e.length,l=0===u?0:1===u?s-o:r;if(l>0){let e=o;const t=e+l;for(;e<t;)a[e]>-1&&a.deletedItems.push(a[e]),e++}if(u>2){const e=u-2,n=new Array(e);let s=0;for(;s<e;)n[s++]=-2;Le.call(a,t,r,...n)}else Le.apply(a,e);const c=Le.apply(this,e);return n.notify(),c},reverse:function(){const e=be.get(this);if(void 0===e)return Ae.call(this),this;const t=this.length,r=t/2|0;let n=0;for(;n!==r;){const r=t-n-1,s=this[n],i=e.indexMap[n],o=e.indexMap[r];this[n]=this[r],e.indexMap[n]=o,this[r]=s,e.indexMap[r]=i,n++}return e.notify(),this},sort:function(e){const t=be.get(this);if(void 0===t)return Ee.call(this,e),this;const r=this.length;if(r<2)return this;we(this,t.indexMap,0,r,xe);let n=0;for(;n<r&&void 0!==this[n];)n++;return void 0!==e&&"function"==typeof e||(e=ye),we(this,t.indexMap,0,n,e),t.notify(),this}};for(const e of Be)z(Ie[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Pe=!1;function Me(){for(const e of Be)!0!==Ce[e].observing&&H(Ce,e,Ie[e])}class Ue{constructor(e){this.type=18,Pe||(Pe=!0,Me()),this.indexObservers={},this.collection=e,this.indexMap=ee(e.length),this.lenObs=void 0,be.set(e,this)}notify(){const e=this.indexMap;this.indexMap=ee(this.collection.length),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new he(this)}getIndexObserver(e){var t,r;return null!==(t=(r=this.indexObservers)[e])&&void 0!==t?t:r[e]=new je(this,e)}}class je{constructor(e,t){this.owner=e,this.index=t,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(e,t){if(e===this.getValue())return;const r=this.owner,n=this.index,s=r.indexMap;s[n]>-1&&s.deletedItems.push(s[n]),s[n]=-2,r.collection[n]=e,r.notify()}handleCollectionChange(e,t){const r=this.index;if(e[r]===r)return;const n=this.value,s=this.value=this.getValue();n!==s&&this.subs.notify(s,n,t)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function Ve(e){let t=be.get(e);return void 0===t&&(t=new Ue(e)),t}te(Ue),te(je);const Fe=new WeakMap,_e=Set.prototype,De=_e.add,Ke=_e.clear,qe=_e.delete,Ne={add:De,clear:Ke,delete:qe},Re=["add","clear","delete"],ze={add:function(e){const t=Fe.get(this);if(void 0===t)return De.call(this,e),this;const r=this.size;De.call(this,e);return this.size===r||(t.indexMap[r]=-2,t.notify()),this},clear:function(){const e=Fe.get(this);if(void 0===e)return Ke.call(this);if(this.size>0){const t=e.indexMap;let r=0;for(const e of this.keys())t[r]>-1&&t.deletedItems.push(t[r]),r++;Ke.call(this),t.length=0,e.notify()}},delete:function(e){const t=Fe.get(this);if(void 0===t)return qe.call(this,e);if(0===this.size)return!1;let r=0;const n=t.indexMap;for(const s of this.keys()){if(s===e){n[r]>-1&&n.deletedItems.push(n[r]),n.splice(r,1);const s=qe.call(this,e);return!0===s&&t.notify(),s}r++}return!1}},He={writable:!0,enumerable:!1,configurable:!0};for(const e of Re)z(ze[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Qe=!1;function We(){for(const e of Re)!0!==_e[e].observing&&z(_e,e,{...He,value:ze[e]})}class Ge{constructor(e){this.type=34,Qe||(Qe=!0,We()),this.collection=e,this.indexMap=ee(e.size),this.lenObs=void 0,Fe.set(e,this)}notify(){const e=this.indexMap;this.indexMap=ee(this.collection.size),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new de(this)}}function Ze(e){let t=Fe.get(e);return void 0===t&&(t=new Ge(e)),t}te(Ge);const Je=new WeakMap,Xe=Map.prototype,Ye=Xe.set,et=Xe.clear,tt=Xe.delete,rt={set:Ye,clear:et,delete:tt},nt=["set","clear","delete"],st={set:function(e,t){const r=Je.get(this);if(void 0===r)return Ye.call(this,e,t),this;const n=this.get(e),s=this.size;Ye.call(this,e,t);if(this.size===s){let t=0;for(const s of this.entries()){if(s[0]===e)return s[1]!==n&&(r.indexMap.deletedItems.push(r.indexMap[t]),r.indexMap[t]=-2,r.notify()),this;t++}return this}return r.indexMap[s]=-2,r.notify(),this},clear:function(){const e=Je.get(this);if(void 0===e)return et.call(this);if(this.size>0){const t=e.indexMap;let r=0;for(const e of this.keys())t[r]>-1&&t.deletedItems.push(t[r]),r++;et.call(this),t.length=0,e.notify()}},delete:function(e){const t=Je.get(this);if(void 0===t)return tt.call(this,e);if(0===this.size)return!1;let r=0;const n=t.indexMap;for(const s of this.keys()){if(s===e){n[r]>-1&&n.deletedItems.push(n[r]),n.splice(r,1);const s=tt.call(this,e);return!0===s&&t.notify(),s}++r}return!1}},it={writable:!0,enumerable:!1,configurable:!0};for(const e of nt)z(st[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let ot=!1;function at(){for(const e of nt)!0!==Xe[e].observing&&z(Xe,e,{...it,value:st[e]})}class ut{constructor(e){this.type=66,ot||(ot=!0,at()),this.collection=e,this.indexMap=ee(e.size),this.lenObs=void 0,Je.set(e,this)}notify(){const e=this.indexMap;this.indexMap=ee(this.collection.size),this.subs.notifyCollection(e,0)}getLengthObserver(){var e;return null!==(e=this.lenObs)&&void 0!==e?e:this.lenObs=new de(this)}}function lt(e){let t=Je.get(e);return void 0===t&&(t=new ut(e)),t}function ct(e,t){const r=this.observerLocator.getObserver(e,t);this.obs.add(r)}function ht(){const e=new vt(this);return H(this,"obs",e),e}function dt(e){let t;if(e instanceof Array)t=Ve(e);else if(e instanceof Set)t=Ze(e);else{if(!(e instanceof Map))throw new Error("Unrecognised collection type.");t=lt(e)}this.obs.add(t)}function pt(e){this.obs.add(e)}function ft(){throw new Error('method "handleChange" not implemented')}function gt(){throw new Error('method "handleCollectionChange" not implemented')}te(ut);class vt{constructor(e){this.binding=e,this.version=0,this.count=0,this.slots=0}handleChange(e,t,r){return this.binding.interceptor.handleChange(e,t,r)}handleCollectionChange(e,t){this.binding.interceptor.handleCollectionChange(e,t)}add(e){const t=this.slots;let r=t;for(;r--&&this[`_o${r}`]!==e;);if(-1===r){for(r=0;void 0!==this[`_o${r}`];)r++;this[`_o${r}`]=e,e.subscribe(this),r===t&&(this.slots=r+1),++this.count}this[`_v${r}`]=this.version}clear(e){const t=this.slots;let r,n,s=0;if(!0===e){for(;s<t;++s)r=`_o${s}`,n=this[r],void 0!==n&&(this[r]=void 0,n.unsubscribe(this));this.count=this.slots=0}else for(;s<t;++s)this[`_v${s}`]!==this.version&&(r=`_o${s}`,n=this[r],void 0!==n&&(this[r]=void 0,n.unsubscribe(this),this.count--))}}function bt(e){const t=e.prototype;return Q(t,"observeProperty",ct,!0),Q(t,"observeCollection",dt,!0),Q(t,"subscribeTo",pt,!0),z(t,"obs",{get:ht}),Q(t,"handleChange",ft),Q(t,"handleCollectionChange",gt),e}function yt(e){return null==e?bt:bt(e)}class xt{constructor(e,t,r,n){this.key=e,this.binding=t,this.observerLocator=r,this.locator=n,this.interceptor=this}$bind(){throw new Error("Method not implemented.")}$unbind(){throw new Error("Method not implemented.")}handleChange(e,t,r){this.binding[this.key](e,t,r)}}bt(xt);const mt=e.DI.createInterface("IExpressionParser",(e=>e.singleton(wt)));class wt{constructor(){this.expressionLookup=Object.create(null),this.forOfLookup=Object.create(null),this.interpolationLookup=Object.create(null)}parse(e,t){switch(t){case 2048:{let r=this.interpolationLookup[e];return void 0===r&&(r=this.interpolationLookup[e]=this.$parse(e,t)),r}case 539:{let r=this.forOfLookup[e];return void 0===r&&(r=this.forOfLookup[e]=this.$parse(e,t)),r}default:{if(0===e.length&&55&t)return I.$empty;let r=this.expressionLookup[e];return void 0===r&&(r=this.expressionLookup[e]=this.$parse(e,t)),r}}}$parse(e,t){return Ut.input=e,Ut.length=e.length,Ut.index=0,Ut.currentChar=e.charCodeAt(0),jt(Ut,0,61,void 0===t?53:t)}}var Ct,kt,Ot,Tt;function St(e){switch(e){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return e}}exports.Char=void 0,(Ct=exports.Char||(exports.Char={}))[Ct.Null=0]="Null",Ct[Ct.Backspace=8]="Backspace",Ct[Ct.Tab=9]="Tab",Ct[Ct.LineFeed=10]="LineFeed",Ct[Ct.VerticalTab=11]="VerticalTab",Ct[Ct.FormFeed=12]="FormFeed",Ct[Ct.CarriageReturn=13]="CarriageReturn",Ct[Ct.Space=32]="Space",Ct[Ct.Exclamation=33]="Exclamation",Ct[Ct.DoubleQuote=34]="DoubleQuote",Ct[Ct.Dollar=36]="Dollar",Ct[Ct.Percent=37]="Percent",Ct[Ct.Ampersand=38]="Ampersand",Ct[Ct.SingleQuote=39]="SingleQuote",Ct[Ct.OpenParen=40]="OpenParen",Ct[Ct.CloseParen=41]="CloseParen",Ct[Ct.Asterisk=42]="Asterisk",Ct[Ct.Plus=43]="Plus",Ct[Ct.Comma=44]="Comma",Ct[Ct.Minus=45]="Minus",Ct[Ct.Dot=46]="Dot",Ct[Ct.Slash=47]="Slash",Ct[Ct.Semicolon=59]="Semicolon",Ct[Ct.Backtick=96]="Backtick",Ct[Ct.OpenBracket=91]="OpenBracket",Ct[Ct.Backslash=92]="Backslash",Ct[Ct.CloseBracket=93]="CloseBracket",Ct[Ct.Caret=94]="Caret",Ct[Ct.Underscore=95]="Underscore",Ct[Ct.OpenBrace=123]="OpenBrace",Ct[Ct.Bar=124]="Bar",Ct[Ct.CloseBrace=125]="CloseBrace",Ct[Ct.Colon=58]="Colon",Ct[Ct.LessThan=60]="LessThan",Ct[Ct.Equals=61]="Equals",Ct[Ct.GreaterThan=62]="GreaterThan",Ct[Ct.Question=63]="Question",Ct[Ct.Zero=48]="Zero",Ct[Ct.One=49]="One",Ct[Ct.Two=50]="Two",Ct[Ct.Three=51]="Three",Ct[Ct.Four=52]="Four",Ct[Ct.Five=53]="Five",Ct[Ct.Six=54]="Six",Ct[Ct.Seven=55]="Seven",Ct[Ct.Eight=56]="Eight",Ct[Ct.Nine=57]="Nine",Ct[Ct.UpperA=65]="UpperA",Ct[Ct.UpperB=66]="UpperB",Ct[Ct.UpperC=67]="UpperC",Ct[Ct.UpperD=68]="UpperD",Ct[Ct.UpperE=69]="UpperE",Ct[Ct.UpperF=70]="UpperF",Ct[Ct.UpperG=71]="UpperG",Ct[Ct.UpperH=72]="UpperH",Ct[Ct.UpperI=73]="UpperI",Ct[Ct.UpperJ=74]="UpperJ",Ct[Ct.UpperK=75]="UpperK",Ct[Ct.UpperL=76]="UpperL",Ct[Ct.UpperM=77]="UpperM",Ct[Ct.UpperN=78]="UpperN",Ct[Ct.UpperO=79]="UpperO",Ct[Ct.UpperP=80]="UpperP",Ct[Ct.UpperQ=81]="UpperQ",Ct[Ct.UpperR=82]="UpperR",Ct[Ct.UpperS=83]="UpperS",Ct[Ct.UpperT=84]="UpperT",Ct[Ct.UpperU=85]="UpperU",Ct[Ct.UpperV=86]="UpperV",Ct[Ct.UpperW=87]="UpperW",Ct[Ct.UpperX=88]="UpperX",Ct[Ct.UpperY=89]="UpperY",Ct[Ct.UpperZ=90]="UpperZ",Ct[Ct.LowerA=97]="LowerA",Ct[Ct.LowerB=98]="LowerB",Ct[Ct.LowerC=99]="LowerC",Ct[Ct.LowerD=100]="LowerD",Ct[Ct.LowerE=101]="LowerE",Ct[Ct.LowerF=102]="LowerF",Ct[Ct.LowerG=103]="LowerG",Ct[Ct.LowerH=104]="LowerH",Ct[Ct.LowerI=105]="LowerI",Ct[Ct.LowerJ=106]="LowerJ",Ct[Ct.LowerK=107]="LowerK",Ct[Ct.LowerL=108]="LowerL",Ct[Ct.LowerM=109]="LowerM",Ct[Ct.LowerN=110]="LowerN",Ct[Ct.LowerO=111]="LowerO",Ct[Ct.LowerP=112]="LowerP",Ct[Ct.LowerQ=113]="LowerQ",Ct[Ct.LowerR=114]="LowerR",Ct[Ct.LowerS=115]="LowerS",Ct[Ct.LowerT=116]="LowerT",Ct[Ct.LowerU=117]="LowerU",Ct[Ct.LowerV=118]="LowerV",Ct[Ct.LowerW=119]="LowerW",Ct[Ct.LowerX=120]="LowerX",Ct[Ct.LowerY=121]="LowerY",Ct[Ct.LowerZ=122]="LowerZ",exports.Access=void 0,(kt=exports.Access||(exports.Access={}))[kt.Reset=0]="Reset",kt[kt.Ancestor=511]="Ancestor",kt[kt.This=512]="This",kt[kt.Scope=1024]="Scope",kt[kt.Member=2048]="Member",kt[kt.Keyed=4096]="Keyed",exports.Precedence=void 0,(Ot=exports.Precedence||(exports.Precedence={}))[Ot.Variadic=61]="Variadic",Ot[Ot.Assign=62]="Assign",Ot[Ot.Conditional=63]="Conditional",Ot[Ot.LogicalOR=64]="LogicalOR",Ot[Ot.LogicalAND=128]="LogicalAND",Ot[Ot.Equality=192]="Equality",Ot[Ot.Relational=256]="Relational",Ot[Ot.Additive=320]="Additive",Ot[Ot.Multiplicative=384]="Multiplicative",Ot[Ot.Binary=448]="Binary",Ot[Ot.LeftHandSide=449]="LeftHandSide",Ot[Ot.Primary=450]="Primary",Ot[Ot.Unary=451]="Unary",function(e){e[e.EOF=1572864]="EOF",e[e.ExpressionTerminal=1048576]="ExpressionTerminal",e[e.AccessScopeTerminal=524288]="AccessScopeTerminal",e[e.ClosingToken=262144]="ClosingToken",e[e.OpeningToken=131072]="OpeningToken",e[e.BinaryOp=65536]="BinaryOp",e[e.UnaryOp=32768]="UnaryOp",e[e.LeftHandSide=16384]="LeftHandSide",e[e.StringOrNumericLiteral=12288]="StringOrNumericLiteral",e[e.NumericLiteral=8192]="NumericLiteral",e[e.StringLiteral=4096]="StringLiteral",e[e.IdentifierName=3072]="IdentifierName",e[e.Keyword=2048]="Keyword",e[e.Identifier=1024]="Identifier",e[e.Contextual=512]="Contextual",e[e.Precedence=448]="Precedence",e[e.Type=63]="Type",e[e.FalseKeyword=2048]="FalseKeyword",e[e.TrueKeyword=2049]="TrueKeyword",e[e.NullKeyword=2050]="NullKeyword",e[e.UndefinedKeyword=2051]="UndefinedKeyword",e[e.ThisScope=3076]="ThisScope",e[e.ParentScope=3078]="ParentScope",e[e.OpenParen=671751]="OpenParen",e[e.OpenBrace=131080]="OpenBrace",e[e.Dot=16393]="Dot",e[e.CloseBrace=1835018]="CloseBrace",e[e.CloseParen=1835019]="CloseParen",e[e.Comma=1572876]="Comma",e[e.OpenBracket=671757]="OpenBracket",e[e.CloseBracket=1835022]="CloseBracket",e[e.Colon=1572879]="Colon",e[e.Question=1572880]="Question",e[e.Ampersand=1572883]="Ampersand",e[e.Bar=1572884]="Bar",e[e.BarBar=1638549]="BarBar",e[e.AmpersandAmpersand=1638614]="AmpersandAmpersand",e[e.EqualsEquals=1638679]="EqualsEquals",e[e.ExclamationEquals=1638680]="ExclamationEquals",e[e.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",e[e.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",e[e.LessThan=1638747]="LessThan",e[e.GreaterThan=1638748]="GreaterThan",e[e.LessThanEquals=1638749]="LessThanEquals",e[e.GreaterThanEquals=1638750]="GreaterThanEquals",e[e.InKeyword=1640799]="InKeyword",e[e.InstanceOfKeyword=1640800]="InstanceOfKeyword",e[e.Plus=623009]="Plus",e[e.Minus=623010]="Minus",e[e.TypeofKeyword=34851]="TypeofKeyword",e[e.VoidKeyword=34852]="VoidKeyword",e[e.Asterisk=1638885]="Asterisk",e[e.Percent=1638886]="Percent",e[e.Slash=1638887]="Slash",e[e.Equals=1048616]="Equals",e[e.Exclamation=32809]="Exclamation",e[e.TemplateTail=540714]="TemplateTail",e[e.TemplateContinuation=540715]="TemplateContinuation",e[e.OfKeyword=1051180]="OfKeyword"}(Tt||(Tt={}));const Lt=I.$false,At=I.$true,Et=I.$null,$t=I.$undefined,Bt=k.$this,It=k.$parent;var Pt;exports.BindingType=void 0,(Pt=exports.BindingType||(exports.BindingType={}))[Pt.None=0]="None",Pt[Pt.IgnoreAttr=4096]="IgnoreAttr",Pt[Pt.Interpolation=2048]="Interpolation",Pt[Pt.IsRef=5376]="IsRef",Pt[Pt.IsIterator=512]="IsIterator",Pt[Pt.IsCustom=256]="IsCustom",Pt[Pt.IsFunction=128]="IsFunction",Pt[Pt.IsEvent=64]="IsEvent",Pt[Pt.IsProperty=32]="IsProperty",Pt[Pt.IsCommand=16]="IsCommand",Pt[Pt.IsPropertyCommand=48]="IsPropertyCommand",Pt[Pt.IsEventCommand=80]="IsEventCommand",Pt[Pt.DelegationStrategyDelta=6]="DelegationStrategyDelta",Pt[Pt.Command=15]="Command",Pt[Pt.OneTimeCommand=49]="OneTimeCommand",Pt[Pt.ToViewCommand=50]="ToViewCommand",Pt[Pt.FromViewCommand=51]="FromViewCommand",Pt[Pt.TwoWayCommand=52]="TwoWayCommand",Pt[Pt.BindCommand=53]="BindCommand",Pt[Pt.TriggerCommand=4182]="TriggerCommand",Pt[Pt.CaptureCommand=4183]="CaptureCommand",Pt[Pt.DelegateCommand=4184]="DelegateCommand",Pt[Pt.CallCommand=153]="CallCommand",Pt[Pt.OptionsCommand=26]="OptionsCommand",Pt[Pt.ForCommand=539]="ForCommand",Pt[Pt.CustomCommand=284]="CustomCommand";class Mt{constructor(e){this.input=e,this.index=0,this.startIndex=0,this.lastIndex=0,this.currentToken=1572864,this.tokenValue="",this.assignable=!0,this.length=e.length,this.currentChar=e.charCodeAt(0)}get tokenRaw(){return this.input.slice(this.startIndex,this.index)}}const Ut=new Mt("");function jt(e,t,r,n){if(284===n)return new y(e.input);if(0===e.index){if(2048&n)return function(e){const t=[],r=[],n=e.length;let s="";for(;e.index<n;){switch(e.currentChar){case 36:if(123===e.input.charCodeAt(e.index+1)){t.push(s),s="",e.index+=2,e.currentChar=e.input.charCodeAt(e.index),Ft(e);const n=jt(e,0,61,2048);r.push(n);continue}s+="$";break;case 92:s+=String.fromCharCode(St(_t(e)));break;default:s+=String.fromCharCode(e.currentChar)}_t(e)}if(r.length)return t.push(s),new q(t,r);return null}(e);if(Ft(e),1048576&e.currentToken)throw new Error(`Invalid start of expression: '${e.input}'`)}let s;if(e.assignable=448>r,32768&e.currentToken){const r=zt[63&e.currentToken];Ft(e),s=new B(r,jt(e,t,449,n)),e.assignable=!1}else{e:switch(e.currentToken){case 3078:e.assignable=!1;do{if(Ft(e),t++,!Nt(e,16393)){if(524288&e.currentToken){const e=511&t;s=0===e?Bt:1===e?It:new k(e),t=512;break e}throw new Error(`Invalid member expression: '${e.input}'`)}if(16393===e.currentToken)throw new Error(`Double dot and spread operators are not supported: '${e.input}'`);if(1572864===e.currentToken)throw new Error(`Expected identifier: '${e.input}'`)}while(3078===e.currentToken);case 1024:512&n?s=new _(e.tokenValue):(s=new O(e.tokenValue,511&t),t=1024),e.assignable=!0,Ft(e);break;case 3076:e.assignable=!1,Ft(e),s=Bt,t=512;break;case 671751:Ft(e),s=jt(e,0,62,n),Rt(e,1835019),t=0;break;case 671757:s=function(e,t,r){Ft(e);const n=new Array;for(;1835022!==e.currentToken;)if(Nt(e,1572876)){if(n.push($t),1835022===e.currentToken)break}else{if(n.push(jt(e,t,62,-513&r)),!Nt(e,1572876))break;if(1835022===e.currentToken)break}return Rt(e,1835022),512&r?new V(n):(e.assignable=!1,new P(n))}(e,t,n),t=0;break;case 131080:s=function(e,t){const r=new Array,n=new Array;Ft(e);for(;1835018!==e.currentToken;){if(r.push(e.tokenValue),12288&e.currentToken)Ft(e),Rt(e,1572879),n.push(jt(e,0,62,-513&t));else{if(!(3072&e.currentToken))throw new Error(`Invalid or unsupported property definition in object literal: '${e.input}'`);{const{currentChar:r,currentToken:s,index:i}=e;Ft(e),Nt(e,1572879)?n.push(jt(e,0,62,-513&t)):(e.currentChar=r,e.currentToken=s,e.index=i,n.push(jt(e,0,450,-513&t)))}}1835018!==e.currentToken&&Rt(e,1572876)}return Rt(e,1835018),512&t?new F(r,n):(e.assignable=!1,new M(r,n))}(e,n),t=0;break;case 540714:s=new U([e.tokenValue]),e.assignable=!1,Ft(e),t=0;break;case 540715:s=Vt(e,t,n,s,!1),t=0;break;case 4096:case 8192:s=new I(e.tokenValue),e.assignable=!1,Ft(e),t=0;break;case 2050:case 2051:case 2049:case 2048:s=zt[63&e.currentToken],e.assignable=!1,Ft(e),t=0;break;default:throw e.index>=e.length?new Error(`Unexpected end of expression: '${e.input}'`):new Error(`Unconsumed token: '${e.input}'`)}if(512&n)return function(e,t){if(0==(65536&t.$kind))throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${e.input}'`);if(1051180!==e.currentToken)throw new Error(`Invalid BindingIdentifier at left hand side of "of": '${e.input}'`);Ft(e);const r=t,n=jt(e,0,61,0);return new K(r,n)}(e,s);if(449<r)return s;let i=e.tokenValue;for(;(16384&e.currentToken)>0;){const r=[];let o;switch(e.currentToken){case 16393:if(e.assignable=!0,Ft(e),0==(3072&e.currentToken))throw new Error(`Expected identifier: '${e.input}'`);if(i=e.tokenValue,Ft(e),t=(1536&t)<<1|2048&t|(4096&t)>>1,671751===e.currentToken){0===t&&(t=2048);continue}s=1024&t?new O(i,s.ancestor):new T(s,i);continue;case 671757:e.assignable=!0,Ft(e),t=4096,s=new S(s,jt(e,0,62,n)),Rt(e,1835022);break;case 671751:for(e.assignable=!1,Ft(e);1835019!==e.currentToken&&(r.push(jt(e,0,62,n)),Nt(e,1572876)););Rt(e,1835019),s=1024&t?new L(i,r,s.ancestor):2048&t?new A(s,i,r):new E(s,r),t=0;break;case 540714:e.assignable=!1,o=[e.tokenValue],s=new j(o,o,s),Ft(e);break;case 540715:s=Vt(e,t,n,s,!0)}}}if(448<r)return s;for(;(65536&e.currentToken)>0;){const i=e.currentToken;if((448&i)<=r)break;Ft(e),s=new $(zt[63&i],s,jt(e,t,448&i,n)),e.assignable=!1}if(63<r)return s;if(Nt(e,1572880)){const r=jt(e,t,62,n);Rt(e,1572879),s=new C(s,r,jt(e,t,62,n)),e.assignable=!1}if(62<r)return s;if(Nt(e,1048616)){if(!e.assignable)throw new Error(`Left hand side of expression is not assignable: '${e.input}'`);s=new w(s,jt(e,t,62,n))}if(61<r)return s;for(;Nt(e,1572884);){if(1572864===e.currentToken)throw new Error(`Expected identifier to come after ValueConverter operator: '${e.input}'`);const r=e.tokenValue;Ft(e);const i=new Array;for(;Nt(e,1572879);)i.push(jt(e,t,62,n));s=new m(s,r,i)}for(;Nt(e,1572883);){if(1572864===e.currentToken)throw new Error(`Expected identifier to come after BindingBehavior operator: '${e.input}'`);const r=e.tokenValue;Ft(e);const i=new Array;for(;Nt(e,1572879);)i.push(jt(e,t,62,n));s=new x(s,r,i)}if(1572864!==e.currentToken){if(2048&n)return s;if("of"===e.tokenRaw)throw new Error(`Unexpected keyword "of": '${e.input}'`);throw new Error(`Unconsumed token: '${e.input}'`)}return s}function Vt(e,t,r,n,s){const i=[e.tokenValue];Rt(e,540715);const o=[jt(e,t,62,r)];for(;540714!==(e.currentToken=qt(e));)i.push(e.tokenValue),Rt(e,540715),o.push(jt(e,t,62,r));return i.push(e.tokenValue),e.assignable=!1,s?(Ft(e),new j(i,i,n,o)):(Ft(e),new U(i,o))}function Ft(e){for(;e.index<e.length;)if(e.startIndex=e.index,null!=(e.currentToken=tr[e.currentChar](e)))return;e.currentToken=1572864}function _t(e){return e.currentChar=e.input.charCodeAt(++e.index)}function Dt(e,t){let r=e.currentChar;if(!1===t){do{r=_t(e)}while(r<=57&&r>=48);if(46!==r)return e.tokenValue=parseInt(e.tokenRaw,10),8192;if(r=_t(e),e.index>=e.length)return e.tokenValue=parseInt(e.tokenRaw.slice(0,-1),10),8192}if(r<=57&&r>=48)do{r=_t(e)}while(r<=57&&r>=48);else e.currentChar=e.input.charCodeAt(--e.index);return e.tokenValue=parseFloat(e.tokenRaw),8192}function Kt(e){let t=!0,r="";for(;96!==_t(e);)if(36===e.currentChar){if(e.index+1<e.length&&123===e.input.charCodeAt(e.index+1)){e.index++,t=!1;break}r+="$"}else if(92===e.currentChar)r+=String.fromCharCode(St(_t(e)));else{if(e.index>=e.length)throw new Error(`Unterminated template string: '${e.input}'`);r+=String.fromCharCode(e.currentChar)}return _t(e),e.tokenValue=r,t?540714:540715}function qt(e){if(e.index>=e.length)throw new Error(`Unterminated template string: '${e.input}'`);return e.index--,Kt(e)}function Nt(e,t){return e.currentToken===t&&(Ft(e),!0)}function Rt(e,t){if(e.currentToken!==t)throw new Error(`Missing expected token: '${e.input}'`);Ft(e)}const zt=[Lt,At,Et,$t,"$this",null,"$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],Ht=Object.create(null);Ht.true=2049,Ht.null=2050,Ht.false=2048,Ht.undefined=2051,Ht.$this=3076,Ht.$parent=3078,Ht.in=1640799,Ht.instanceof=1640800,Ht.typeof=34851,Ht.void=34852,Ht.of=1051180;const Qt=[36,0,48,58,65,91,95,0,97,123],Wt=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Gt=[48,58],Zt=[0,33,127,161];function Jt(e,t,r,n){const s=r.length;for(let i=0;i<s;i+=2){const s=r[i];let o=r[i+1];if(o=o>0?o:s+1,e&&e.fill(n,s,o),t)for(let e=s;e<o;e++)t.add(e)}}function Xt(e){return t=>(_t(t),e)}const Yt=e=>{throw new Error(`Unexpected character: '${e.input}'`)};Yt.notMapped=!0;Jt(null,new Set,Qt,!0);const er=new Uint8Array(65535);Jt(er,null,Wt,1),Jt(er,null,Gt,1);const tr=new Array(65535);tr.fill(Yt,0,65535),Jt(tr,null,Zt,(e=>(_t(e),null))),Jt(tr,null,Wt,(function(e){for(;er[_t(e)];);const t=Ht[e.tokenValue=e.tokenRaw];return void 0===t?1024:t})),Jt(tr,null,Gt,(e=>Dt(e,!1))),tr[34]=tr[39]=e=>function(e){const t=e.currentChar;_t(e);let r=0;const n=new Array;let s=e.index;for(;e.currentChar!==t;)if(92===e.currentChar)n.push(e.input.slice(s,e.index)),_t(e),r=St(e.currentChar),_t(e),n.push(String.fromCharCode(r)),s=e.index;else{if(e.index>=e.length)throw new Error(`Unterminated quote in string literal: '${e.input}'`);_t(e)}const i=e.input.slice(s,e.index);_t(e),n.push(i);const o=n.join("");return e.tokenValue=o,4096}(e),tr[96]=e=>Kt(e),tr[33]=e=>61!==_t(e)?32809:61!==_t(e)?1638680:(_t(e),1638682),tr[61]=e=>61!==_t(e)?1048616:61!==_t(e)?1638679:(_t(e),1638681),tr[38]=e=>38!==_t(e)?1572883:(_t(e),1638614),tr[124]=e=>124!==_t(e)?1572884:(_t(e),1638549),tr[46]=e=>_t(e)<=57&&e.currentChar>=48?Dt(e,!0):16393,tr[60]=e=>61!==_t(e)?1638747:(_t(e),1638749),tr[62]=e=>61!==_t(e)?1638748:(_t(e),1638750),tr[37]=Xt(1638886),tr[40]=Xt(671751),tr[41]=Xt(1835019),tr[42]=Xt(1638885),tr[43]=Xt(623009),tr[44]=Xt(1572876),tr[45]=Xt(623010),tr[47]=Xt(1638887),tr[58]=Xt(1572879),tr[63]=Xt(1572880),tr[91]=Xt(671757),tr[93]=Xt(1835022),tr[123]=Xt(131080),tr[125]=Xt(1835018);let rr=null;const nr=[];let sr=!1;function ir(){return rr}function or(e){if(null==e)throw new Error("Connectable cannot be null/undefined");if(null==rr)return rr=e,nr[0]=rr,void(sr=!0);if(rr===e)throw new Error("Trying to enter an active connectable");nr.push(rr),rr=e,sr=!0}function ar(e){if(null==e)throw new Error("Connectable cannot be null/undefined");if(rr!==e)throw new Error("Trying to exit an unactive connectable");nr.pop(),rr=nr.length>0?nr[nr.length-1]:null,sr=null!=rr}const ur=Object.freeze({get current(){return rr},get connecting(){return sr},enter:or,exit:ar,pause:function(){sr=!1},resume:function(){sr=!0}}),lr=Reflect.get,cr=Object.prototype.toString,hr=new WeakMap;function dr(e){switch(cr.call(e)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const pr="__raw__";function fr(e){return dr(e)?gr(e):e}function gr(e){var t;return null!==(t=hr.get(e))&&void 0!==t?t:function(e){const t=e instanceof Array?mr:e instanceof Map||e instanceof Set?Nr:xr,r=new Proxy(e,t);return hr.set(e,r),r}(e)}function vr(e){var t;return null!==(t=e.__raw__)&&void 0!==t?t:e}function br(e){return dr(e)&&e.__raw__||e}function yr(e){return"constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag}const xr={get(e,t,r){if(t===pr)return e;const n=ir();return!sr||yr(t)||null==n?lr(e,t,r):(n.observeProperty(e,t),fr(lr(e,t,r)))}},mr={get(e,t,r){if(t===pr)return e;const n=ir();if(!sr||yr(t)||null==n)return lr(e,t,r);switch(t){case"length":return n.observeProperty(e,"length"),e.length;case"map":return wr;case"includes":return Or;case"indexOf":return Tr;case"lastIndexOf":return Sr;case"every":return Cr;case"filter":return kr;case"find":return Ar;case"findIndex":return Lr;case"flat":return Er;case"flatMap":return $r;case"join":return Br;case"push":return Pr;case"pop":return Ir;case"reduce":return Kr;case"reduceRight":return qr;case"reverse":return Vr;case"shift":return Mr;case"unshift":return Ur;case"slice":return Dr;case"splice":return jr;case"some":return Fr;case"sort":return _r;case"keys":return Jr;case"values":case Symbol.iterator:return Xr;case"entries":return Yr}return n.observeProperty(e,t),fr(lr(e,t,r))},ownKeys(e){var t;return null===(t=ir())||void 0===t||t.observeProperty(e,"length"),Reflect.ownKeys(e)}};function wr(e,t){var r;const n=vr(this),s=n.map(((r,n)=>br(e.call(t,fr(r),n,this))));return null===(r=ir())||void 0===r||r.observeCollection(n),fr(s)}function Cr(e,t){var r;const n=vr(this),s=n.every(((r,n)=>e.call(t,fr(r),n,this)));return null===(r=ir())||void 0===r||r.observeCollection(n),s}function kr(e,t){var r;const n=vr(this),s=n.filter(((r,n)=>br(e.call(t,fr(r),n,this))));return null===(r=ir())||void 0===r||r.observeCollection(n),fr(s)}function Or(e){var t;const r=vr(this),n=r.includes(br(e));return null===(t=ir())||void 0===t||t.observeCollection(r),n}function Tr(e){var t;const r=vr(this),n=r.indexOf(br(e));return null===(t=ir())||void 0===t||t.observeCollection(r),n}function Sr(e){var t;const r=vr(this),n=r.lastIndexOf(br(e));return null===(t=ir())||void 0===t||t.observeCollection(r),n}function Lr(e,t){var r;const n=vr(this),s=n.findIndex(((r,n)=>br(e.call(t,fr(r),n,this))));return null===(r=ir())||void 0===r||r.observeCollection(n),s}function Ar(e,t){var r;const n=vr(this),s=n.find(((t,r)=>e(fr(t),r,this)),t);return null===(r=ir())||void 0===r||r.observeCollection(n),fr(s)}function Er(){var e;const t=vr(this);return null===(e=ir())||void 0===e||e.observeCollection(t),fr(t.flat())}function $r(e,t){var r;const n=vr(this);return null===(r=ir())||void 0===r||r.observeCollection(n),gr(n.flatMap(((r,n)=>fr(e.call(t,fr(r),n,this)))))}function Br(e){var t;const r=vr(this);return null===(t=ir())||void 0===t||t.observeCollection(r),r.join(e)}function Ir(){return fr(vr(this).pop())}function Pr(...e){return vr(this).push(...e)}function Mr(){return fr(vr(this).shift())}function Ur(...e){return vr(this).unshift(...e)}function jr(...e){return fr(vr(this).splice(...e))}function Vr(...e){var t;const r=vr(this),n=r.reverse();return null===(t=ir())||void 0===t||t.observeCollection(r),fr(n)}function Fr(e,t){var r;const n=vr(this),s=n.some(((r,n)=>br(e.call(t,fr(r),n,this))));return null===(r=ir())||void 0===r||r.observeCollection(n),s}function _r(e){var t;const r=vr(this),n=r.sort(e);return null===(t=ir())||void 0===t||t.observeCollection(r),fr(n)}function Dr(e,t){var r;const n=vr(this);return null===(r=ir())||void 0===r||r.observeCollection(n),gr(n.slice(e,t))}function Kr(e,t){var r;const n=vr(this),s=n.reduce(((t,r,n)=>e(t,fr(r),n,this)),t);return null===(r=ir())||void 0===r||r.observeCollection(n),fr(s)}function qr(e,t){var r;const n=vr(this),s=n.reduceRight(((t,r,n)=>e(t,fr(r),n,this)),t);return null===(r=ir())||void 0===r||r.observeCollection(n),fr(s)}const Nr={get(e,t,r){if(t===pr)return e;const n=ir();if(!sr||yr(t)||null==n)return lr(e,t,r);switch(t){case"size":return n.observeProperty(e,"size"),e.size;case"clear":return Gr;case"delete":return Zr;case"forEach":return Rr;case"add":if(e instanceof Set)return Wr;break;case"get":if(e instanceof Map)return Hr;break;case"set":if(e instanceof Map)return Qr;break;case"has":return zr;case"keys":return Jr;case"values":return Xr;case"entries":return Yr;case Symbol.iterator:return e instanceof Map?Yr:Xr}return fr(lr(e,t,r))}};function Rr(e,t){var r;const n=vr(this);return null===(r=ir())||void 0===r||r.observeCollection(n),n.forEach(((r,n)=>{e.call(t,fr(r),fr(n),this)}))}function zr(e){var t;const r=vr(this);return null===(t=ir())||void 0===t||t.observeCollection(r),r.has(br(e))}function Hr(e){var t;const r=vr(this);return null===(t=ir())||void 0===t||t.observeCollection(r),fr(r.get(br(e)))}function Qr(e,t){return fr(vr(this).set(br(e),br(t)))}function Wr(e){return fr(vr(this).add(br(e)))}function Gr(){return fr(vr(this).clear())}function Zr(e){return fr(vr(this).delete(br(e)))}function Jr(){var e;const t=vr(this);null===(e=ir())||void 0===e||e.observeCollection(t);const r=t.keys();return{next(){const e=r.next(),t=e.done;return t?{value:void 0,done:t}:{value:fr(e.value),done:t}},[Symbol.iterator](){return this}}}function Xr(){var e;const t=vr(this);null===(e=ir())||void 0===e||e.observeCollection(t);const r=t.values();return{next(){const e=r.next(),t=e.done;return t?{value:void 0,done:t}:{value:fr(e.value),done:t}},[Symbol.iterator](){return this}}}function Yr(){var e;const t=vr(this);null===(e=ir())||void 0===e||e.observeCollection(t);const r=t.entries();return{next(){const e=r.next(),t=e.value,n=e.done;return n?{value:void 0,done:n}:{value:[fr(t[0]),fr(t[1])],done:n}},[Symbol.iterator](){return this}}}const en=Object.freeze({getProxy:gr,getRaw:vr,wrap:fr,unwrap:br,rawKey:pr});class tn{constructor(e,t,r,n,s){this.obj=e,this.get=t,this.set=r,this.useProxy=n,this.observerLocator=s,this.interceptor=this,this.type=1,this.value=void 0,this.oldValue=void 0,this.running=!1,this.isDirty=!1}static create(e,t,r,n,s){const i=new tn(e,r.get,r.set,s,n),o=()=>i.getValue();return o.getObserver=()=>i,z(e,t,{enumerable:r.enumerable,configurable:!0,get:o,set:e=>{i.setValue(e,0)}}),i}getValue(){return 0===this.subs.count?this.get.call(this.obj,this):(this.isDirty&&(this.compute(),this.isDirty=!1),this.value)}setValue(e,t){if("function"!=typeof this.set)throw new Error("Property is readonly");e!==this.value&&(this.running=!0,this.set.call(this.obj,e),this.running=!1,this.run())}handleChange(){this.isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.isDirty=!0,this.subs.count>0&&this.run()}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.compute(),this.isDirty=!1)}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&(this.isDirty=!0,this.obs.clear(!0))}flush(){rn=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,rn,0)}run(){if(this.running)return;const e=this.value,t=this.compute();this.isDirty=!1,Object.is(t,e)||(this.oldValue=e,this.queue.add(this))}compute(){this.running=!0,this.obs.version++;try{return or(this),this.value=br(this.get.call(this.useProxy?fr(this.obj):this.obj,this))}finally{this.obs.clear(!1),this.running=!1,ar(this)}}}let rn;yt(tn),te(tn),ae(tn);const nn=e.DI.createInterface("IDirtyChecker",(e=>e.singleton(an))),sn={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},on={persistent:!0};class an{constructor(e){this.platform=e,this.tracked=[],this.task=null,this.elapsedFrames=0,this.check=()=>{if(sn.disabled)return;if(++this.elapsedFrames<sn.timeoutsPerCheck)return;this.elapsedFrames=0;const e=this.tracked,t=e.length;let r,n=0;for(;n<t;++n)r=e[n],r.isDirty()&&this.queue.add(r)}}createProperty(e,t){if(sn.throw)throw new Error(`Property '${t}' is being dirty-checked.`);return new un(this,e,t)}addProperty(e){this.tracked.push(e),1===this.tracked.length&&(this.task=this.platform.taskQueue.queueTask(this.check,on))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),0===this.tracked.length&&(this.task.cancel(),this.task=null)}}an.inject=[e.IPlatform],ae(an);class un{constructor(e,t,r){this.dirtyChecker=e,this.obj=t,this.propertyKey=r,this.oldValue=void 0,this.type=0}getValue(){return this.obj[this.propertyKey]}setValue(e,t){throw new Error(`Trying to set value for property ${this.propertyKey} in dirty checker`)}isDirty(){return this.oldValue!==this.obj[this.propertyKey]}flush(){const e=this.oldValue,t=this.getValue();this.oldValue=t,this.subs.notify(t,e,0)}subscribe(e){this.subs.add(e)&&1===this.subs.count&&(this.oldValue=this.obj[this.propertyKey],this.dirtyChecker.addProperty(this))}unsubscribe(e){this.subs.remove(e)&&0===this.subs.count&&this.dirtyChecker.removeProperty(this)}}te(un);class ln{constructor(e,t){this.obj=e,this.propertyKey=t,this.type=0}get doNotCache(){return!0}getValue(){return this.obj[this.propertyKey]}setValue(){}subscribe(){}unsubscribe(){}}class cn{constructor(){this.type=0}getValue(e,t){return e[t]}setValue(e,t,r,n){r[n]=e}}let hn;class dn{constructor(e,t){this.obj=e,this.propertyKey=t,this.value=void 0,this.oldValue=void 0,this.observing=!1,this.type=1,this.f=0}getValue(){return this.value}setValue(e,t){if(this.observing){const r=this.value;if(Object.is(e,r))return;this.value=e,this.oldValue=r,this.f=t,this.queue.add(this)}else this.obj[this.propertyKey]=e}subscribe(e){!1===this.observing&&this.start(),this.subs.add(e)}flush(){hn=this.oldValue,this.oldValue=this.value,this.subs.notify(this.value,hn,this.f)}start(){return!1===this.observing&&(this.observing=!0,this.value=this.obj[this.propertyKey],z(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:e=>{this.setValue(e,0)}})),this}stop(){return this.observing&&(z(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,writable:!0,value:this.value}),this.observing=!1),this}}class pn{constructor(e,t,r,n){this.type=1,this.v=void 0,this.oV=void 0,this.f=0,this.obj=e,this.s=r;const s=e[t];this.cb="function"==typeof s?s:void 0,this.v=n}getValue(){return this.v}setValue(e,t){var r;"function"==typeof this.s&&(e=this.s(e)),Object.is(e,this.v)||(this.oV=this.v,this.v=e,this.f=t,null===(r=this.cb)||void 0===r||r.call(this.obj,this.v,this.oV,t),this.queue.add(this))}flush(){hn=this.oV,this.oV=this.v,this.subs.notify(this.v,hn,this.f)}}te(dn),te(pn),ae(dn),ae(pn);const fn=new cn,gn=e.DI.createInterface("IObserverLocator",(e=>e.singleton(yn))),vn=e.DI.createInterface("INodeObserverLocator",(t=>t.cachedCallback((t=>(t.getAll(e.ILogger).forEach((e=>{e.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new bn)))));class bn{handles(){return!1}getObserver(){return fn}getAccessor(){return fn}}class yn{constructor(e,t){this.dirtyChecker=e,this.nodeObserverLocator=t,this.adapters=[]}addAdapter(e){this.adapters.push(e)}getObserver(e,t){var r,n;return null!==(n=null===(r=e.$observers)||void 0===r?void 0:r[t])&&void 0!==n?n:this.cache(e,t,this.createObserver(e,t))}getAccessor(e,t){var r;const n=null===(r=e.$observers)||void 0===r?void 0:r[t];return void 0!==n?n:this.nodeObserverLocator.handles(e,t,this)?this.nodeObserverLocator.getAccessor(e,t,this):fn}getArrayObserver(e){return Ve(e)}getMapObserver(e){return lt(e)}getSetObserver(e){return Ze(e)}createObserver(t,r){var n,s,i,o;if(!(t instanceof Object))return new ln(t,r);if(this.nodeObserverLocator.handles(t,r,this))return this.nodeObserverLocator.getObserver(t,r,this);switch(r){case"length":if(t instanceof Array)return Ve(t).getLengthObserver();break;case"size":if(t instanceof Map)return lt(t).getLengthObserver();if(t instanceof Set)return Ze(t).getLengthObserver();break;default:if(t instanceof Array&&e.isArrayIndex(r))return Ve(t).getIndexObserver(Number(r))}let a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){let e=Object.getPrototypeOf(t);for(;null!==e&&(a=Object.getOwnPropertyDescriptor(e,r),void 0===a);)e=Object.getPrototypeOf(e)}if(void 0!==a&&!Object.prototype.hasOwnProperty.call(a,"value")){let e=this.getAdapterObserver(t,r,a);return null==e&&(e=null===(o=null!==(s=null===(n=a.get)||void 0===n?void 0:n.getObserver)&&void 0!==s?s:null===(i=a.set)||void 0===i?void 0:i.getObserver)||void 0===o?void 0:o(t,this)),null==e?a.configurable?tn.create(t,r,a,this,!0):this.dirtyChecker.createProperty(t,r):e}return new dn(t,r)}getAdapterObserver(e,t,r){if(this.adapters.length>0)for(const n of this.adapters){const s=n.getObserver(e,t,r,this);if(null!=s)return s}return null}cache(e,t,r){return!0===r.doNotCache?r:void 0===e.$observers?(z(e,"$observers",{value:{[t]:r}}),r):e.$observers[t]=r}}yn.inject=[nn,vn];const xn=e.DI.createInterface("IObservation",(e=>e.singleton(mn)));class mn{constructor(e){this.observerLocator=e}static get inject(){return[gn]}run(e){const t=new wn(this.observerLocator,e);return t.run(),t}}class wn{constructor(e,t){this.observerLocator=e,this.fn=t,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("Effect has already been stopped");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{or(this),this.fn(this)}finally{this.obs.clear(!1),this.running=!1,ar(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("Maximum number of recursive effect run reached. Consider handle effect dependencies differently.");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clear(!0)}}yt(wn);const Cn={};function kn(e,t,r,n,s){const i=function(e){return void 0===e.$observers&&z(e,"$observers",{value:{}}),e.$observers}(e);let o=i[t];return null==o&&(o=new pn(e,r,s,n===Cn?void 0:n),i[t]=o),o}Object.defineProperty(exports,"IPlatform",{enumerable:!0,get:function(){return e.IPlatform}}),Object.defineProperty(exports,"Platform",{enumerable:!0,get:function(){return t.Platform}}),Object.defineProperty(exports,"Task",{enumerable:!0,get:function(){return t.Task}}),Object.defineProperty(exports,"TaskAbortError",{enumerable:!0,get:function(){return t.TaskAbortError}}),Object.defineProperty(exports,"TaskQueue",{enumerable:!0,get:function(){return t.TaskQueue}}),Object.defineProperty(exports,"TaskQueuePriority",{enumerable:!0,get:function(){return t.TaskQueuePriority}}),Object.defineProperty(exports,"TaskStatus",{enumerable:!0,get:function(){return t.TaskStatus}}),exports.AccessKeyedExpression=S,exports.AccessMemberExpression=T,exports.AccessScopeExpression=O,exports.AccessThisExpression=k,exports.ArrayBindingPattern=V,exports.ArrayIndexObserver=je,exports.ArrayLiteralExpression=P,exports.ArrayObserver=Ue,exports.AssignExpression=w,exports.BinaryExpression=$,exports.BindingBehavior=p,exports.BindingBehaviorDefinition=c,exports.BindingBehaviorExpression=x,exports.BindingBehaviorFactory=h,exports.BindingContext=s,exports.BindingIdentifier=_,exports.BindingInterceptor=d,exports.BindingMediator=xt,exports.BindingObserverRecord=vt,exports.CallFunctionExpression=E,exports.CallMemberExpression=A,exports.CallScopeExpression=L,exports.CollectionLengthObserver=he,exports.CollectionSizeObserver=de,exports.ComputedObserver=tn,exports.ConditionalExpression=C,exports.ConnectableSwitcher=ur,exports.CustomExpression=y,exports.DirtyCheckProperty=un,exports.DirtyCheckSettings=sn,exports.FlushQueue=le,exports.ForOfStatement=K,exports.HtmlLiteralExpression=class{constructor(e){this.parts=e}get $kind(){return 51}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,r,n){let s="";for(let i=0;i<this.parts.length;++i){const o=this.parts[i].evaluate(e,t,r,n);null!=o&&(s+=o)}return s}assign(e,t,r,n,s){}accept(e){return e.visitHtmlLiteral(this)}toString(){return b.unparse(this)}},exports.IDirtyChecker=nn,exports.IExpressionParser=mt,exports.INodeObserverLocator=vn,exports.IObservation=xn,exports.IObserverLocator=gn,exports.ISignaler=a,exports.Interpolation=q,exports.MapObserver=ut,exports.ObjectBindingPattern=F,exports.ObjectLiteralExpression=M,exports.Observation=mn,exports.ObserverLocator=yn,exports.OverrideContext=o,exports.ParserState=Mt,exports.PrimitiveLiteralExpression=I,exports.PrimitiveObserver=ln,exports.PropertyAccessor=cn,exports.ProxyObservable=en,exports.Scope=i,exports.SetObserver=Ge,exports.SetterObserver=dn,exports.SubscriberRecord=ne,exports.TaggedTemplateExpression=j,exports.TemplateExpression=U,exports.UnaryExpression=B,exports.ValueConverter=g,exports.ValueConverterDefinition=f,exports.ValueConverterExpression=m,exports.alias=function(...t){return function(r){const n=e.Protocol.annotation.keyFor("aliases"),s=e.Metadata.getOwn(n,r);void 0===s?e.Metadata.define(n,t,r):s.push(...t)}},exports.applyMutationsToIndices=function(e){let t=0,r=0;const n=e.length;for(let s=0;s<n;++s){for(;e.deletedItems[r]<=s-t;)++r,--t;-2===e[s]?++t:e[s]+=t}},exports.bindingBehavior=function(e){return function(t){return p.define(e,t)}},exports.cloneIndexMap=function(e){const t=e.slice();return t.deletedItems=e.deletedItems.slice(),t.isIndexMap=!0,t},exports.connectable=yt,exports.copyIndexMap=function(e,t){const{length:r}=e,n=Array(r);let s=0;for(;s<r;)n[s]=e[s],++s;return n.deletedItems=void 0!==t?t.slice(0):void 0!==e.deletedItems?e.deletedItems.slice(0):[],n.isIndexMap=!0,n},exports.createIndexMap=ee,exports.disableArrayObservation=function(){for(const e of Be)!0===Ce[e].observing&&H(Ce,e,$e[e])},exports.disableMapObservation=function(){for(const e of nt)!0===Xe[e].observing&&z(Xe,e,{...it,value:rt[e]})},exports.disableSetObservation=function(){for(const e of Re)!0===_e[e].observing&&z(_e,e,{...He,value:Ne[e]})},exports.enableArrayObservation=Me,exports.enableMapObservation=at,exports.enableSetObservation=We,exports.getCollectionObserver=function(e){let t;return e instanceof Array?t=Ve(e):e instanceof Map?t=lt(e):e instanceof Set&&(t=Ze(e)),t},exports.isIndexMap=function(e){return e instanceof Array&&!0===e.isIndexMap},exports.observable=function(e,t,r){return null==t?(t,r,s)=>n(t,r,s,e):n(e,t,r);function n(e,t,r,n){var s;const i=void 0===t;if(n="object"!=typeof n?{name:n}:n||{},i&&(t=n.name),null==t||""===t)throw new Error("Invalid usage, cannot determine property name for @observable");const o=n.callback||`${String(t)}Changed`;let a=Cn;r?(delete r.value,delete r.writable,a=null===(s=r.initializer)||void 0===s?void 0:s.call(r),delete r.initializer):r={configurable:!0},"enumerable"in r||(r.enumerable=!0);const u=n.set;if(r.get=function(){var e;const r=kn(this,t,o,a,u);return null===(e=ir())||void 0===e||e.subscribeTo(r),r.getValue()},r.set=function(e){kn(this,t,o,a,u).setValue(e,0)},r.get.getObserver=function(e){return kn(e,t,o,a,u)},!i)return r;z(e.prototype,t,r)}},exports.parse=jt,exports.parseExpression=function(e,t){return Ut.input=e,Ut.length=e.length,Ut.index=0,Ut.currentChar=e.charCodeAt(0),jt(Ut,0,61,void 0===t?53:t)},exports.registerAliases=r,exports.subscriberCollection=te,exports.synchronizeIndices=function(e,t){const r=e.slice(),n=t.length;let s=0,i=0;for(;s<n;)i=t[s],-2!==i&&(e[s]=r[i]),++s},exports.valueConverter=function(e){return function(t){return g.define(e,t)}},exports.withFlushQueue=ae;
