{"version":3,"file":"index.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../src/validation-controller.ts","../../src/subscribers/common.ts","../../src/subscribers/validation-container-custom-element.ts","../../src/subscribers/validation-errors-custom-attribute.ts","../../src/validate-binding-behavior.ts","../../src/configuration.ts","../../src/subscribers/validation-result-presenter-service.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ValidateEventKind","ControllerValidateResult","constructor","valid","results","instruction","this","ValidationResultTarget","result","targets","ValidationEvent","kind","addedResults","removedResults","BindingInfo","scope","rules","propertyInfo","PropertyInfo","object","propertyName","getPropertyInfo","binding","info","flags","expression","sourceExpression","locator","toCachePropertyName","$kind","memberName","name","keyExpr","evaluate","toString","Error","separator","startsWith","bindingContext","IValidationController","DI","createInterface","ValidationController","validator","parser","platform","bindings","Map","subscribers","Set","validating","elements","WeakMap","objects","addObject","set","removeObject","delete","processResultDelta","filter","addError","message","resolvedPropertyName","parsePropertyName","ValidationResult","undefined","removeError","includes","addSubscriber","subscriber","add","removeSubscriber","registerBinding","unregisterBinding","resetBinding","validate","obj","objectTag","instructions","ValidateInstruction","_a","get","propertyTag","Array","from","entries","map","reduce","acc","has","push","task","domReadQueue","queueTask","async","Promise","all","x","newResults","resultSet","predicate","getInstructionPredicate","oldResults","find","reset","validateBinding","isBound","bindingInfo","revalidateErrors","isManual","propertyRule","rule","value","promises","innerMap","validationRules","messageProvider","property","PropertyRule","some","$rules","flat","every","$r","getAssociatedElements","eventData","slice","oldResult","removalTargets","newResultIndex","findIndex","splice","indexOf","newResult","newTargets","handleValidationEvent","IValidator","IExpressionParser","IPlatform","IServiceLocator","ValidationControllerFactory","Type","registerTransformer","_transformer","construct","container","_dynamicDependencies","invoke","compareDocumentPositionFlat","a","b","compareDocumentPosition","defaultContainerTemplate","defaultContainerDefinition","shadowOptions","mode","hasSlots","ValidationContainerCustomElement","host","scopedController","errors","event","index","e","contains","sort","controller","unbinding","bindable","prototype","INode","optional","ValidationErrorsCustomAttribute","errorsInternal","primary","BindingMode","twoWay","customAttribute","ValidationTrigger","IDefaultTrigger","ValidateBindingBehavior","BindingInterceptor","expr","super","propertyBinding","isChangeTrigger","triggerMediator","BindingMediator","oL","controllerMediator","rulesMediator","isDirty","validatedOnce","triggerEvent","defaultTrigger","setPropertyBinding","updateSource","interceptor","handleEvent","_event","$bind","setTarget","delta","processBindingExpressionArgs","processDelta","$unbind","cancel","_b","removeEventListener","_c","_d","handleTriggerChange","newValue","_previousValue","_flags","ValidateArgumentsDelta","ensureTrigger","handleControllerChange","ensureController","handleRulesChange","ensureRules","trigger","evaluationFlags","args","ii","arg","change","changeOrBlur","changeOrFocusout","setTriggerEvent","addEventListener","setBindingInfo","values","isArray","item","PropertyBinding","Node","$controller","blur","focusout","bindingBehavior","getDefaultValidationHtmlConfiguration","getDefaultValidationConfiguration","ValidationControllerFactoryType","DefaultTrigger","UseSubscriberCustomAttribute","SubscriberCustomElementTemplate","createConfiguration","optionsProvider","register","options","registerFactory","ValidationConfiguration","customize","opt","optKey","keys","Registration","instance","template","CustomElement","define","cb","ValidationHtmlConfiguration","noop","resultIdAttribute","resultContainerAttribute","ValidationResultPresenterService","reverseMap","remove","messageContainer","getValidationMessageContainer","removeResults","showResults","parent","parentElement","querySelector","document","createElement","setAttribute","appendChild","append","span","id","textContent","targetResults"],"mappings":"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"}